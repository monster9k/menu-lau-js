/*! For license information please see main.e24168d88848684987dc.js.LICENSE.txt */
var pageos;(self.webpackChunkpageos=self.webpackChunkpageos||[]).push([[792],{9980:(e,t,i)=>{"use strict";i.r(t);i(1106);(()=>{window.PageOS=window.PageOS||{},window.PageOS.BUS={};const e=window.PageOS.BUS;e.events={},e.data={},e.on=(t,i,n=!0)=>{e.events[t]=e.events[t]||[],e.events[t].push({fn:i,once:n})},e.after=(t,i)=>{e.data.hasOwnProperty(t)&&e.events[t]?i(e.data[t]):e.on(t,i,!0)},e.off=(t,i)=>{const n=e.events[t];if(n)for(let e=0;e<n.length;e++)if(n[e].fn===i){n.splice(e,1);break}},e.emit=(t,i)=>{e.data[t]=i||null,e.events[t]=e.events[t]||[];const n=e.events[t].filter((e=>{try{e.fn(i)}catch(e){console.warn("Error in Event Bus Callback function.",e)}return!1===e.once}));e.events[t]=n}})();const n=()=>{try{return localStorage.setItem("test","test"),localStorage.getItem("test"),localStorage.removeItem("test"),!0}catch(e){return!1}};var o,s=new Uint8Array(16);function r(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const d=function(e){return"string"==typeof e&&a.test(e)};for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));const p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!d(i))throw TypeError("Stringified UUID is invalid");return i};const g=function(e,t,i){var n=(e=e||{}).random||(e.rng||r)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var o=0;o<16;++o)t[i+o]=n[o];return t}return p(n)};function u(e=""){return`${e}_${g()}_${Date.now()}`}new class{constructor(){if(window.PageOS=window.PageOS||{},window.PageOS.session=window.PageOS.session||{},!0===window.PageOS.session.loaded)return!1;window.PageOS.session.loaded=!0,this.MODULE=window.PageOS.session,this.hasLocalStorage=n(),this.MODULE.getUUID=null,this.MODULE.getCookieSyncUID=null,this.MODULE.setCookieSyncUID=()=>null,this.MODULE.getDuration=()=>null,this.MODULE.getPageNumber=null,this.MODULE.newPageView=()=>null,this.hasLocalStorage&&(this.init(),this.MODULE.newPageView=()=>{this.init(),window.PageOS.dataStream.sendPageViewEvent()})}init(){this.sessionInfo=this.getSessionInfo(),this.setUUID(),this.setDuration(),this.setPageNumber(),this.MODULE.getUUID=this.getUUID(),this.MODULE.getCookieSyncUID=this.getCookieSyncUID(),this.MODULE.setCookieSyncUID=e=>this.setCookieSyncUID(e),this.MODULE.getDuration=this.getDuration.bind(this),this.MODULE.getPageNumber=this.getPageNumber()}getSessionInfo(){const e=JSON.parse(localStorage.getItem("PageOS_Session"))||{};return void 0!==e.lastVisit&&(Date.now()-e.lastVisit>18e5||this.checkMidnight(e.lastVisit))?(localStorage.removeItem("PageOS_Session"),{}):e}checkMidnight(e){const t=new Date(e).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>0}getDuration(){return Date.now()-this.sessionInfo.firstVisit}setDuration(){void 0===this.sessionInfo.firstVisit&&(this.sessionInfo.firstVisit=Date.now(),this.storeSessionInfo(this.sessionInfo))}getPageNumber(){return this.sessionInfo.pageNumber}setPageNumber(){"number"!=typeof this.sessionInfo.pageNumber?this.sessionInfo.pageNumber=1:++this.sessionInfo.pageNumber,this.setLastVisit(),this.storeSessionInfo(this.sessionInfo)}setLastVisit(){this.sessionInfo.lastVisit=Date.now(),this.storeSessionInfo(this.sessionInfo)}getUUID(){return this.sessionInfo.UUID}setUUID(){this.sessionInfo.UUID||(this.sessionInfo.UUID=u("session"),this.storeSessionInfo(this.sessionInfo))}getCookieSyncUID(){return this.sessionInfo.cookieSyncUUID}setCookieSyncUID(e){this.sessionInfo.cookieSyncUUID=e,this.storeSessionInfo(this.sessionInfo)}storeSessionInfo(e){localStorage.setItem("PageOS_Session",JSON.stringify(e))}};const w=document.getElementById("pwUserOptOut"),m=()=>{try{const e=window.PageOS.userData.toggleOptOut()?"Out":"In";window.alert(`You have successfully Opted-${e}`)}catch(e){}},h=e=>{w&&(w.innerText=e?"Opt In":"Opt Out")};w&&(w.onclick=m,(f=w)&&(f.style.cursor="pointer"));var f,y=i(6624);class b{constructor(){window.PageOS=window.PageOS||{};const e=(0,y.v9)();if(this.utmParams={utm_campaign:e.utm_campaign,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_template:e.utm_template,utm_content:e.utm_content,utm_referrer:e.utm_referrer,utm_subid:e.utm_subid,utm_term:e.utm_term},this.keyVals={cust_cli_tag_1:null,cust_cli_tag_2:null,cust_cli_tag_3:null,cust_cli_tag_4:null,cust_cli_tag_5:null,cust_cli_tag_6:null,cust_cli_tag_7:null,cust_cli_tag_8:null,cust_cli_tag_9:null,cust_cli_tag_10:null,cust_cli_tag_11:null,cust_cli_tag_12:null},this.keyValsReporting={cust_pub_reporting_1:null,cust_pub_reporting_2:null,cust_pub_reporting_3:null,cust_pub_reporting_4:null,cust_pub_reporting_5:null},this.customReportingDimensions={cst_fld_1:null,cst_fld_2:null,cst_fld_3:null,cst_fld_4:null,cst_fld_5:null,cst_fld_6:null,cst_fld_7:null,cst_fld_8:null,cst_fld_9:null,cst_fld_10:null,cst_fld_11:null,cst_fld_12:null},window.ramp&&window.ramp.custom_tags){const e=window.ramp.custom_tags;if(Array.isArray(e)&&e.length>0)for(let t=1;t<13;t++)this.keyVals[`cust_cli_tag_${t}`]=e[t-1]}if(window.ramp&&window.ramp.custom_dimensions){const e=window.ramp.custom_dimensions;if(Array.isArray(e)&&e.length>0)for(let t=1;t<=12;t++)this.customReportingDimensions[`cst_fld_${t}`]=e[t-1]}window.PageOS.getClientTag=this.getClientTag.bind(this),window.PageOS.getAllClientTags=this.getAllClientTags.bind(this),window.PageOS.setClientTag=this.setClientTag.bind(this),window.PageOS.clearAllTags=this.clearAllTags.bind(this),window.PageOS.getAllCustomReportingKVs=this.getAllCustomReportingKVs.bind(this),window.PageOS.setCustomReporting=this.setCustomReporting.bind(this),window.PageOS.getAllUtmParams=this.getAllUtmParams.bind(this),window.PageOS.getCustomReportingDimension=this.getCustomReportingDimension.bind(this),window.PageOS.setCustomReportingDimension=this.setCustomReportingDimension.bind(this),window.PageOS.getAllDimensions=this.getAllDimensions.bind(this)}getClientTag(e){return this.keyVals[`cust_cli_tag_${e}`]}getAllClientTags(){return this.keyVals}getAllDimensions(){return this.customReportingDimensions}getAllCustomReportingKVs(){return Object.keys(this.keyValsReporting).filter((e=>null!==this.keyValsReporting[e])).reduce(((e,t)=>(e[t]=this.keyValsReporting[t],e)),{})}getAllUtmParams(){return Object.keys(this.utmParams).filter((e=>void 0!==this.utmParams[e])).reduce(((e,t)=>(e[t]=this.utmParams[t],e)),{})}setClientTag(e,t){t=t.trim();const i=parseInt(e,10);!i||i<1||i>12||!t||(this.keyVals[`cust_cli_tag_${i}`]=t,window.PageOS.BUS.emit("CUSTOM_CLIENT_TAGS",this.keyVals))}setCustomReporting(e,t){t=t.trim();const i=parseInt(e,10);i<1||i>5||!t||(this.keyValsReporting[`cust_pub_reporting_${i}`]=t,window.PageOS.BUS.emit("CUSTOM_REPORTING",this.keyValsReporting))}clearAllTags(){this.keyVals={cust_cli_tag_1:null,cust_cli_tag_2:null,cust_cli_tag_3:null,cust_cli_tag_4:null,cust_cli_tag_5:null,cust_cli_tag_6:null,cust_cli_tag_7:null,cust_cli_tag_8:null,cust_cli_tag_9:null,cust_cli_tag_10:null,cust_cli_tag_11:null,cust_cli_tag_12:null},window.PageOS.BUS.emit("CUSTOM_CLIENT_TAGS",this.keyVals)}getCustomReportingDimension(e){return this.customReportingDimensions[`cst_fld_${e}`]}setCustomReportingDimension(e,t){t=t.trim();const i=parseInt(e,10);!i||i<1||i>12||!t||(this.customReportingDimensions[`cst_fld_${i}`]=t,window.PageOS.BUS.emit("CUSTOM_REPORTING_DIMENSIONS",this.customReportingDimensions))}}const _=class{constructor(e={}){this.app=e.app||{name:""},this.context=e,this.setLevel(e.filterLevel);const t=(e,t)=>({value:e,name:t});this.TRACE=t(1,"TRACE"),this.DEBUG=t(2,"DEBUG"),this.INFO=t(3,"INFO"),this.WARN=t(5,"WARN"),this.ERROR=t(8,"ERROR"),this.OFF=t(99,"OFF"),this.diagnosticsTool=(0,y.al)("pw_diagnostics"),this.KINESIS_LEVELS={},this.sampling=!0,void 0!==window._pwLogger&&Object.keys(window._pwLogger).forEach((t=>{const i=t.toLocaleLowerCase();(e.name&&e.name.toLowerCase()===i||this.app.name.toLowerCase().indexOf(i)>-1)&&(this.KINESIS_LEVELS=window._pwLogger[t])}))}merge(...e){const t=e[0];let i,n;for(n=1;n<e.length;n++)for(i in e[n])!(i in t)&&e[n].hasOwnProperty(i)&&(t[i]=e[n][i]);return t}enabledFor(e){const t=this.context.filterLevel;return e.value>=t.value}setLevel(e,t){if(t&&(this.name=t),e&&"value"in e){try{this.name&&window.sessionStorage.setItem(`_pwLogger:${this.name}`,e.name)}catch(e){}this.context.filterLevel=e}}getLevel(){return this.context.filterLevel}trace(...e){this.invoke(this.TRACE,e)}debug(...e){this.invoke(this.DEBUG,e)}info(...e){this.invoke(this.INFO,e)}warn(...e){this.diagnosticsTool&&window.PageOS.BUS.emit("diagnostics_error",e),this.invoke(this.WARN,e)}error(...e){this.diagnosticsTool&&window.PageOS.BUS.emit("diagnostics_error",e),this.invoke(this.ERROR,e)}addStyle(e){this.style||(this.style=""),this.style+=`;${e}`}invoke(e,t){this.style&&(t[2]+=`;${this.style}`),this.logHandler&&this.enabledFor(e)&&this.logHandler(t,this.merge({level:e},this.context)),"number"==typeof this.KINESIS_LEVELS[e.name]&&this.logWithKinesis(e,this.KINESIS_LEVELS[e.name],t)}logWithKinesis(e,t,i){const n=window.PageOS.dataStream.getRINucleus(),o={event_type:"loggers",id:window.PageOS.dataStream.randomUuid("loggers"),ramp_session_id:window.PageOS.session.getUUID,sampling_rate:t,name:this.name,log:{message:i[0],data:i[1]},level:e.name,app:this.app,...n};try{const e=`${JSON.stringify(o)}\n`,t={Data:e,PartitionKey:`partition-${Date.now()}`};window.PageOS.dataStream.send({records:t,streamName:"apps-production",sampling:!1})}catch(e){console.error("[PageOS - Kinesis] _stringifyData Error",{message:e.message})}}},v=(()=>{try{return!!window.localStorage.getItem("pwForceLogs")}catch(e){return!1}})();(()=>{window.PageOS=window.PageOS||{},window.PageOS.logger=window.PageOS.logger||{};const e=window.PageOS.logger;e.loggersByName={};const t=new _;Object.assign(e,t),e.enabledFor=t.enabledFor.bind(t),e.trace=t.trace.bind(t),e.debug=t.debug.bind(t),e.info=t.info.bind(t),e.warn=t.warn.bind(t),e.error=t.error.bind(t),e.setHandler=(e,t)=>{t.logHandler=e},e.setLevel=i=>{if(v)return;t.setLevel(i);const n=Object.keys(e.loggersByName);for(let t=0;t<n.length;t++){const o=n[t];e.loggersByName.hasOwnProperty(o)&&e.loggersByName[o].setLevel(i)}},e.getLevel=()=>t.getLevel(),e.get=(i,n={})=>{if(i=i.toUpperCase(),n.app&&n.app.name&&(i=`${n.app.name.toUpperCase()}_${i}`),e.loggersByName[i])return e.loggersByName[i];const o=new _(t.merge({name:i,...n},t.context));return e.loggersByName[i]=o,e.useDefaults(n,o,i),v&&o.setLevel(o.INFO),o},e.createDefaultHandler=e=>{e=e||{};return"undefined"==typeof console?function(){}:(i,n)=>{i=Array.prototype.slice.call(i);let o=console.log;const s=n.level.value;s===t.WARN.value&&console.warn?o=console.warn:s===t.ERROR.value&&console.error?o=console.error:s===t.INFO.value&&console.info?o=console.info:s===t.DEBUG.value&&console.debug?o=console.debug:s===t.TRACE.value&&console.trace&&(o=console.trace),e.formatter&&e.formatter(i,n),((e,t,i)=>{const[n,o,s,...r]=t,[a,...d]=i.name.split("_"),l=[`${d.length?`[${a}]:[${d.join("_")}]`:`[${a}]`} ${s?"%c":""}${n}`];s&&l.push(s),o&&l.push(o),e.apply.call(e,console,l.concat(r))})(o,i,n)}},e.useDefaults=(t={},i,n)=>{let o=t.defaultLevel;if(!o)try{o=window.sessionStorage.getItem(`_pwLogger:${n}`)}catch(e){}null===o&&(o="OFF"),i.setLevel(i[o],n),e.setHandler(e.createDefaultHandler(t),i)}})();var S=i(6061);const A=()=>{let e=!0,t=0,i=!0;if(window.pwEdgeFlags&&"object"==typeof window.pwEdgeFlags.benchmarks){const{sampling:n,rate:o}=window.pwEdgeFlags.benchmarks;"boolean"==typeof n&&"number"==typeof o&&(e=n,t=o),!1===window.pwEdgeFlags.benchmarks.samplingCornerVideoEnabled&&(i=!1)}return{samplingEnabled:e,samplingRate:t,samplingCornerVideoEnabled:i}},{samplingEnabled:k,samplingRate:E,samplingCornerVideoEnabled:I}=A();window.PageOS.benchmarks=window.PageOS.benchmarks||new class{constructor(){this.events={},this.samplingEnabled=k,this.samplingRate=E,this.samplingCornerVideoStatus=I}trackStart(e){this.events[e]=this.events[e]||{},this.events[e].start=window.performance.now(),this._emit(e)}trackEnd(e){this.events[e]=this.events[e]||{},this.events[e].end=window.performance.now(),this._emit(e)}trackPageAnalytics(e,t,i,n=void 0,o=void 0,s){this.events[e]=this.events[e]||{},this.events[e].type=`${e}`,this.events[e].pf_dr=t,this.events[e].pf_ts=i,n&&(this.events[e].ad_details=n),o&&(this.events[e].config_id=o),s&&(this.events[e].firstInteractionType=s),(this.events[e].ad_details&&"corner_ad_video"===this.events[e].ad_details.slot_id&&!1===this.samplingCornerVideoStatus||!1===this.samplingEnabled)&&this.sendPageAnalytics(this.events[e])}sendPageAnalytics(e){window.PageOS.dataStream.handleEvent("pageAnalyticsBenchmarks",{uuid:u("pageAnalyticsBenchmarks"),type:e.type,pf_dr:e.pf_dr,pf_ts:e.pf_ts,ad_details:e.ad_details?e.ad_details:null,config_id:e.config_id?e.config_id:null,first_interaction_type:e.firstInteractionType?e.firstInteractionType:null})}_emit(e){this.events[e].start&&this.events[e].end&&(S.W4.info(e,this.events[e].end-this.events[e].start),this.events[e]={})}sendMLBenchmarks(e){e&&S.W4.info(e?.name,e?.duration||0)}};const P=()=>{const e=(()=>{let e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|opr|msie|yabrowser|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):"Chrome"===i[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!==e)?{name:e[1].replace("OPR","Opera"),version:e[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),{name:i[0].replace("OPR","Opera").replace("YaBrowser","Yandex"),version:i[1]})})();return{name:e.name.toLowerCase(),version:e.version,cookieEnabled:window.navigator.cookieEnabled,javaEnabled:window.navigator.javaEnabled(),protocol:window.location.protocol,width:window.innerWidth,height:window.innerHeight,screenWidth:window.screen.width,screenHeight:window.screen.height}};var O=i(6030);function x(){window.PageOS.environment=window.PageOS.environment||{};const e=window.PageOS.environment;if(function(e){const t=document.createElement("div");t.id="adBanner",t.classList.add("adLeaderboard","adBanner","leaderboard_ad"),t.style.backgroundColor="transparent",t.style.height="10px",t.style.width="10px",t.style.position="fixed",t.style.bottom="-100px",t.style.left="-100px",t.innerHTML="&nbsp;";const i=t=>{e.adBlock=0===t.getBoundingClientRect().height;const i=new Image;i.onload=()=>{!0!==e.adBlock&&(e.adBlock=!1)},i.onerror=()=>{e.adBlock=!0},i.src="https://raw.githubusercontent.com/easylist/easylist/master/docs/1x1.gif"};if(document.body)document.body.appendChild(t),i(t);else{const e=new MutationObserver((()=>{document.body&&(document.body.appendChild(t),i(t),e.disconnect())}));e.observe(document.documentElement,{childList:!0})}}(e),e.getBrowserInfo=P,e.hasLocalStorage=n(),e.isMobile=(0,O.Fr)(),e.referrerDomain=function(e=document.referrer){if("string"==typeof e&&""!==e){let t=e.split("//")[1].split("/")[0];return 0===t.indexOf("www.")&&(t=t.slice(4)),t}return""}(),e.OS=function(e=navigator.userAgent){const t=e.indexOf("("),i=e.indexOf(")"),n=e.slice(t+1,i),o={};if(n.indexOf("CrOS")>-1){o.name="ChromeOS",o.version=null;const e=n.split(" ");return o.version=e[e.length-1].split(".")[0].split("_")[0],o}if(n.indexOf("Windows NT")>-1)return o.name="Windows",o.version=null,n.indexOf("Windows NT 5.0")>-1&&(o.version="2000"),n.indexOf("Windows NT 5.1")>-1&&(o.version="XP"),n.indexOf("Windows NT 6.0")>-1&&(o.version="Vista"),n.indexOf("Windows NT 6.1")>-1&&(o.version="7"),n.indexOf("Windows NT 6.2")>-1&&(o.version="8"),n.indexOf("Windows NT 6.3")>-1&&(o.version="8.1"),n.indexOf("Windows NT 10.0")>-1&&(o.version="10"),o;if(n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1){o.name="iOS",o.version=null;const e=n.indexOf("OS")+3;return o.version=n.slice(e,e+2).replace(";","").replace(".","").replace("_","").replace(" ",""),o}if(n.indexOf("Mac OS X 10")>-1){o.name="Mac OS X",o.version=null;const e=n.indexOf("Mac OS X 10")+12;return o.version=n.slice(e,e+2).replace(";","").replace(".","").replace("_","").replace(" ",""),o}if(n.indexOf("Linux")>-1)return o.name="Linux",o.version=null,o;if(n.indexOf("Android")>-1&&-1===n.indexOf("Windoes")){o.name="Android",o.version=null;const e=n.indexOf("Android")+8;return o.version=n.slice(e,e+2).replace(";","").replace(".","").replace("_","").replace(" ",""),o}return o.name=null,o.version=null,o}(),e.getHour=()=>(new Date).getHours().toString(),e.getDay=()=>({0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[(new Date).getDay()]),e.getBrowserTargeting=()=>{const t=e.getBrowserInfo();let i="Other";switch(t.name){case"chrome":i="Chrome";break;case"edge":i="Edge";break;case"ie":i="IE";break;case"firefox":i="Firefox";break;case"safari":case"mobile safari":i="Safari";break;case"opera":i="Opera";break;case"yandex":i="Yandex"}return i+=` ${t.version}`,i},n&&localStorage.getItem("PageOS_Environment")){const{renderer:t,vendor:i}=JSON.parse(localStorage.getItem("PageOS_Environment"));e.getRenderer=t,e.getVendor=i}else i.e(950).then(i.bind(i,2337)).then((({default:t})=>{const{renderer:i,vendor:o}=t(n);e.getRenderer=i,e.getVendor=o})).catch((()=>{e.getRenderer=null,e.getVendor=null}));e.cookieTest=()=>{window.PageOS.environment.tpcEnabled="unknown";let e=0;const t=setInterval((()=>{e++,100===e&&(delete window.PageOS.environment.tpcEnabled,window.removeEventListener("message",i),document.body.removeChild(n),window.PageOS.BUS.emit("tpcCheck_ready"),clearInterval(t))}),100),i=e=>{try{const o=JSON.parse(e.data);if("_pwTestCookieResult"!==o.type)return;window.PageOS.environment.tpcEnabled=o.isCookieEnabled,window.removeEventListener("message",i),document.body.removeChild(n),window.PageOS.BUS.emit("tpcCheck_ready"),clearInterval(t)}catch(e){}};window.addEventListener("message",i);const n=document.createElement("iframe");n.src="https://cdn.intergient.com/pageos/V.2.4.34/iframe/iframe.html",n.sandbox="allow-scripts allow-same-origin",n.style="display:none",n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("id","check_cookie"),n.onload=e=>{n.contentWindow.postMessage(JSON.stringify({type:"_pwTestCookie"}),"*")},document.body.appendChild(n)},e.cookieTest()}const C=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB","UK"];function M({countryCode:e="US",isCOPPA:t=!1,advertisementCookiesEnabled:n=!0}){window.PageOS=window.PageOS||{},window.PageOS.gdpr=window.PageOS.gdpr||{};const o=window.PageOS.gdpr;let s={};const r=!(!(0,y.al)("pwcmp")&&!(0,y.al)("gcmp")),a=(0,y.al)("pwcc")||e,d="User in EU check";o.userInEU=(e=>!!e&&C.indexOf(e.toUpperCase())>-1)(a),o.isCOPPA="boolean"==typeof t&&t,o.advertisementCookiesEnabled="boolean"!=typeof n||n,o.isPrivacyRestricted=o.isCOPPA||!1===o.advertisementCookiesEnabled,o.userCC=a,o.userInEU?(S.dd.info(d,{value:1}),i.e(264).then(i.bind(i,4969)).then((({default:e})=>{s=new e(o,r)})).catch((e=>{S.dd.error("Loading GDPR module.",{message:e.message,stack:e.stack})}))):(S.dd.info(d,{value:0}),o.hasWindowCMP=!1,o.hasCMP=()=>Promise.resolve(!1),window.PageOS.BUS.emit("gdpr_ready"))}const T=e=>{try{e.top.navigator.connection;return e.top.navigator}catch(t){return e.navigator}},B=["meta_keywords","content_categories","page_domains","url_paths","referrer_domains","ops_campaigns","user_profiles"],z=e=>{const t=e=>e.toLowerCase().replace("www.","");return"string"==typeof e?t(e):Array.isArray(e)?e.map((e=>t(e))):e},D=(e,t)=>{for(let i=0;i<e.length;i++){const n=e[i];if(U(n,t))return!0}return!1},R=(e,t)=>Object.keys(e).some((i=>Object.keys(e[i]).some((n=>!!t[n]&&(Array.isArray(e[i][n])?e[i][n].some((e=>U(e,t[n]))):t[n]&&U(e[i][n],t[n])))))),U=(e,t,i=!1)=>{try{let n=(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t);n=n.replace(/_/g,"[^0-9A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u024f\u1e00-\u1eff]?"),!i||n.startsWith("~")||n.endsWith("~")?(n=n.startsWith("~")?n.slice(1):`(^| )${n}`,n=n.endsWith("~")?n.slice(0,-1):`${n}( |$)`):(n.startsWith("~")&&n.endsWith("~")&&(n=n.slice(1,-1)),n=`(^|\\.)${n}$`);const o=new RegExp(n);return e.match(o)}catch(e){return S.ho.warn("Error parsing regular expression",{message:e.message,stack:e.stack}),!1}},L=({audienceSegments:e=[],categories:t=[],keywords:i=[],impressionEventIds:n=[],keyValues:o={}})=>{const s=window.location.hostname,r=z(s||""),a=z(X(document.referrer||"")),d=z(window.location.pathname||""),l=[],c=[];return p=e,Array.isArray(p)&&p.length>0?(e.forEach((e=>{let s=!0;const{id:p,definition:g}=e,u=g.length;for(let e=0;e<u;e++){const w=g[e],{group:m,values:h,operator:f}=w;if(B.includes(m)){if(0!==e&&s&&"OR"===f){l.push(`${p}`);break}(s||("OR"===f&&(s=!0),"AND"!==f))&&("meta_keywords"===m?s=h.some((e=>{const t=z(e);return D(i,t)})):"content_categories"===m?s=h.some((e=>t.includes(z(e)))):"page_domains"===m?s=h.some((e=>{const t=z(e);return U(r,t,!0)})):"url_paths"===m?s=h.some((e=>{const t=z(e);return U(d,t)})):"referrer_domains"===m?s=h.some((e=>{const t=z(e);return U(a,t,!0)})):"user_profiles"===m?s=h.some((e=>{const t=z(e);return R(o,t)})):"ops_campaigns"===m&&(s=h.some((e=>n.includes(z(e)))),s&&c.push(`${p}`)),e===u-1&&s&&l.push(`${p}`))}}})),{matchedSegments:l,campaignSegments:c}):{matchedSegments:l,campaignSegments:c};var p};var j=i(8287);let N=new Date;N.setMilliseconds(31536e6),N=N.toUTCString();const W=(e,t)=>{try{if(!window.PageOS.environment.hasLocalStorage)return t;let i=localStorage.getItem(e);return i?(i=JSON.parse(i),"object"==typeof i&&2===Object.keys(i).length&&(i.hasOwnProperty("PII")||i.hasOwnProperty("pii"))&&i.hasOwnProperty("data")&&(i=i.data),i):t}catch(e){return t}},V=(e,t)=>{if(window.PageOS.environment.hasLocalStorage&&e){"object"==typeof t&&2===Object.keys(t).length&&(t.hasOwnProperty("PII")||t.hasOwnProperty("pii"))&&t.hasOwnProperty("data")&&(t=t.data);try{const i="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,i)}catch(t){S.ho.warn("Could not set local storage.",{key:e})}}},$=e=>{if(e)try{localStorage.removeItem(e)}catch(e){}},H=e=>e&&j.hp.from(e,"base64").toString("utf8"),F=()=>{const e=window.ramp.activeConfig?window.ramp.activeConfig:window.ramp.settings.config?window.ramp.settings.config:null;if(!e)return;if(window.ramp.activeConfig&&window.ramp.configurations&&Array.isArray(window.ramp.configurations))return e.config_id;const t=(()=>{const e=window.pwEdgeYieldOptions||{},t=window.pwEdgeFlags||{};return e.configId?e.configId:t.configId?t.configId:void 0})();return t||(e?e.config_id:void 0)};let Z="";const q=(e,t)=>{const i=Object(e).keys().find((e=>((e,t)=>{for(;e.includes(".");){if(e===t)return!0;e=e.slice(currentHostname.indexOf(".")+1)}})(e,t)));return e[i]},X=e=>{let t=e;try{t=/\/\/(.[^/]+)/.exec(e)[1]}catch(e){}return t},G=({websiteId:e,publisherId:t,categories:i})=>{const n=window.PageOS.environment,o=T(window).connection||{},s=(e=>{try{return e.top.location.href,e.top.location}catch(t){return e.location}})(window),{screenWidth:r,screenHeight:a,width:d,height:l}=n.getBrowserInfo();let c=window.document.referrer;""===c&&(c=null);const p=X(c),g=window.PageOS.dataStream||{},u=window.PageOS.gdpr?window.PageOS.gdpr.userCC:null;return{timestamp:g.athenaFriendlyTimestamp(),version:"0.8.0",website_id:e,publisher_id:t,website_categories:i,country_code:u,page_url:s.href,page_hostname:s.hostname,referrer_url:c,referrer_hostname:p,user_agent:T(window).userAgent,connection_downlink:o.downlink,ads_blocked:n.adBlock,screen_width:r,screen_height:a,screen_orientation:window.matchMedia("(orientation: portrait)").match?"portrait":"landscape",window_width:d,window_height:l,tyche_code:window.ramp.settings.version,pageos_code:window.PageOS.version,config_id:F()}},Y=(e={})=>{const t=(0,y.YV)(),i=(0,y.YK)();let n={};var o;return t?n=G({categories:(o=t).settings.categories,websiteId:o.id,publisherId:o.settings.publisherId}):i&&(n=G((e=>{let t=null,i=null,n=null;try{const o=e.advertising.servers[0].tags,s=o[location.hostname]||q(o,location.hostname);t=s.id,n=s.categories,i=e.id||e.hostingId}catch(e){}return{categories:n,publisherId:i,websiteId:t}})(i))),{...n,...e}},J=e=>{if(!1!==window._pageViewSampling)return;const t={event_type:"page_views",id:window.PageOS.dataStream.randomUuid("page_view"),ramp_session_id:window.PageOS.session.getUUID,sampling_rate:window._pageViewSR};if(Z=t.id,!window.PageOS.gdpr.isCOPPA&&!1==!window.PageOS.gdpr?.advertisementCookiesEnabled&&!window.PageOS.gdpr.userInEU&&e.ready){t.meta_keywords=e.getMetaKeywords(),t.visitor_id=e.getVisitorId(),t.impression_event_ids=e.getImpressionEventIds(),t.user_identifiers=e.getUserIdentifiers();const i=e.getKeyValues();t.user_profile_data=(e=>e&&j.hp.from(e,"utf8").toString("base64"))(JSON.stringify(i)),t.user_profile_format="EUP1"}const i={...t,...Y()},n=Object.keys(i);for(let e=0;e<n.length;e++){const t=n[e];null!==i[t]&&void 0!==i[t]||delete i[t]}try{i.slot&&delete i.slot;const e=`${JSON.stringify(i)}\n`,t={Data:e,PartitionKey:`partition-${Date.now()}`};window.PageOS.dataStream.send({records:t,streamName:"apps-production",sampling:!1,sendSingleRecord:!0})}catch(e){S.kZ.error("_stringifyData Error",{message:e.message})}},K=()=>{const e=window.PageOS.dmp;e&&"boolean"==typeof e.ready?J(e):window.PageOS.BUS.on("dmp_ready",(()=>{J(window.PageOS.dmp)}))},Q="lambda-url.us-east-1.on.aws",ee="https://cd836371f1d.cdn.intergient.com/fb87a4ea41",te=`https://yvpc7wicrtenmge7hkrswepja40vdkwt.${Q}`,ie=({requestStart:e,status:t,endpoint:i,xhr:n})=>{const o=Date.now()-e;S.kZ.info(`Request to data streaming ${i} endpoint, duration: ${o}ms, status: ${t}`,{endpoint:i===ee?"main":"lambda",status:t,xhr_readyState:n.readyState,xhr_response:n.response,xhr_responseText:n.responseText,xhr_responseURL:n.responseURL,"xhr_status:":n.status,xhr_statusText:n.statusText,xhr_timeout:n.timeout})},ne=({body:e,isRetry:t,endpoint:i})=>{t?t&&i===ee&&oe({body:e,endpoint:te,isRetry:!1}):oe({body:e,endpoint:i,isRetry:!0})},oe=({body:e,endpoint:t=ee,isRetry:i=!1,timeout:n=5e3})=>{const o=new XMLHttpRequest,s=Date.now();o.open("POST",t,!0);const r=setTimeout((()=>{o.abort(),ie({requestStart:s,status:"timeout",endpoint:t,xhr:o}),ne({body:e,endpoint:t,isRetry:i})}),n);o.addEventListener("loadend",(()=>{clearTimeout(r),200===o.status?ie({requestStart:s,status:"success",endpoint:t,xhr:o}):(ie({requestStart:s,status:"error",endpoint:t,xhr:o}),ne({body:e,endpoint:t,isRetry:i}))})),o.send(JSON.stringify(e))};const se="17138",re=e=>{const t=document.createElement("script");t.type="text/javascript",t.src=`https://tags.crwdcntrl.net/lt/c/${se}/sync.min.js`,t.async=!0,t.id="lotameScript",t.onload=()=>e(),document.head.appendChild(t)},ae=()=>new Promise((e=>{const{isCOPPA:t,userInEU:i,advertisementCookiesEnabled:n}=window.PageOS.gdpr,o=!!(0,y.al)("ccpa");if(!(window._pwUserInCA||o))return t?(S.Iz.info("Is a COPPA site, Lotame deactivated."),e(!1)):!1===n?(S.Iz.info("Advertisement Cookies Enabled, Lotame deactivated."),e(!1)):i?(S.Iz.info("User in EU, Lotame deactivated."),e(!1)):e(!0);window.PageOS.BUS.on("ccpa_ready",(()=>!0===(window.PageOS.ccpa&&!0===window.PageOS.ccpa.hasUserOptedOut())?(S.Iz.info("CCPA applies and user has opted out, Lotame deactivated."),e(!1)):e(!0)),!0)})),de=function(){try{const e={config:{onProfileReady:e=>{S.Iz.info("Profile loaded"),S.Iz.info(`Profile ID ${e?.getProfileId()}`)}}}.config||{},t=window[`lotame_sync_${se}`]={};return t.config=e,t.data={},t.cmd=t.cmd||[],!0}catch(e){return S.Iz.error(e),!1}};function le(){window.PageOS=window.PageOS||{},window.PageOS.lotame=window.PageOS.lotame||{};const e=window.PageOS.lotame;window.PageOS.BUS.on("gotConfig",(()=>{(()=>{const e=window.PageOS.lotame,t=()=>{S.Iz.info("Script loaded"),window.PageOS.BUS.emit("lotameSync_ready")};e.init().then((e=>e&&re(t)))})()}),!0),e.init=()=>new Promise((e=>{!window.PageOS.gdpr||!1!==window.PageOS.gdpr.userInEU&&"boolean"!=typeof window.PageOS.gdpr.hasWindowCMP?window.PageOS.BUS.on("gdpr_ready",(()=>{ae().then((t=>{t?e(de()):(S.Iz.warn("Lotame module not available"),e(!1))}))}),!0):ae().then((t=>{t?e(de()):(S.Iz.warn("Lotame module not available"),e(!1))}))}))}const ce="pw_uuid",pe=()=>{if(!0!==window.PageOS.userData.ready)return!1;if(window.PageOS.ccpaApplies&&window.PageOS.ccpa&&window.PageOS.ccpa.hasUserOptedOut())return!1;const{isPrivacyRestricted:e}=window.PageOS.gdpr;return!e},ge=()=>{if(!pe())return;const{userCC:e,userInEU:t}=window.PageOS.gdpr;let i=null;new Promise((e=>{window.PageOS.userData.get(ce,(t=>{if(t&&"object"==typeof t&&t.data&&(t=t.data),!t)return e(null);e(t)}))})).then((e=>{e&&(i=e)})).then((()=>{i||(i=(()=>{let e=null;return e=(0,y.UM)(ce),e||(e=u("user"),document.cookie=`${ce}=${e};path=/;max-age=33696000`,window.PageOS.userData.set(ce,e,!0)),e})())})).then((()=>{window.PageOS.session.setCookieSyncUID(i)})).then((()=>{if("US"===e){(new Image).src=`https://idsync.rlcdn.com/712453.gif?partner_uid=${i}`}})).then((()=>{if(!(t||(window.PageOS.BUS.after("lotameSync_ready",(()=>(e=>{const t=Date.now();let i=W("pw_lotame_cookie_exp",!1);if(i&&!(i<t))return void S.Iz.info("Not enough time has passed since last lotame cookie sync");i=t+2592e6,V("pw_lotame_cookie_exp",i);const n={thirdParty:{namespace:"PLAY",value:e}};window[`lotame_sync_${se}`].cmd.push((()=>{window[`lotame_sync_${se}`].sync(n)}))})(i))),ue(e)||window.pwEdgeFlags&&!0===window.pwEdgeFlags.disableEyeota))){const e=document.createElement("script");e.type="text/javascript",e.src=`https://ps.eyeota.net/pixel?pid=m51mh00&t=ajs&uid=${i}`,e.async=!0,e.defer=!0,document.head.appendChild(e)}})).catch((e=>{S.hS.error("Error settings up cookie sync.",e)}))},ue=e=>["UA","RU","CN","KP","SY","IR","IQ","AF","SD","SO","LY","YE","CU"].indexOf(e.toUpperCase())>-1;window.PageOS.BUS.after("userData_ready",ge);var we=i(5772);const me={app_sessions:"id",ad_impressions:"app_session_id",ad_auctions:"app_session_id",ad_bids:"app_session_id",ad_units:"app_session_id",benchmarks:"session_id",bolt_ad_clicks:"player_uuid",bolt_ad_errors:"player_id",bolt_ad_playback_milestones:"player_uuid",bolt_ad_requests:"player_uuid",bolt_ad_request_results:"player_uuid",bolt_ad_sessions:"player_uuid",bolt_ad_sessions_results:"player_uuid",bolt_players:"uuid",hb_ab_tests:"app_session_id",performances:"session_id",video_plays:"app_session_id",ramp_sessions:"uuid",report_ad_forms:"report_ad_id",data_layer:"app_session_id",user_opt_outs:"id"},he=e=>e.toLowerCase().replace(/([-_][a-z])/g,(e=>e.toUpperCase().replace("_",""))),fe=e=>{const t=window.ramp.analytics;if(t){const i=t[e];if(void 0!==i&&("string"==typeof i||"number"==typeof i||Array.isArray(i)&&i.every((e=>"string"==typeof e||"number"==typeof e))))return i}};let ye;window.PageOS.dataStream=window.PageOS.dataStream||{};const be=window.PageOS.dataStream,_e=new class{constructor(){this.hasStorage=!!window.PageOS.environment&&window.PageOS.environment.hasLocalStorage,this.lastBatchSent=Date.now(),this.queue=[],this.batchTimer=null,this.BATCH_SIZE=10,this.BATCH_INTERVAL=5e3,this.maxRetryAttempts=3,this.hasStorage&&localStorage.getItem("PageOS_Kinesis")&&(this.queue=JSON.parse(localStorage.getItem("PageOS_Kinesis")))}addToQueue({records:e,streamName:t,sampling:i,sendSingleRecord:n=!1}){e=Array.isArray(e)?e:[e];const o=[];e.forEach((e=>{!1!==i&&!1!==e.Sampling||o.push({Data:e.Data,PartitionKey:e.PartitionKey})})),o.length>0&&(this.queue.push({records:o,streamName:t}),this.hasStorage&&localStorage.setItem("PageOS_Kinesis",JSON.stringify(this.queue)),this.isBatchReady(n))}clearTimer(){clearTimeout(this.batchTimer),this.batchTimer=null}getQueueCount(){let e=0;return this.queue.forEach((t=>{e+=t.records.length})),e}isBatchReady(e=!1){if(!this.queue.length)return!1;e&&this.getQueueCount()>0?this.streamData():this.getQueueCount()>=this.BATCH_SIZE||Date.now()-this.lastBatchSent>this.BATCH_INTERVAL?(this.clearTimer(),this.streamData()):this.batchTimer||(this.batchTimer=setTimeout((()=>{this.streamData()}),this.BATCH_INTERVAL))}streamData(){if(0===this.queue.length)return;const e={};for(;this.queue.length;){const{records:t,streamName:i}=this.queue.shift();Array.isArray(e[i])?e[i]=e[i].concat(t):e[i]=t}this.hasStorage&&localStorage.setItem("PageOS_Kinesis",JSON.stringify(this.queue));const t=Object.keys(e);for(let i=0;i<t.length;i++){const n=t[i];e[n].length&&this.streamRecords(e[n])}this.lastBatchSent=Date.now()}streamRecords(e){const t=[];e.forEach((e=>{t.push(JSON.parse(e.Data))})),oe({body:t})}},ve=new class{isProduction=!0;_apps={};_units=[];_auctions=[];_bidsById={};constructor(){ye=window.PageOS.dataStream,window.PageOS.ssn_pgv=(()=>{let e;return"undefined"!=typeof Storage&&(e=parseInt(sessionStorage.getItem("pw_pageInstance"),10)||0,sessionStorage.setItem("pw_pageInstance",e+=1)),e})(),this._pipelines={app:{STREAM_NAME:this.isProduction?"apps-production":"apps-development",VERSION:"0.8.0",queue:[]},boltAds:{STREAM_NAME:this.isProduction?"bolt-ads-production":"bolt-ads-development",queue:[],VERSION:"0.4.0"},boltErrors:{STREAM_NAME:this.isProduction?"bolt-errors-production":"bolt-errors-development",queue:[],VERSION:"0.1.0"}}}handleEvent(e,t){"function"==typeof this[e]?this[e](t):this[he(e)]?this[he(e)](t):S.kZ.error("Method does not exist for event.",{event:e})}addAdUnits(){window.__pwpbjs__.adUnits.forEach((e=>{this._units.find((t=>t.code===e.code))||this._units.push(e)}))}adImpressions(e){const{bid:t,targeting:i,slotData:n}=e.data,o=e.data.adUnitCode&&e.data;o?this.sendImpression(o.adUnitCode,o):this.sendImpression(t.adUnitCode,t,t.size,i,n)}sendVideoImpression({slotId:e,pbjsBid:t,size:i,targeting:n,slotData:o,amznBid:s}){setTimeout((()=>{this.sendImpression(e,t,i,n,o,s)}))}auctionInit(e){const t=this._getAppIdFromAuction(e);null!==t&&(e.bids={requested:{},totals:{available:0,unavailable:0,timed_out:0}},e.id=ye.randomUuid("auction"),this._auctions.push(e),e.adUnits.forEach((e=>{this.newAdUnit(e,t)})))}auctionEnd(e){if(null===this._getAppIdFromAuction(e))return;const t=e.auctionId;setTimeout((()=>{const e=this._auctions.find((e=>e.auctionId===t)),i=Date.now();void 0!==e?(e.duration=i-e.timestamp,this.processAuction(e)):S.kZ.warn(`[AuctionEnd] Auction ${t} not found in the list of auctions`)}),100)}benchmarks(e){this._handleGenericEvent(e)}bidderDone(e){const t=this._auctions.find((t=>t.auctionId===e.auctionId));if(null===this._getAppIdFromAuction(t))return;const i=e.start,n=Date.now(),o=i&&i>0?n-i:t.timeout;t.bids.requested[e.bidderCode].map((e=>(e.duration=o,e)))}bidRequested(e){const t=this._auctions.find((t=>t.auctionId===e.auctionId));null!==this._getAppIdFromAuction(t)&&(t.bids.requested[e.bidderCode]=e.bids,t.units=t.units||{},e.bids.forEach((e=>{e.playwireId=ye.randomUuid("bid"),this._bidsById[e.bidId]=e,t.units[e.adUnitCode]||(t.units[e.adUnitCode]=ye.randomUuid("auction"))})))}bidResponse(e){const t=this._auctions.find((t=>t.auctionId===e.auctionId));if(null===this._getAppIdFromAuction(t))return;this._bidsById[e.requestId].response=e}bidTimeout(e){for(let t=0;t<e.length;t++){const i=e[t],n=this._auctions.find((e=>e.auctionId===i.auctionId));if(null!==this._getAppIdFromAuction(n))if(void 0!==n.bids.requested[i.bidder]){n.bids.requested[i.bidder].find((e=>e.bidId===i.bidId)).timeout=i}else{const e=n.bidderRequests.find((e=>e.bidderCode===i.bidder));S.kZ.warn(`[BidTimeout] Bidder ${i.bidder} not found in the list of bidders for auction ${i.auctionId}; source: ${e.src}`)}}}bidWon(e){try{window.ramp.settings.slots[e.adUnitCode].pbjsBid=e,S.kZ.info("Prebid ad impressed.",e)}catch(e){S.kZ.error("bidWon method failed.",e.message)}}boltAdClicks(e){this._handleGenericEvent(e)}boltAdErrors(e){this._handleGenericEvent(e)}boltAdPlaybackMilestones(e){this._handleGenericEvent(e)}boltAdRequests(e){this._handleGenericEvent(e)}boltAdRequestResults(e){this._handleGenericEvent(e)}boltAdSessions(e){this._handleGenericEvent(e)}boltAdSessionsResults(e){this._handleGenericEvent(e)}boltPlayers(e){this._handleGenericEvent(e)}hbAbTests(e){this._handleGenericEvent(e)}dataLayer(e){this._handleGenericEvent(e)}userOptOut(e){this._apps[e]={app:{name:"pageos",version:window.PageOS.version},sampling:{user_opt_outs:{sampling:!1,rate:1}}};const t={event_type:"user_opt_outs",id:e,ramp_session_id:window.PageOS.session.getUUID,sampling_rate:1,...window.PageOS.dataStream.getRINucleus()};this._push(t,this._pipelines.app),this.sendQueueToStream()}clickConfirmed(e){const t=window.PageOS.dataStream.getPageViewId(),i={event_type:"confirmed_clicks",page_id:t||"",session_id:window.PageOS.session?window.PageOS.session.getUUID:"",unit_code:e,...window.PageOS.dataStream.getRINucleus()};this._push(i,this._pipelines.app),this.sendQueueToStream()}displayAdImpression({slotId:e,impressionData:t,size:i,targeting:n,slotData:o,amznBid:s}){let r=100;"web_interstitial"===e&&(r=500),setTimeout((()=>{this.sendImpression(e,t,i,n,o,s)}),r)}newAdUnit(e,t){const i=this._units.find((t=>t.code===e.code));if(i.id)return;i.id=ye.randomUuid("unit");const n={event_type:"ad_units",id:i.id,app_session_id:t,code:i.code,...this._environmentalData(t),...this._collectEventMetadata(this._pipelines.app,t,"ad_units")};this._push(n)}newAuction(e,t,i){const n=(e,t,i)=>{const n=this._getAppIdFromAuction(e),o=this._units.find((e=>e.code===t));return i||(i=this._winningBidForUnitCode(t)),{event_type:"ad_auctions",id:e.units[o.code],app_session_id:n,unit_id:o.id,unit_code:o.code,timeout:e.timeout,result:i?"succeeded":"failed",winning_bid_id:i?i.playwireId:null,winning_bidder:i?i.bidder:null,winning_cpm:i?i.cpm:null,winning_size:i?i.size:null,winning_response_time:i?i.duration:null,send_all_bids:window.__pwpbjs__.getConfig("enableSendAllBids"),average_cpm:this._averageCpm(e,o),render_number:this._timesUnitRendered(o),...this._environmentalData(n),...this._collectEventMetadata(this._pipelines.app,n,"ad_auctions")}};if(t){const o=n(e,t,i);return this._push(o),void this.sendQueueToStream()}const o=[],s=Object.keys(e.units);for(let t=0;t<s.length;t++){const i=n(e,s[t]);o.push(i)}this._push(o),this.sendQueueToStream()}performances(e){this._handleGenericEvent(e)}processAuction(e){"prebid_video"===e.adUnitCodes[0]&&this.newAuction(e),this.sendBids(e)}registerApp(e){const{appData:t,environmentalData:i,id:n,samplingEvents:o}=e.data,{pipeline:s}=e;if(this._apps[n])return void S.kZ.error("Cannot register duplicate app.",{id:n});this._apps[n]={app:t,environment:i,sampling:o},1===window._adImpressionSR&&(o.ad_impressions=o.ad_impressions||{},o.ad_impressions.sampling=!1,o.ad_impressions.rate=1);const r={event_type:"app_sessions",id:n,...i,...this._collectEventMetadata(this._pipelines[s],n,"app_sessions")};this._push(r,this._pipelines[s]),this.sendQueueToStream()}async getHashedEid(e){try{const t=y.h1(e,"SHA-256"),i=y.Fx(e),n=y.h1(e,"SHA-1"),[o,s,r]=await Promise.all([n,t,i]);return{sha1:o,sha256:s,md5:r}}catch(e){S.kZ.error("getHashedEid Error",{message:e.message})}}registerRampSession({uuid:e,uuid_segment_ids:t,visitor_id:i,visitor_segment_ids:n,pwheid:o,pwheid_segment_ids:s,eid:r,is_hem_from_url:a}){const d=(e,r)=>{this._apps[r]={app:{name:"pageos",version:window.PageOS.version},sampling:{ramp_sessions:{sampling:!1,rate:1}}};const a=o?{pwheid_segment_ids:s,eid:e,pwheid:o}:{};let d={event_type:"ramp_sessions",id:window.PageOS.session.getUUID,uuid:r,visitor_id:i,uuid_segment_ids:t,visitor_segment_ids:n,...a,...window.PageOS.dataStream.getRINucleus()};const l={data:d,pipeline:"app"},{pipeline:c}=l;d={...d,...this._collectEventMetadata(this._pipelines[c],r,"ramp_sessions")},this._push(d,this._pipelines[c]),this.sendQueueToStream()};if(!pe())return;const l=r?this.getHashedEid(r):Promise.resolve(void 0);a?d(r,e):r?l.then((t=>{d(t,e)})).catch((e=>{S.kZ.error("Error in registerRampSession:",e)})):d(void 0,e)}pageAnalyticsBenchmarks({uuid:e,type:t,pf_dr:i,pf_ts:n,ad_details:o,config_id:s,first_interaction_type:r}){const{samplingEnabled:a,samplingRate:d}=A();this._apps.page_analytics_benchmarks={app:{name:"pageos",version:window.PageOS.version},sampling:{sampling:a,rate:d}};let l={event_type:"benchmarks",source:"pw_page_analytics_events",id:window.PageOS.session.getUUID,session_id:window.PageOS.session.getUUID,type:t,pf_dr:i,pf_ts:n,ad_details:o,config_id:s,first_interaction_type:r,...ye.getRINucleus()};const c={data:l,pipeline:"app"},{pipeline:p}=c;l={...l,...this._collectEventMetadata(this._pipelines[p],e,"page_analytics_benchmarks")},S.kZ.debug("Page Analytics Benchmarks:",l),this._push(l,this._pipelines[p]),this.sendQueueToStream()}reportAdForms(e){this._apps[e.report_ad_id]={app:{name:"pageos",version:window.PageOS.version},sampling:{report_ad_forms:{sampling:!1,rate:1}}};let t={event_type:"report_ad_forms",...e,...ye.getRINucleus()};const i={data:t,pipeline:"app"},{pipeline:n}=i;t={...t,...this._collectEventMetadata(this._pipelines[n],e.report_ad_id,"report_ad_forms")},this._push(t,this._pipelines[n]),this.sendQueueToStream()}sendBids(e){const t=this._getAppIdFromAuction(e),i=[],n=Object.keys(e.bids.requested);for(let o=0;o<n.length;o++){const s=n[o],r=e.bids.requested[s];for(let n=0;n<r.length;n++){const o=r[n],a=this._units.find((e=>e.code===o.adUnitCode))||{};let d="unavailable",l=0,c=null,p=o.duration,g={};o.response&&(d="available",l=o.response.cpm,c=o.response.size),o.timeout&&(d="timed_out",p=o.timeout),e.bids.totals[d]++,g={event_type:"ad_bids",id:o.playwireId,app_session_id:t,unit_id:a.id,unit_code:a.code,auction_id:e.units[a.code],bidder:s,in_view_pid:!0===o.inViewPID,render_number:this._timesUnitRendered(a),requests_count:r.filter((e=>e.adUnitCode===a.code)).length,response_time:p,result:d,cpm:l,size:c,...this._environmentalData(t),...this._collectEventMetadata(this._pipelines.app,t,"ad_bids")},i.push(g)}}this._push(i),this.sendQueueToStream()}sendImpression(e,t,i,n,o,s){let r,a=null;const d=window.ramp.settings.slots[e];for(let i=this._auctions.length-1;i>=0&&((t&&this._auctions[i].auctionId===t.auctionId||this._auctions[i].adUnitCodes.includes(e))&&(a=this._auctions[i]),null===a);i--);const l=this._getAppIdFromAuction(a,e);!0===window.PageOS?.dmp?.ready&&(r=!!window.PageOS.dmp.getPWHeid()),t&&(t=this._annotatedBidResponse(t)),a&&this.newAuction(a,e,t);const c=this._units.find((t=>t.code===e))||{};let p=null,g=null,u=null,w=null,m=null,h=null,f=!1;window.PageOS.BUS.after("gamRqTm",(e=>{p=e})),window.PageOS.BUS.after("cornerAdVideoGamRqSt",(e=>{u=e})),window.PageOS.BUS.after("cornerAdVideoGamRqEn",(e=>{w=e})),"corner_ad_video"===e&&(p=u&&w?w-u:null),window.PageOS.BUS.after("gptLoadedTwice",(e=>{f=e}));const b=window.PageOS.dataStream.getPageViewId(),_=parseFloat(this._getTargetingValue(n,"price_floor")),v=fe("author"),A=fe("contentType"),{tpgEnabled:k,tpgNetwork:E,tpgAdxId:I}=this._getThirdPartyGAMConfig(c.code),O=this._getBidder(t,s,o,I),x=this._getCreativeType(t,e,o),C=this._getDemandType(t,s),M=this._getPrebidIdentity(),T=t?t.size:i,B=T?.split("x"),z=Array.isArray(B)&&B[0]&&B[1]?B[0]*B[1]:0,D=this._getAdUnitCode(e,o),R=this._getTargetingDimensions(),U={event_type:"ad_impressions",id:ye?.randomUuid("impression"),app_session_id:l,unit_id:c.id||null,unit_code:c.code||e,ad_unit_code:D,auction_duration:a?a.duration:null,auction_id:a?a.units[c.code]:null,timeout:a?parseFloat(this._getBidderTimeout(t,a)):null,bid_id:t?t.playwireId:null,prebid_bid:null!==t,size:T,targeting:n,page_id:b||"",cid:this._getCreativeId(t,o),floor:_,refresh_cnt:parseInt(this._getTargetingValue(n,"refresh_count"),10),cpm:this._getCPM(t,e,O,_,n),line_item_id:this._getLineItemId(t,o,e),pageos_code:window.PageOS.version,tyche_code:window.ramp.settings.version,config_id:F(),config_version:window.ramp.activeConfig?.config?.version??null,bidder:"amazon"===O?this._getAmazonBidderKey(s,n)||"amazon":O,creative_type:x,author:v,ssn_pgv:window.PageOS.ssn_pgv,p_density:window.ramp?.getAdDensity(z)||null,gam_rq_tm:p,gpt_mt:f||void 0,publisherOverride:`${window.PageOS.dataStream.isPublisherOverridePresent()}`,content_type:A,tpg_enabled:k,demand_type:C,slot_data:o,hem:r||void 0,active_identity_providers:(0,y.o)(),identity:M||void 0,gam_skipped:d?.gamSkipped?d.gamSkipped:void 0,sssn_rfrsh:this._getUnitsRefreshesbySession(e),...this._environmentalData(l),...this._collectEventMetadata(this._pipelines.app,l,"ad_impressions"),...R};a&&Object.assign(U,{auction_duration:a.duration,auction_id:a.units[c.code],timeout:parseFloat(this._getBidderTimeout(t,a))}),"cookieDeprecationLabel"in navigator&&navigator.cookieDeprecationLabel.getValue().then((e=>{void 0!==e&&(U.dep_label=e)}));const L=window.ramp?.settings;try{U.possibleBidders=(0,we.Cf)((0,we.u6)(e,L)),U.submittedBids=(0,we.Cf)((0,we.ZM)(e,L)),U.biddersCalled=(0,we.Cf)((0,we.su)(e,L))}catch(e){S.kZ.warn("Error during setting bidders to the record",e)}if(window.pwEdgeYieldOptions?.runExperimentalML&&L.mlHeaderBidding?.headerBiddingModel){U.bdshp=!0;const t=(0,we.UR)(e)?"video":"display";try{U.mlIndicesSet="display"===t?L.mlHeaderBidding.indicesSetDisplay:L.mlHeaderBidding.indicesSetVideo,U.mlModelPBI="display"===t?L.mlHeaderBidding.modelPbiDisplay:L.mlHeaderBidding.modelPbiVideo,U.mlFiltered=(0,we.Cf)(L.mlHeaderBidding[t]),U.mlPreFiltered=(0,we.Cf)("display"===t?L.mlHeaderBidding.preFilteredDisplay:L.mlHeaderBidding.preFilteredVideo)}catch(e){S.kZ.warn("Error during bid shaping loading process:",e)}}(e=>{const t=window.ramp?.settings.config.hbParams;return t&&t[e]&&!0===t[e].publisher_demand})(O)&&(U.publisher_demand=!0),k&&(U.gam_account=E);if("chrome"===P().name){if(void 0===window.PageOS.environment.tpcEnabled)return window.PageOS.environment.cookieTest(),void this.waitAndTryToSendAdImpressionEvent(U);if("unknown"===window.PageOS.environment.tpcEnabled)return void this.waitAndTryToSendAdImpressionEvent(U);U.chrome_cookies_enabled=window.PageOS.environment.tpcEnabled}const j=()=>{void 0!==m&&void 0!==h&&(g=m&&h?h-m:null,U.gam_rq_tm=g,this.sendAdImpressionEvent(U))};"prebid_video"===e?(window.PageOS.BUS.after("boltGamRqSt",(e=>{m=e})),window.PageOS.BUS.on("boltGamRqEn",(e=>{h=e,j()}))):this.sendAdImpressionEvent(U)}waitAndTryToSendAdImpressionEvent(e){window.PageOS.BUS.on("tpcCheck_ready",(()=>{e.chrome_cookies_enabled=window.PageOS.environment.tpcEnabled??"unknown",this.sendAdImpressionEvent(e)}),!0)}sendAdImpressionEvent(e){if(!e){try{const e=localStorage.getItem("pw_web_interstitial_impression");e&&this._push(JSON.parse(e))}catch(e){}return}if("web_interstitial"===e.unit_code){try{localStorage.setItem("pw_web_interstitial_impression",JSON.stringify(e))}catch(e){}this._push(e),this.sendQueueToStream(this._pipelines.app,e)}else this._push(e),this.sendQueueToStream();(0,y.al)("pw_diagnostics")&&window.PageOS.BUS.emit("diagnostics_event",e),S.kZ.info("Ad impression record: ",e)}videoPlays(e){this._handleGenericEvent(e)}contentVideoPlays(e){const t="video_plays",i=this._getAppIdFromAuction(!1,e.slotId),n={event_type:t,app_session_id:i,unit_code:e.slotId,pageos_code:window.PageOS.version,tyche_code:window.ramp.settings.version,config_id:F(),...this._environmentalData(i),...this._collectEventMetadata(this._pipelines.app,i,t)};this._push(n),this.sendQueueToStream(),S.kZ.info("Content video plays: ",n)}_annotatedBidResponse(e){const t=this._bidsById[e.requestId];return{...e,playwireId:t?t.playwireId:null,duration:t?t.duration:null}}_averageCpm(e,t){const i=this._findBidsReceivedForUnit(e,t),n=i.reduce(((e,t)=>e+t.response.cpm),0);return i.length>0?n/i.length:null}_collectEventMetadata(e,t,i){return{sampling_rate:this._samplingRateForEventType(t,i),version:e.VERSION,timestamp:ye.athenaFriendlyTimestamp(Date.now())}}_environmentalData(e){return e||(e=Object.keys(this._apps)[0]),e?this._apps[e]?.environment:null}_findBidsReceivedForUnit(e,t){const i=[];return Object.values(e.bids.requested).forEach((e=>{e.forEach((e=>{const n=e.response;n&&n.adUnitCode===t.code&&i.push(e)}))})),i}_getAppIdFromAuction(e,t=void 0){let i=null;if(!e)return void 0!==t&&(i="prebid_video"===t?Object.keys(this._apps).find((e=>e.startsWith("bolt"))):window.ramp.settings.uuid),i??null;if(!Array.isArray(e.labels)||0===e.labels.length)return i;for(let t=0;t<e.labels.length;t++)if(this._apps[e.labels[t]]){i=e.labels[t];break}return null===i&&(i=Object.keys(this._apps)[0]),i}_getAppIdKey(e){return me[e]}_handleGenericEvent(e){this._push(e.data,this._pipelines[e.pipeline]),this.sendQueueToStream(this._pipelines[e.pipeline])}_isSamplingEventType(e,t){if("pw_page_analytics_events"===t.source)return this._apps.page_analytics_benchmarks.sampling||!1;const i=t[this._getAppIdKey(e)];return!!i&&this._apps[i].sampling[e].sampling}_push(e,t=this._pipelines.app){if(this._filterOut)return!1;const i=Array.isArray(e)?e:[e];for(let e=0;e<i.length;e++){const n=i[e];n.ramp_session_id||(n.ramp_session_id=window.PageOS.session.getUUID),t.queue.push(this._removeNulls(n))}}_removeNulls(e){-1===e.publisher_id&&(e.publisher_id=null),-1===e.video_id&&(e.video_id=null),-1===e.cuepoint&&(e.cuepoint=null);const t=Object.keys(e);for(let i=0;i<t.length;i++){const n=t[i];void 0!==e[n]&&null!==e[n]||delete e[n]}return e}_samplingRateForEventType(e,t){return e||(e=Object.keys(this._apps)[0]),e?this._apps[e]?.sampling[t]?.rate:null}sendQueueToStream(e=this._pipelines.app,t=!1){if(this._filterOut)return!1;const i=[],n=!1!==t;if(n){this._trimRecord(t);const e=this._stringifyData(t);e&&i.push(e)}else for(;e.queue.length;){const t=e.queue.shift();this._trimRecord(t);const n=this._stringifyData(t);n&&i.push(n)}if(0===i.length)return!1;ye.send&&ye.send({records:i,streamName:e.STREAM_NAME,sendSingleRequest:n})}_trimRecord(e){e.page_url&&"string"==typeof e.page_url&&(e.page_url=e.page_url.substring(0,500)),e.slot_data?.mediaUrl&&"string"==typeof e.slot_data.mediaUrl&&(e.slot_data.mediaUrl=e.slot_data.mediaUrl.substring(0,500)),e.targeting?.addtl_consent&&"string"==typeof e.targeting.addtl_consent&&(e.targeting.addtl_consent=e.targeting.addtl_consent.substring(0,500))}_stringifyData(e){if(!e)return!1;try{e.slot&&delete e.slot;const t=`${JSON.stringify(e)}\n`;return{Data:t,PartitionKey:`partition-${Date.now()}`,Sampling:this._isSamplingEventType(e.event_type,e)}}catch(e){S.kZ.error("_stringifyData Error",{message:e.message})}}_timesUnitRendered(e){return this._auctions.filter((t=>void 0!==t.units[e.code])).length}_winningBidForUnitCode(e){const t=window.__pwpbjs__.getHighestCpmBids(e);return Array.isArray(t)&&t.length>0?this._annotatedBidResponse(t[0]):null}_getCreativeId(e,t){return e&&e.creativeId?e.creativeId:t&&t.creativeId?t.creativeId:t&&t.sourceAgnosticCreativeId?t.sourceAgnosticCreativeId:""}_getLineItemId(e,t,i){if(e&&e.lineItemId)return e.lineItemId;if(t&&t.lineItemId)return t.lineItemId;if(t&&t.sourceAgnosticLineItemId)return t.sourceAgnosticLineItemId;const n="prebid_video"===i||"corner_ad_video"===i||"precontent_ad_video"===i;return n&&t?.wrapperAdIds?.length>0?t.wrapperAdIds[t.wrapperAdIds.length-1]:n&&t?.adId?t.adId:""}_getTargetingValue(e,t){return e&&e[t]?Array.isArray(e[t])?e[t][0]:e[t]:0}_getBidder(e,t,i,n){const o=4405001942;let s=!1;if(e&&e.bidder)return e.bidder;if(t&&t.hasBid)return"amazon";if(i){const e=Array.isArray(i.yieldGroupIds)&&i.yieldGroupIds.length>0,t=i.advertiserId;if(s=void 0!==i.wrapperAdSystems?(Array.isArray(i.wrapperAdSystems)&&i.wrapperAdSystems.includes("AdSense/AdX")||Array.isArray(i.adSystem)&&i.adSystem.includes("AdSense/AdX"))&&!0!==i.isEmpty:(51353235===t||145814719===t||22077080===t||null===t||0===t||n&&t===n||e&&null!==i.yieldGroupIds[0])&&!0!==i.isEmpty,s)return"google";if(i.advertiserId===o)return"house";if(!e&&i.advertiserId&&51353235!==i.advertiserId&&i.advertiserId!==o)return"direct"}return"unfilled"}_getAmazonBidderKey=(e,t)=>e&&e.amznp?e.amznp:!(!t||!t.amznp)&&t.amznp;_getBidderTimeout(e,t){if(e){const i=t.bidderRequests.find((t=>t.bidderCode===e.bidder));if(i)return i.timeout}return t.timeout}_getCPM(e,t,i,n,o){if(e&&e.cpm)return e.cpm;if("amazon"===i&&o?.amznbid)return(0,y.W2)(o.amznbid);if("Adx"===i||"openbidding"===i){const e=this._winningBidForUnitCode(t);if(e)return e.cpm+.01}return n?n+.01:0}_getCreativeType(e,t,i){if(e&&"prebid_video"===e.adUnitCode&&e.mediaType)return e.mediaType;if("corner_ad_video"===t||"precontent_ad_video"===t)return"outstream";if(e&&e.mediaType){if("banner"===e.mediaType)return"display";if("video"===e.mediaType)return"outstream"}if(i&&i.amazonBid&&i.amazonMediaType)return i.amazonMediaType;if(i&&i.size&&0===i.size[0]&&0===i.size[1])return"native";const n=window.ramp.settings;if(i&&i.size&&!n.isCoppa&&!1!==n?.advertisementCookiesEnabled){const e=this._getPlayerSize(t);return e&&e===i.size?"outstream":"display"}return"unknown"}_getPlayerSize(e){let t=!1;return window.__pwpbjs__.adUnits.forEach((i=>{e!==i.code||(t=i?.mediaTypes?.video?.playerSize??!1)})),t}_getThirdPartyGAMConfig(e){let t=!1,i=!1;const n=(0,y.YK)(),o=(0,y.YV)(),s="prebid_video"===e,r=!!o?.settings?.tpg_enabled&&!!o?.tpg_network,a=!!n?.settings?.tpg_enabled&&!!n?.settings?.tpg_network;switch(!0){case r&&!a&&!s:t=o?.settings?.tpg_enabled,i=o?.tpg_network;break;case!r&&a&&s:t=n?.settings?.tpg_enabled,i=n?.settings?.tpg_network;break;case r&&a:t=o?.settings?.tpg_enabled,i=o?.tpg_network}return{tpgEnabled:t,tpgNetwork:i,tpgAdxId:!!o?.settings?.tpg_enabled&&o?.settings?.tpgAdxId}}_getDemandType(e,t){return e?e.source:t&&t.hasBid?"TAM":"unknown"}_getPrebidIdentity(){const e=window.__pwpbjs__?.getUserIds()||{},t=Object.keys(e);for(let i=0;i<t.length;i++){const n=t[i];if(null!==e[n]&&void 0!==e[n]&&0!==e[n])return!0}return!1}_getTargetingDimensions(){const e=window.PageOS?.getAllDimensions()||{},t={},i=Object.keys(e);for(let n=0;n<i.length;n++){const o=i[n];null!==e[o]&&(t[o]=e[o])}return t}_getAdUnitCode(e,t){let i=window.ramp.settings.slots[e]?.config?.code??null;return"precontent_ad_video"!==e||i||t?.adUnitCode&&(i=t.adUnitCode,delete t.adUnitCode),i}_getUnitsRefreshesbySession(e){const t=window.PageOS.session.getUUID;let i=localStorage.getItem("pw_units_refreshes");return i=JSON.parse(i)||{},i.sessionId===t?i[e]?i[e]+=1:i[e]=1:i={sessionId:t,[e]:1},localStorage.setItem("pw_units_refreshes",JSON.stringify(i)),i[e]}},Se=({records:e,streamName:t,sampling:i,sendSingleRecord:n=!1})=>{!0!==be.pageViewSent&&(be.pageViewSent=!0,K());const o={records:e,streamName:t,sampling:"boolean"==typeof i?i:window.rampSampling,sendSingleRecord:n};_e.addToQueue(o)};be.athenaFriendlyTimestamp=(e=Date.now())=>{let t,i,n,o,s,r;const a=new Date(e),d=a.getUTCFullYear();return t=a.getUTCMonth()+1,i=a.getUTCDate(),n=a.getUTCHours(),o=a.getUTCMinutes(),s=a.getUTCSeconds(),r=a.getUTCMilliseconds(),t=`0${t}`.slice(-2),i=`0${i}`.slice(-2),n=`0${n}`.slice(-2),o=`0${o}`.slice(-2),s=`0${s}`.slice(-2),r=`00${r}`.slice(-3),`${d}-${t}-${i} ${n}:${o}:${s}.${r}`},be.getRINucleus=Y,be.getPageViewId=()=>Z,be.handleEvent=ve.handleEvent.bind(ve),be.isPublisherOverridePresent=()=>{try{return Object.keys(window.ramp.override).length>0}catch(e){return!1}},be.randomUuid=u,be.send=Se,be.sendPageViewEvent=K,S.kZ.info(`Browser file compression: ${window._pwUserContentEncoding||"none"}`),window.PageOS.kinesis=be,window.addEventListener("message",(e=>{try{const t=JSON.parse(e.data),{type:i}=t;if("kinesisEvent"===i)S.kZ.warn('Use of deprecated kinesis event listener "kinesisEvent"'),Se({records:t.records,streamName:t.streamName,sampling:window.boltSampling});else if("pwKinesisEvent"===i){const{event:e,data:i,pipeline:n}=t;be.handleEvent(e,{data:i,pipeline:n})}}catch(e){}}));const Ae=(e,t)=>new Promise((i=>{window.gtag("get",e,t,(e=>{i(e)}))}));!function(){if(window.PageOS=window.PageOS||{},!(window.gtag&&window.ramp&&window.ramp.activeConfig&&window.ramp.activeConfig.gaPropertyId))return;window.PageOS.googleAnalytics=window.PageOS.googleAnalytics||{};const e=window.ramp.activeConfig.gaPropertyId;Promise.all([Ae(e,"client_id"),Ae(e,"session_id")]).then((([e,t])=>{const i={user_id:e||"",session_id:t||"",pageview_id:window._pwGA4PageviewId};Object.assign(window.PageOS.googleAnalytics,i)})).catch((e=>{delete window.PageOS.googleAnalytics,S.Ay.warn("Google Analytics module failed.",e)})).finally((()=>{window.PageOS.BUS.emit("googleAnalytics_ready",window.PageOS.googleAnalytics)}))}();const ke=(e,t,i)=>{const n=document.createElement("script");n.type="text/javascript",n.src=e,"boolean"==typeof t&&(n.async=t),n.onload=()=>{i()},document.head.appendChild(n)};function Ee(e){const t=window.PageOS.dataStream.handleEvent;["bidWon","bidderDone","auctionEnd","auctionInit","addAdUnits","bidResponse","bidRequested","bidTimeout"].forEach((i=>{e.onEvent(i,(e=>{t(i,e)}))}));["adRenderSucceeded","adRenderFailed"].forEach((t=>{e.onEvent(t,(e=>{((e,t)=>{if(t.bidder="prebid",t.slotId=t.bid.adUnitCode,"corner_ad_video"===t.slotId||"precontent_ad_video"===t.slotId)return;const i=new CustomEvent(e,{detail:t,bubbles:!0});document.dispatchEvent(i)})(`pw_${t}`,e)}))}))}const Ie={configEnabled:!1},Pe="_lr_atsDirect",Oe=(e,t)=>{const i=e?.identity||e?.settings?.identity;let n=null;return Array.isArray(i)&&i.length>0?n=i:i?.[t]&&i[t].length>0&&(n=i[t]),n?{id5:n.includes("id5"),liveRamp:n.includes("liveRamp"),liveRamp2:n.includes("liveRamp2"),uid2:n.includes("uid2"),lotame:n.includes("lotame"),sharedId:n.includes("sharedId"),fabrick:n.includes("fabrick"),lexiconId:n.includes("lexiconId"),amazon:n.includes("amazon"),liveIntentIdEnabled:n.includes("liveIntentId"),criteoId:n.includes("criteo"),connectId:n.includes("connectId"),hadronId:n.includes("hadronId"),linkedinId:n.includes("linkedinId")}:null},xe=(e,t)=>{if(e.id5&&t.push({name:"id5Id",params:{partner:483,pd:""},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.uid2&&t.push({name:"uid2",params:{uid2ApiBase:void 0,serverPublicKey:"UID2-X-P-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEZ0vCecQOnwXsxRHdwoE//oRERo4/UFujZMe1Cb9x7AM3ziuZFm7Ho9j8YCMR1Tf5LtJRFiPg3tDxXkKEp0a2+A==",subscriptionId:"y6GXwmgi9p"}}),e.lotame&&t.push({name:"lotamePanoramaId",params:{clientId:"17262"}}),e.hadronId&&t.push({name:"hadronId",params:{partnerId:"403"}}),e.sharedId&&t.push({name:"sharedId",storage:{name:"_sharedid",type:"cookie",expires:30}}),e.criteoId&&t.push({name:"criteo"}),e.fabrick&&t.push({name:"fabrickId",params:{apiKey:"2104320612"},storage:{name:"pbjs_fabrickId",type:"html5",expires:7}}),e.lexiconId&&t.push({name:"33acrossId",params:{pid:"0014000001YrMoYAAV"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}}),e.liveRamp2?(t.push({name:"identityLink",params:{pid:"13250"},storage:{type:"html5",name:"idl_env",expires:15,refreshInSeconds:1800}}),!1!==window.pwEdgeFlags.pairEnabled&&t.push({name:"pairId",params:{liveramp:{}}})):e.liveRamp&&t.push({name:"identityLink",params:{pid:"13250"},storage:{type:"html5",name:"idl_env",expires:1,refreshInSeconds:1800}}),e.liveIntentId&&t.push({name:"liveIntentId",params:{distributorId:"did-0046",requestedAttributesOverrides:{uid2:!0,index:!0,bidswitch:!0,pubmatic:!0,magnite:!0,openx:!0,sorvrn:!0,thetradedesk:!0,medianet:!0}},storage:{name:"__tamLIResolveResult",type:"html5",expires:1}}),e.connectId){const e={pixelId:"58847"};window.PageOS?.session?.getUUID&&(e.puid=window.PageOS?.session?.getUUID),t.push({name:"connectId",params:e})}e.linkedinId&&t.push({name:"linkedInAdsId",storage:{type:"html5",name:"linkedInAdsId"}});const i=t=>{const i=(e=>{const t=e&&e.ready&&e.getPWHeid();if(window.ramp&&"object"==typeof window.ramp.dolos||t){if(window._pwUserInCA)return;const e=["SHA1","SHA256","MD5"];if(t)return[t];if(!window.ramp.dolos)return;const i={...window.ramp.dolos};return Object.keys(i).forEach((t=>{e.includes(t)||delete i[t]})),Object.values(i)}})(t);(e.liveRamp||e.liveRamp2)&&n(i);const s=(e=>{const t=e&&e.ready&&e.getPWHeid();if(window.ramp&&"object"==typeof window.ramp.dolos||t){if(window._pwUserInCA)return;const e=["SHA256"];if(t)return[t];const i=[];return window.ramp.dolos?(Object.keys(window.ramp.dolos).forEach((t=>{e.includes(t)&&i.push(window.ramp.dolos[t])})),i):i}})(t);e.amazon&&s&&s.length>0&&o(s)},n=t=>{if(e.liveRamp2){const e=document.createElement("script");e.onload=function(){let e=25;const i=setInterval((()=>{if(0!==e)return--e,t&&window.ats&&window.ats.setAdditionalData?(window.ats.setAdditionalData({type:"emailHashes",id:t}),void clearInterval(i)):void 0;clearInterval(i)}),1e3)},e.src="https://launchpad-wrapper.privacymanager.io/ca935c17-544f-477e-88cb-4288124e4d61/launchpad-liveramp.js",document.body.appendChild(e)}else e.liveRamp&&function(e){const t=document.createElement("script");t.onload=()=>{const t={placementID:"13250",storageType:"localStorage",detectionType:"scrapeAndUrl",detectDynamicNodes:!0,urlParameter:"env",cssSelectors:["input[type=text]","input[type=email]"],logging:"error"};Array.isArray(e)&&e.length>0&&(t.emailHashes=e),window.ats.start(t)},t.src="https://ats.rlcdn.com/ats.js",document.body.appendChild(t)}(t);try{const e=Te();Be(e)}catch(e){}},o=e=>{e&&window.PageOS.BUS.after("ApsTagLoaded",(()=>{if(!window.ramp.settings.apstagLoaded)return;let t=!1;Object.keys(e).forEach((i=>{const n=W("_pwUserOptedOut",!1);t={hashedRecords:[{type:"email",record:e[i]}],optOut:n}}));if(window.ramp.settings.apstagIframed){Me();const e=document.getElementById("pw_aps_iframe");if(e&&e.contentWindow){let i={type:"_pwApsTag",message:"rpa",data:{tokenConfig:t,setCookie:true}};i=JSON.stringify(i),e.contentWindow.postMessage(i,"*")}}else{const e=()=>{S.GE.info("Received response from Amazon Token service.")};window.apstag.rpa(t,e,true)}}))};if(e.liveRamp||e.liveRamp2||e.amazon||e.fabrick||e.uid2||e.liveIntentId||e.connectId){e.fabrick&&window.PageOS.BUS.after("pwheid_ready",(e=>{Ce("fabrickId",e,t)})),e.connectId&&window.PageOS.BUS.after("pwheid_ready",(e=>{Ce("connectId",e,t)})),e.uid2&&window.PageOS.BUS.after("pwheid_base64_ready",(e=>{Ce("uid2",e,t)}));const n=e.liveIntentId;window.liModuleEnabled=n,n&&window.PageOS.BUS.after("pwheid_ready",(e=>{Ce("liveIntentId",e,t)}));const o=window.PageOS.dmp;o&&"boolean"==typeof o.ready?i(o):window.PageOS.BUS.on("dmp_ready",(()=>{i(window.PageOS.dmp)}))}},Ce=(e,t,i)=>{if(!t)return;const n=window.__pwpbjs__.getConfig("userSync.userIds");let o=n&&n.find((t=>t.name===e));if(o||(o=i&&i.find((t=>t.name===e))),o)switch(e){case"fabrickId":o.params.e=t;break;case"uid2":case"liveIntentId":o.params.emailHash=t;break;case"connectId":o.params.he=t}},Me=()=>{window.addEventListener("message",(e=>{try{if(!e.data)return;const t="string"==typeof e.data?JSON.parse(e.data):e.data,{type:i,message:n}=t;if("_pwApsTag"!==i)return;try{"rpaResponse"===n&&S.GE.info("Received response from Amazon Token service from iframed APS tag.")}catch(e){}}catch(e){}}))},Te=()=>{let e=[];const t=e=>{try{const t=atob(decodeURIComponent(e));return JSON.parse(t).envelope||[]}catch(e){return[]}},i=localStorage.getItem(Pe);if(i&&(e=t(i)),!e.length&&document.cookie.includes(Pe)){const i=document.cookie.split("; ").find((e=>e.startsWith(`${Pe}=`)))?.split("=")[1];i&&(e=t(i))}return e},Be=e=>{e&&e.length>0&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("atsd",e)})))},ze=(e,t)=>{!1!==Ie.configEnabled&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{let i=Ie.enrich?"t1":"t0";void 0!==e&&(i+=e?"-e1":"-e0"),void 0!==t&&(i+=t?"-wa":"-ws"),window.googletag.pubads().setTargeting("li-module-enabled",i)})))};ze();const De=["*"],Re=(e,t)=>{const i=100*+e.toFixed(2);return((i-i%t)/100).toFixed(2)},Ue=e=>Re(e,5),Le=e=>Math.floor(e).toFixed(2),je=(e,t)=>{if("banner"===t){if(e<=3)return e.toFixed(2);if(e<=8)return Ue(e);if(e<=15)return Re(e,25);if(e<=30)return Le(e);if(e>30)return"30.00"}else if("video"===t){if(e<=1)return Ue(e);if(e<=4)return e.toFixed(2);if(e<=15)return(e=>Re(e,10))(e);if(e<=30)return Le(e);if(e>30)return"30.00"}return e.toFixed(2)},Ne={alwaysUseBid:!1,adserverTargeting:[{key:"hb_bidder",val:e=>"ix"===e.bidder?"indexExchange":e.bidder},{key:"hb_adid",val:e=>e.adId},{key:"hb_val",val:e=>{if("prebid_video"!==e.adUnitCode&&"amazon"===e.bidder)return e.cpm.toFixed(2);const t="prebid_video"===e.adUnitCode?"video":"banner";return je(e.cpm,t)}},{key:"hb_size",val:e=>e.amzBid?e.amzBid:e.size},{key:"hb_container",val:e=>e.adUnitCode},{key:"hb_vast",val:e=>"amazon"===e.bidder?`//aax.amazon-adsystem.com/e/dtb/vast?b=${e.ad}&rnd=${Date.now()}&ps=${e.amzBid}`:e.vastUrl},{key:"hb_uuid",val:e=>e.videoCacheKey},{key:"hb_cache_id",val:e=>e.videoCacheKey}]},We={buckets:[{precision:2,max:3,increment:.01},{precision:2,max:8,increment:.05},{precision:2,max:15,increment:.25},{precision:2,max:30,increment:1}]},Ve={buckets:[{precision:2,max:1,increment:.05},{precision:2,max:4,increment:.01},{precision:2,max:15,increment:.1},{precision:2,max:30,increment:1}]},$e=(e,t)=>{if(t.length<1)return!1;const i=Object.fromEntries(t.map(((e,t)=>[e,t+1]))),n=(e=>{const t=["pw-oop-flex_leaderboard","pw-oop-site_skin","trendi_video"],i={};return Object.keys(e).filter((e=>!t.includes(e))).forEach((t=>{if("na"===e[t])return!1;"undefined"!==e[t]&&(i[t]=e[t])})),i})(window.PageOS.floors);return e.forEach((e=>{e.bids.forEach((t=>{void 0!==i[t.bidder]&&i[t.bidder]&&t.params&&He(e.code,t,n)}))})),e},He=(e,t,i)=>{const n=t.bidder,o=i[e];if(!o)return!1;switch(n){case"rubicon":case"triplelift":t.params.floor=parseFloat(o);break;case"pubmatic":t.params.kadfloor=o;break;case"gumgum":case"ttd":t.params.bidfloor=parseFloat(o);break;case"appnexus":t.params.reserve=parseFloat(o);break;case"rise":t.params.floorPrice=Number(o);break;case"grid":case"vidazoo":t.params.bidFloor=parseFloat(o);break;case"openx":t.params.customFloor=Number(o);break;case"ix":t.params.bidFloorCur="USD",t.params.bidFloor=Number(o);break;case"sharethrough":t.params.currency="USD",t.params.floor=parseFloat(o);break;default:S.D4.error("Bidder not recognized:",n)}return t},Fe=(e,t)=>{let i=null;try{const n=window.pwEdgeFlags?.rtdSettings?.[t]?.providers||e?.settings?.rtdSettings?.[t]?.providers||[];n&&n.length>0&&(i=n)}catch(e){S.Ay.error("Error in extracting RTD settings from config",e)}return i?{airgrid:i.includes("airgrid")}:(S.Ay.error("No RTD providers found in config"),null)},Ze="s2s_",qe={accountId:"playwire",adapter:"prebidServer",enabled:!0,testing:!0,endpoint:"https://prebid.intergient.com/openrtb2/auction",syncEndpoint:"https://prebid.intergient.com/cookie_sync",timeout:2250},Xe=(e,t)=>{const i=Object.assign({},e),n=Object.keys(t);for(let e=0;e<n.length;e++){const o=n[e],s=t[o];"object"!=typeof s||Array.isArray(s)?i[o]=s:i[o]=Xe(i[o]||{},s)}return i},Ge=e=>{const t=(0,y.YV)()?.settings||(0,y.a$)();let i={};const n=t?.iabIds,o=t?.language;if(Array.isArray(n))if("IAB"===e){const e=n.filter((e=>e&&-1!==e.indexOf("IAB")));i=Ye(e)}else if("nonIAB"===e){const e=n.filter((e=>e&&-1===e.indexOf("IAB")));i=Ye(e)}else i=Ye(n);if("string"==typeof o&&o){i=Xe(i,{ortb2:{site:{content:{language:o}}}})}return i},Ye=e=>({ortb2:{site:{cat:e,sectioncat:e,pagecat:e,content:{cat:e}}}}),Je=()=>{const e=window.ramp.settings.device,t=window.ramp.settings.config.headerBidding[e],i=new Set;if(t&&Array.isArray(t.order))return i.add(t.order);const n=window.ramp.settings.config.headerBidding;if(n.display&&n.display[e]){(n.display[e]?.order||[]).forEach((e=>{i.add(e)}))}if(n.video&&n.video[e]){(n.video[e]?.order||[]).forEach((e=>{i.add(e)}))}return i},Ke=()=>{const e=window.ramp?.settings?.headerBidding||(0,y.a$)()?.headerBidding;return e&&Object.keys(e).length>0},Qe=e=>{const t=[];e.MD5&&t.push({id:e.MD5,atype:3,ext:{stype:"hemmd5"}}),e.SHA256&&t.push({id:e.SHA256,atype:3,ext:{stype:"hemsha256"}});return{ext:{data:{eids:[{uids:t}]}}}};function et(){window.PageOS.Prebid=window.PageOS.Prebid||{},window.PageOS.Prebid.bidMap=window.PageOS.Prebid.bidMap||{},window.PageOS.Prebid.setBidMap=(e,t)=>{if("string"!=typeof e||!Array.isArray(t))return;window.PageOS.Prebid.bidMap[e]=window.PageOS.Prebid.bidMap[e]||{};const i={};t.forEach((e=>{const t=e.bidderName;i[t]=e.bidDelivery})),Object.assign(window.PageOS.Prebid.bidMap[e],i)},window.PageOS.Prebid.afterPrebidLoaded=(e,t,i,n,o,s)=>{window.location.search.toLowerCase().indexOf("pw_diagnostics")>=0&&void 0!==window.PageOS?.BUS&&window.PageOS.BUS.emit("prebid_loaded"),window.PageOS.Prebid.boltAuctions=window.PageOS.Prebid.boltAuctions||[],Ke()&&(window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]),window.__pwhbjs=window.__pwhbjs||{},window.__pwhbjs.cmd=window.__pwhbjs.cmd||[],window.__pwhbjs.que=window.__pwhbjs.que||[];const r=window.pbjs,a=window.__pwhbjs,d=window.__pwpbjs__;window.PageOS.Prebid.version=d.version;const l=(e=>{const t=window.pwEdgeFlags&&window.pwEdgeFlags.userSyncBidders?window.pwEdgeFlags.userSyncBidders:e&&e.headerBidding?.userSyncBidders&&Array.isArray(e.headerBidding.userSyncBidders)?e.headerBidding.userSyncBidders:De;return t.indexOf("*")>-1||t.indexOf("ANY")>-1?{bidders:"*",filter:"include"}:Array.isArray(t)&&0!==t.length?{bidders:t,filter:"include"}:{bidders:"*",filter:"exclude"}})(!!window.ramp?.settings?.config&&window.ramp?.settings||(0,y.a$)()||{}),c=new URLSearchParams(window.location.search);let p=c.has("pb_event_history")?parseInt(c.get("pb_event_history"),10):0;isNaN(p)&&(S.GE.warn("eventHistoryTTL value in the url invalid. Using value by default."),p=0);const g=window.pwEdgeFlags?.rtdSettings?.rtdAuctionDelay||window.ramp?.settings?.config?.settings?.rtdSettings?.rtdAuctionDelay||0,u={eventHistoryTTL:p,bidderTimeout:e||3e3,bidderSequence:s?"random":"fixed",enableSendAllBids:!0,enableTIDs:!0,mediaTypePriceGranularity:{banner:We,video:Ve},timeoutBuffer:400,disableAjaxTimeout:!0,useBidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},debug:window.location.hash.toLowerCase().indexOf("prebiddebug")>=0||window.location.search.toLowerCase().indexOf("pw_diagnostics")>=0,pubcid:{enable:t},userSync:{filterSettings:{all:l},enableOverride:!0,syncEnabled:!0,iframeEnabled:!0,syncsPerBidder:8,syncDelay:3e3,topics:{maxTopicCaller:3,bidders:[{bidder:"openx",iframeURL:"https://pa.openx.net/topics_frame.html"},{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html"}]}},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"playwire.com",sid:n,hp:1}]}},criteo:{fastBidVersion:"latest"},realTimeData:{auctionDelay:g}};d.installedModules.includes("paapi")&&(u.paapi={enabled:!0,gpt:{configWithTargeting:!1},defaultForSlots:1}),d.bidderSettings=(0,y.Fz)()?{standard:{storageAllowed:!0,topicsHeader:!1}}:{grid:{bidCpmAdjustment:e=>.95*e},standard:{storageAllowed:!0,bidCpmAdjustment:e=>e>30?30:e,topicsHeader:!1}},window.pwEdgeFlags&&!1===window.pwEdgeFlags.sendAllBids&&(u.enableSendAllBids=!1,d.bidderSettings.standard=Ne),void 0!==window.__gpp&&(u.consentManagement=u.consentManagement||{},u.consentManagement.gpp={cmpApi:"iab",timeout:1e3}),window.PageOS.gdpr.userInEU&&-1===window.location.href.indexOf("content.overwolf")&&(u.consentManagement=u.consentManagement||{},u.consentManagement.gdpr={cmpApi:"iab",allowAuctionWithoutConsent:!0,timeout:8e3},window.PageOS.gdpr.hasWindowCMP||(u.deviceAccess=!1)),window.PageOS.ccpaApplies&&(u.consentManagement=u.consentManagement||{},u.consentManagement.usp={timeout:100});const{enabledRtdProviders:w}=(()=>{const e=(0,y.YV)(),t=(0,y.a$)(),i=window.ramp?.settings?.device;let n=null;e?n=Fe(e,i):t&&(n=Fe(t,i));const o={airgrid:n?.airgrid??!1};return S.Ay.info("[PREBID_RTD] Enabled RTD providers:",o),{enabledRtdProviders:o}})();u.realTimeData.dataProviders=u.realTimeData.dataProviders||[],((e,t)=>{const i=window.ramp?.settings?.device,n=(0,y.YV)(),o=(0,y.a$)();let s=!1;const r=[window.pwEdgeFlags?.rtdSettings,n?.settings?.rtdSettings,o?.settings?.rtdSettings];for(let e=0;e<r.length;e++){const t=r[e];if(t?.[i]?.important?.length>0){s=t[i].important.includes("airgrid");break}}const a=Je();e.airgrid&&(a.has("appnexus")||a.has("s2s_appnexus"))&&(t.push({name:"airgrid",waitForIt:s,params:{apiKey:"20f9f18a-ca98-4738-8b1f-c5ebf60271ce",accountId:"3t7gDk",publisherId:"l57Rw8",bidders:["appnexus"]}}),S.Ay.info("[PREBID_RTD] airgrid pushed to RTD providers:",t))})(w,u.realTimeData.dataProviders);const{enabledIdentityProviders:m}=(()=>{const e=(0,y.YV)(),t=(0,y.a$)(),i=window.ramp.settings.device;let n=null;e?n=Oe(e,i):t&&(n=Oe(t,i)),n?.liveIntentIdEnabled&&void 0===Ie.enrich&&(Ie.configEnabled=!0,Ie.enrich=Math.random()<.95);const o=!1===window.ramp.privacy?.advertisementCookiesEnabled;return{enabledIdentityProviders:{id5:!o&&(n?.id5??!1),liveRamp:!o&&(n?.liveRamp??!1),liveRamp2:!o&&(n?.liveRamp2??!1),uid2:!o&&(n?.uid2??!1),lotame:!o&&(n?.lotame??!1),sharedId:!o&&(n?.sharedId??!1),fabrick:!o&&(n?.fabrick??!1),lexiconId:!o&&(n?.lexiconId??!1),amazon:!o&&(n?.amazon??!1),criteoId:!o&&(n?.criteoId??!1),connectId:!o&&(n?.connectId??!1),hadronId:!o&&(n?.hadronId??!1),liveIntentId:!o&&Ie.enrich,linkedinId:!o&&(n?.linkedinId??!1)}}})();u.userSync.userIds=u.userSync.userIds||[],xe(m,u.userSync.userIds),Object.keys(u.userSync.userIds).length>0&&(u.userSync.auctionDelay=50),(m.liveRamp||m.liveRamp2)&&(u.userSync.syncDelay=5e3,d.que.push((()=>{d.enableAnalytics([{provider:"atsAnalytics",options:{pid:"13250"}}])}))),S.GE.info("Headerbidding configurations",{id5:m.id5,liveRamp:m.liveRamp,liveRamp2:m.liveRamp2,uid2:m.uid2,lotame:m.lotame,sharedId:m.sharedId,fabrickId:m.fabrick,lexiconId:m.lexiconId,connectId:m.connectId,linkedinId:m.linkedinId,ITP:t}),S.GE.info("schain config",u.schain.config.nodes[0]),(o=Object.assign({},qe,o)).coopSync=!0,o.userSyncLimit=8,u.s2sConfig=o,d.aliasBidder("appnexus","bReal"),d.aliasBidder("ix","indexExchange"),u.firstPartyData=(()=>{(0,y.YV)()?.settings||(0,y.a$)();return{skipEnrichments:!1}})(),window.PageOS.gdpr?.isPrivacyRestricted&&(u.coppa=window.PageOS.gdpr?.isCOPPA&&(()=>{const e=Ke();return S.GE.info(`Setting COPPA prebid support as ${e}`),e})(),u.deviceAccess=!1,u.userSync.enabled=!1,u.userSync.syncEnabled=!1),!0===window.ramp.privacy?.prebidNpa&&(u.deviceAccess=!1),u.gptPreAuction={enabled:!0,useDefaultPreAuction:!1,customPreAuction:(e,t)=>((e,t,i)=>{if(!t)return;if(!window.googletag||!window.googletag.apiReady)return;const n=window.googletag.pubads().getSlots().filter((e=>e.getAdUnitPath()===i));return 0===n.length?t.code:1===n.length?i:n.length>1?`${i}#${t.code}`:void 0})(0,e,t)},(e=>{const t=Ge("IAB"),i=Ge("nonIAB"),n=Ge(),o=["rise","appnexus","openx","criteo","grid","sharethrough"],s=["ix","gumgum"],r={bidders:o,config:t},a={bidders:s,config:i},d=Je(),l=Array.from(d).filter((e=>-1===o.indexOf(e)&&s.indexOf(e)&&"amazon"!==e)),c={bidders:Array.from(l),config:n};e.setBidderConfig(r),e.setBidderConfig(a),e.setBidderConfig(c),S.GE.info("populating ortb2 version 1.0",t),S.GE.info("populating ortb2 version 2.2",i),S.GE.info("populating ortb2 both versions",n)})(d),d.setConfig(u);const h=(()=>{let e,t;const i=window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.getPWHeid();let n={};if(window.ramp&&"object"==typeof window.ramp.dolos||i){const e=["SHA256","MD5"];if(i){const e=window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.getPWMD5Heid();n={SHA256:i,MD5:e}}else window.ramp.dolos&&Object.keys(window.ramp.dolos).forEach((t=>{e.includes(t)&&!n[t]&&(n[t]=window.ramp.dolos[t])}))}Object.keys(n).length>0&&(e={ortb2:{user:Qe(n)}});const o=(e,t,i,n,o,s)=>((e=e||{ortb2:{user:{ext:{data:{eids:[]}}}}}).ortb2.user.ext.data.eids.push({source:t,uids:[{id:i,atype:n,ext:{stype:o,persistence:s}}]}),e),s=window.PageOS?.session?.getCookieSyncUID;if(s&&(e=o(e,"playwire.com",s,1,"ppuid","js")),window.PageOS.dmp&&window.PageOS.dmp.ready){const{criteo_id:t}=window.PageOS.dmp.getUserIdentifiers()||{};t&&(e=o(e,"criteo.com",t,1))}return e&&(t={bidders:["criteo"],config:e}),t})();h&&d.setBidderConfig(h,!0),window.PageOS.Prebid.triggerUserSyncs=()=>{window.PageOS.Prebid.userSyncTriggered||(window.PageOS.Prebid.userSyncTriggered=!0,d.triggerUserSyncs(),!1!==window.pwEdgeFlags.pairEnabled&&window.__pwpbjs__.refreshUserIds())},Ee(d);try{window.ramp.settings._prebidReceivedBids=window.ramp.settings._prebidReceivedBids||{},window.ramp.settings._prebidBiddersCalled=window.ramp.settings._prebidBiddersCalled||{},d.onEvent("auctionEnd",(e=>{e.adUnitCodes.forEach((e=>{window.ramp.settings._prebidReceivedBids[e]=[],window.ramp.settings._prebidBiddersCalled[e]=[]})),e.bidsReceived&&e.bidsReceived.length>0&&e.bidsReceived.forEach((e=>{window.ramp.settings._prebidReceivedBids[e.adUnitCode].push(e.bidder)})),e.bidderRequests&&e.bidderRequests.length>0&&e.bidderRequests.forEach((({bidderCode:e,bids:t})=>{t.forEach((({adUnitCode:t})=>{window.ramp.settings._prebidBiddersCalled[t].push(e)}))}))}))}catch(e){S.GE.warn('Error happened during configuring "auctionEnd" custom handler',e)}let f;d.onEvent("setTargeting",(e=>{const t=window.PageOS.Prebid.bidMap[window.ramp.pbKey];t&&Object.keys(e).forEach((i=>{const n=e[i].hb_bidder;if(!n)return;const o="client_side"===t[n]?"client":"server",s=window.ramp.settings.slots[i];s&&window.googletag.cmd.push((()=>{s.slot&&(s.slot.setTargeting("bid_type",o),"server"===o&&_(s.slot,e[i]))}))}))})),d.onEvent("addAdUnits",(()=>{Ke()&&(r.adUnits=d.adUnits.filter((e=>"prebid_video"!==e.code))),a.adUnits=d.adUnits.filter((e=>"prebid_video"===e.code))})),window.__pwpbjs__.onEvent("auctionInit",(e=>{f=e.adUnits&&e.adUnits.some((e=>e.bids&&e.bids.some((e=>e.userIdAsEids&&e.userIdAsEids.some((e=>"liveintent.com"===e.source||e.uids&&e.uids.some((e=>e.ext&&"liveintent.com"===e.ext.provider)))))))),ze(f)})),window.__pwpbjs__.onEvent("bidWon",(()=>{ze(f,0===window.__pwpbjs__.getAllPrebidWinningBids().length)}));const b=e=>{const t=Array.isArray(e)?e:[e];t.forEach((e=>{e.mediaTypes?.banner?.sizes&&(e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.filter((e=>2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])))})),d.addAdUnits(t)},_=(e,t)=>{Object.keys(t).forEach((i=>{const n=i.slice(0,20),o=t[i];e.clearTargeting(i),e.setTargeting(n,o)}))},v=(t,i)=>{const n=window.PageOS.Prebid.bidMap,o=d.getConfig("s2sConfig"),s=(e=>{if(e&&e.includes("prebid_video"))return(0,y.a$)()?.headerBidding;let t=window.ramp?.settings?.config?.headerBidding;if(!t||!e)return;t=e.includes("corner_ad_video")||e.includes("precontent_ad_video")?t.video||t:t.display||t;const i=window.ramp.settings.device;return t="tablet"===i&&void 0===t.tablet?t.mobile:t[i],t})(i.adUnitCodes);s?.s2sTimeout?o.timeout=s.s2sTimeout:i.timeout&&(o.timeout=e-200);const r=[],a={aliases:{}};if(n&&n[t]&&Object.keys(n[t]).forEach((e=>{const i=n[t][e];"server_side"===i?(r.push(e),((e,t)=>{"districtm"===e?t.districtm="appnexus":0===e.indexOf(Ze)&&(t[e]=`${e.replace(Ze,"")}`)})(e,a.aliases)):"openrtb"===i&&(r.push(e),a.aliases[e]=`${e}_ortb`)})),!(0,y.Fz)()){const e=e=>.98*e;r.forEach((t=>{t.startsWith("s2s_")&&(d.bidderSettings[t]={bidCpmAdjustment:e})}))}o.bidders=r,o.extPrebid=a,d.setConfig({s2sConfig:o});const l=i.bidsBackHandler;i.bidsBackHandler=e=>{const t=i;l(e),t.adUnitCodes.forEach((e=>{let t="",i={};"prebid_video"===e?(t="prebidVideoSlotAuctionEnd",i={unit_type:e="trendi_video",slot_id:e,refresh_count:null},window.PageOS.pagePulse.markPerformanceEvent(t,i)):(t="prebidSlotAuctionEnd",i={unit_type:window.ramp?.settings?.slots[e]?.type||e,slot_id:e,refresh_count:window.ramp?.settings?.slots[e]?.pbjsRefreshes||0},window.PageOS.pagePulse.markPerformanceEvent(t,i))}))},d.requestBids(i)};Ke()&&(r.que.push=e=>{d.que.push(e)},r.adUnits=r.adUnits||[],r.addAdUnits=e=>{b(e)},r.removeAdUnit=e=>{d.removeAdUnit(e),r.adUnits=d.adUnits.filter((e=>"prebid_video"!==e.code))},r.requestBids=e=>{const t=window.__pwpbjs__.adUnits,i=window.ramp?.settings?.headerBidding?.setPriceFloor;var n,o;Array.isArray(i)&&(n=t,void 0!==(o=i)&&$e(n,o));const s=e.adUnitCodes;s&&s.forEach((e=>{const t={unit_type:window.ramp?.settings?.slots[e]?.type||e,slot_id:e,refresh_count:window.ramp?.settings?.slots[e]?.pbjsRefreshes||0};window.PageOS.pagePulse.markPerformanceEvent("prebidSlotAuctionStart",t)})),v("pbjs",e)},r.setTargetingForGPTAsync=(e,t)=>{"function"==typeof t?d.setTargetingForGPTAsync(e,t):d.setTargetingForGPTAsync(e)},r.renderAd=(e,t)=>{d.renderAd(e,t)},r.triggerUserSyncs=()=>{window.PageOS.Prebid.triggerUserSyncs()}),a.que.push=e=>{d.que.push(e)},a.adUnits=a.adUnits||[],a.getConfig=()=>d.getConfig(),a.requestBids=e=>{void 0===e.adUnitCodes&&(e.adUnitCodes=["prebid_video"]);const t=e.adUnitCodes;t&&t.forEach((e=>{if("prebid_video"===e){const e="trendi_video",t={unit_type:window?.ramp?.settings?.slots[e]?.videoType,slot_id:e,refresh_count:null};window.PageOS.pagePulse.markPerformanceEvent("prebidVideoSlotAuctionStart",t)}})),v("__pwhbjs",e)},a.addAdUnits=e=>{b(e)},a.removeAdUnit=e=>{d.removeAdUnit(e),a.adUnits=d.adUnits.filter((e=>"prebid_video"===e.code))},a.triggerUserSyncs=()=>{window.PageOS.Prebid.triggerUserSyncs()},"function"==typeof i&&i(),window.PageOS.BUS.emit("prebid_loaded")},window.PageOS.Prebid.init=({timeout:e,ITP:t,callback:i,sid:n,s2sConfig:o,randomize:s=!1})=>{if(o=o||{bidders:[]},n&&"string"!=typeof n&&(n=n.toString()),window.PageOS.Prebid.libLoaded)return void("function"==typeof i&&i());window.PageOS.Prebid.libLoaded=!0;let r=navigator.userAgent.toLowerCase().indexOf("blitz")>=0||location.origin.indexOf("blitz.gg")>=0?"https://cdn.intergient.com/prebid/prebid_blitz.js":"https://cdn.intergient.com/prebid/prebid.js";r=window.location.host.indexOf("ffxivteamcraft")>-1?"https://cdn.intergient.com/prebid/prebid_teamcraft.js":"https://cdn.intergient.com/prebid/prebid.js",window.__pwpbjs__&&window.__pwpbjs__.libLoaded?(window.__pwpbjs__=window.__pwpbjs__||{},window.__pwpbjs__.que=window.__pwpbjs__.que||[],window.__pwpbjs__.que.push((()=>{window.PageOS.Prebid.afterPrebidLoaded(e,t,i,n,o,s)}))):ke(r,!0,(()=>{window.PageOS.Prebid.afterPrebidLoaded(e,t,i,n,o,s)}))},window.PageOS.Prebid.checkBiddersOverride=(e,t)=>{const i=!!window.ramp?.override?.headerBidding&&window.ramp.override.headerBidding;if(!i)return;let n=e.order,o=!(!i||void 0===i[t])&&i[t].client;n&&Array.isArray(o)&&(e.order=o.filter((e=>n.includes(e)))),n=e.s2sBidders,o=!(!i||void 0===i[t])&&i[t].s2sBidders,n&&Array.isArray(o)&&(e.s2sBidders=o.filter((e=>n.includes(e))))}}var tt=i(9239),it=(i(5285),i(6238)),nt=i(1620);const ot=e=>{tt.Ay.info("Page has Focus Again, Refreshing Slots");const t=Object.keys(e.slots);for(let i=0;i<t.length;i++){const n=t[i];if("corner_ad_video"===e.slots[n].type)continue;const o=e.slots[n].rules,s=o&&o.refresh&&o.refresh.refreshOnTabFocus,r=void 0===s||!0===s,a=!0;e.slots[n].slot&&r&&(0,nt.UM)(n,a,!0)}},st=e=>{void 0!==document.visibilityState&&window.document.addEventListener("visibilitychange",(()=>{const t="hidden"!==document.visibilityState;e.hasFocus=t,((e,t)=>{const i=t.slots,n=[];Object.keys(i).forEach((e=>{i[e].slot&&n.push(e)})),window.googletag.pubads().setTargeting("page_focus",`${e}`),n.forEach((t=>{const n=i[t];let o=!1;e&&(n.viewability>49?o=!0:"pw-oop-flex_leaderboard"!==t&&"pw-oop-flex"!==t&&"web_interstitial"!==t||(o=!0)),n.inView=o,n.slot.setTargeting("in_view",`${o}`)}))})(t,e),t&&setTimeout(ot,0,e)}))};var rt=i(6405);const at=()=>window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape";var dt=i(1709);const lt=window.PageOS.dataStream;class ct{constructor(e){this.KINESIS_API=lt,this._sessionId=e.uuid;const t=window.ramp.settings.hbEnabled&&(0,dt.PQ)(e.config.headerBidding);this._timeout=t?t[e.isMobile?"mobile":"desktop"].timeout:0,this._settings=e,this._filterOut=rt.Os.test(window.navigator.userAgent),this._filterOut=this._filterOut||rt._y.includes(this._sessionId),this._units=[],this._auctions=[],this._isBenchmarking=7===Math.floor(10*Math.random()+1);let i=!0;e.configOverride&&(i=!1),this._pipelines={apps:{STREAM_NAME:i?"apps-production":"apps-development",VERSION:"0.8.0",queue:[],units:[]}},this._environmentalData=this._collectEnvironmentalData(),this.newAppSession(),this._filterOut}newAppSession(){const e={sampling:window.rampSampling,rate:this._settings.samplingRate},t={event_type:"app_sessions",id:this._sessionId,pageos_session_id:window.PageOS.session?window.PageOS.session.getUUID:"",appData:this._collectAppData(),samplingEvents:{app_sessions:e,benchmarks:e,hb_ab_tests:e,ad_auctions:e,ad_bids:e,ad_units:e,ad_impressions:this._getSamplingOverride("ad_impressions",e)},environmentalData:this._environmentalData};if(window._pwTycheAB){const{name:e,type:i}=window._pwTycheAB,n=e.replace(/ /g,"_");t.appData.variant[n]=i}const i={data:t,pipeline:"app"};this.KINESIS_API.handleEvent("registerApp",i)}_getSamplingOverride(e,t){const i={...t};return"ad_impressions"===e&&(i.sampling=void 0!==window._adImpressionSampling?window._adImpressionSampling:i.sampling,i.rate=void 0!==window._adImpressionSR?window._adImpressionSR:i.rate),i}newBenchmark(e,t){if(!this._isBenchmarking)return;const i={data:{event_type:"benchmarks",id:this.KINESIS_API.randomUuid("benchmarks"),session_id:this._sessionId,type:e,duration:t,...this._environmentalData,...this._collectEventMetadata(this._pipelines.apps)},pipeline:"app"};this.KINESIS_API.handleEvent("benchmarks",i)}headerBiddingABTest(e){const t={data:{event_type:"hb_ab_tests",app_session_id:this._sessionId,hb_test:e,...this._collectEventMetadata(this._pipelines.apps)},pipeline:"app"};this.KINESIS_API.handleEvent("hb_ab_tests",t)}_extractHostname(e){let t=e;try{t=/\/\/(.[^/]+)/.exec(e)[1]}catch(e){}return t}_getPubUrl(){const e=window.top===window,t=window.document.referrer;let i=window.location.href,n=window.location.hostname;return e||(t&&t.indexOf(this._settings.config.url)>-1?(i=t,n=this._extractHostname(t)):(i=this._settings.config.url,n=this._extractHostname(this._settings.config.url))),{pageUrl:i,pageHostname:n}}_collectAppData(){return{build_timestamp:this._settings.buildTimestamp,name:"tyche",version:this._settings.version,variant:{}}}_collectEnvironmentalData(){const e=window.PageOS.environment,t=window.navigator.connection||{},i=this._getPubUrl();let n=window.document.referrer;return""===n&&(n=null),{ads_blocked:e.adBlock,app:this._collectAppData(),connection_downlink:t.downlink,country_code:this._settings.country,publisher_id:this._settings.config.settings.publisherId,page_url:i.pageUrl,page_hostname:i.pageHostname,referrer_url:n,referrer_hostname:this._extractHostname(n),screen_height:e.getBrowserInfo().screenHeight,screen_orientation:at(),screen_width:e.getBrowserInfo().screenWidth,user_agent:window.navigator.userAgent,website_categories:(0,we.iG)(this._settings.config.settings),website_id:this._settings.config.id,window_height:e.getBrowserInfo().height,window_width:e.getBrowserInfo().width,...this._getCustomReportingFields(),...this._getUtmParamsFields()}}_getCustomReportingFields(){const e=window.PageOS.getAllCustomReportingKVs(),t={};return Object.keys(e).forEach((i=>{t[i]=e[i]})),t}_getUtmParamsFields(){const e=window.PageOS.getAllUtmParams(),t={};return Object.keys(e).forEach((i=>{t[i]=e[i]})),t}_collectEventMetadata(e){return{sampling_rate:this._settings.samplingRate,version:e.VERSION,timestamp:this.KINESIS_API.athenaFriendlyTimestamp()}}}var pt=i(6170),gt=i(912),ut=i(5919);function wt(e=!1){return new Promise((t=>{if(!0===window.ramp.passiveMode)return void t();document.addEventListener("DOMContentLoaded",(()=>{e?t():((0,ut.vU)(window.ramp.settings).then((()=>{t()})).catch((e=>{tt.Ay.error("Find Tags",e),t()})),(0,we.aE)("domLoading_to_domContentLoaded",window.performance.timing.domLoading))})),document.onreadystatechange=()=>{"complete"===document.readyState&&(0,we.aE)("domLoading_to_domComplete",window.performance.timing.domLoading,window.performance.timing.domComplete)};const i=setInterval((()=>{if("interactive"===document.readyState||"complete"===document.readyState){if(clearInterval(i),e)return void t();(0,ut.vU)(window.ramp.settings).then((()=>{t()})).catch((e=>{tt.Ay.error("Find Tags",e),t()}))}}),1)}))}var mt=i(5134),ht=i(6288);var ft=i(2876),yt=i(8900),bt=i(8804),_t=i(2384),vt=i(5591),St=i(3711);const At=(e={})=>{if(window.ramp.settings.roadblockActive)return;tt.Ay.info("Roadblock Set",null,"color:black;background:orange;"),window.ramp.settings.roadblockActive=!0;const t=e.refreshInMs||3e4;kt(!0),Et(!0),setTimeout((()=>{It()}),t)},kt=e=>{const t=window.ramp.settings.slots.corner_ad_video;if(!t||!t.element)return;const i=t.element.parentElement?.classList.contains("pw-corner-ad-video")?t.element.parentElement:t.element;e?i.classList.add("pw-tps"):i.classList.remove("pw-tps");const n=t.element.querySelector("video");n&&(e?n.pause():n.play())},Et=e=>{Object.keys(window.ramp.settings.slots).forEach((t=>{const i=window.ramp.settings.slots[t];"left_rail"!==i.type&&"right_rail"!==i.type&&"bottom_rail"!==i.type||(e?i.element.classList.add("pw-tps"):e||i.element.classList.remove("pw-tps"))}))},It=()=>{window.ramp.settings.roadblockActive=!1,tt.Ay.info("Roadblock Removed",null,"color:black;background:orange;"),window.PageOS.BUS.emit("roadblock:removed"),kt(!1),Et(!1)},Pt=e=>e?window.ramp.settings[e]:window.ramp.settings,Ot=e=>window.ramp.settings.slots[e].slot,xt=e=>{const t=window.ramp.settings,i='Please provide a unit id to block. Or use "ALL" to block all refreshes';if(!e)return tt.Ay.warn(i);if(void 0===t.slots[e]&&"all"!==e.toLowerCase())return tt.Ay.warn(i);if(tt.Ay.info("Tyche Block refresh called for",e),"all"===e.toLowerCase()){const e=Object.keys(t.slots);for(let i=0;i<e.length;i++){const n=e[i];t.slots[n].refreshBlocked=!0}}else t.slots[e].refreshBlocked=!0},Ct=e=>{if(void 0===window.ramp.settings.slots[e])return tt.Ay.warn("tried to reloadHeavyAd on an unexisting slot");(0,nt.Zx)(e)},Mt=()=>{try{Object.keys(window.ramp.settings.slots).forEach((e=>{const t=window.ramp.settings.slots[e];"corner_ad_video"===t.type&&t.__destroyUnit()}))}catch(e){tt.Ay.error("Error happened during destroying Corner Ad Video slot",e)}},Tt=e=>{if(!e)return tt.Ay.warn("tried to refreshVideoAd on an unexisting slot");if("corner_ad_video"===e||"precontent_ad_video"===e)try{window.ramp.settings.slots[e].__refreshSlot()}catch(e){tt.Ay.error("Cannot refresh Corner Ad Video slot",e)}else(0,nt.Zx)(e)};window.ramp.displayPrecontent=()=>{try{window.ramp.settings.slots.precontent_ad_video.__displayPrecontent()}catch(e){tt.Ay.error("Cannot display Precontent Ad Video slot",e)}},window.ramp.requestPrecontentAd=()=>{try{window.ramp.settings.slots.precontent_ad_video.__requestAd()}catch(e){tt.Ay.error("Cannot request a Precontent Ad Video",e)}},window.ramp.showPrecontentAd=()=>{try{window.ramp.settings.slots.precontent_ad_video.__showAd()}catch(e){tt.Ay.error("Cannot show Precontent Ad Video",e)}},window.ramp.revealContent=e=>{if(!e)return tt.Ay.warn("tried to reveal content from an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__revealContent()}catch(e){tt.Ay.error("Cannot reveal content from Precontent Ad Video slot",e)}},window.ramp.showLoader=e=>{if(!e)return tt.Ay.warn("tried to show loader on an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__showLoader()}catch(e){tt.Ay.error("Cannot show loader on Precontent Ad Video slot",e)}},window.ramp.hideLoader=e=>{if(!e)return tt.Ay.warn("tried to hide loader on an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__hideLoader()}catch(e){tt.Ay.error("Cannot hide loader on Precontent Ad Video slot",e)}},window.ramp.hideTargetArea=e=>{if(!e)return tt.Ay.warn("tried to hide target area for an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__hideTargetArea()}catch(e){tt.Ay.error("Cannot hide target area for Precontent Ad Video slot",e)}},window.ramp.toogleFullscreen=e=>{if(!e)return tt.Ay.warn("Tried to toogleFullscreen from an unexisting slot");if("corner_ad_video"===e)try{window.ramp.settings.slots[e].__toogleFullscreen()}catch(e){tt.Ay.error("Cannot toogleFullscreen for Corner Ad Video slot",e)}};const Bt=(e,t,i="")=>e?"precontent_ad_video"===e?tt.Ay.info("Refresh is not enabled for Precontent Ad Video slot"):"rewarded_ad_video"===e?tt.Ay.info("Refresh is not enabled for Rewarded Ad Video slot"):void(0,nt.rA)(e,t,i):tt.Ay.warn("tried to softRefreshVideoAd on an unexisting slot"),zt=e=>{if(!e)return tt.Ay.warn("tried to handleBlankCornerVideoAd on an unexisting slot");const t=window.ramp.settings.slots[e];if(!t||"corner_ad_video"!==t.type||"function"!=typeof t.__handleBlankAd)return tt.Ay.warn(`failed to call blank ad handler for unit "${e}"`);t.__handleBlankAd()};window.ramp.handleBlankPrecontentVideoAd=(e,t=!1)=>{if(!e)return tt.Ay.warn("tried to handleBlankPrecontentVideoAd on an unexisting slot");const i=window.ramp.settings.slots[e];if(!i||"precontent_ad_video"!==i.type||"function"!=typeof i.__handleBlankAd)return tt.Ay.warn(`failed to call blank ad handler for unit "${e}"`);i.__handleBlankAd(t)};const Dt=(e,t)=>{if(t=t||{},!e)return tt.Ay.warn("tried to videoAdImpressionTriggered on an unexisting slot");const i=window.ramp.settings.slots[e];if(i&&("corner_ad_video"===i.type||"precontent_ad_video"===i.type||"rewarded_ad_video"===i.type)){const n={};null!==i.targeting&&"object"==typeof i.targeting&&Object.keys(i.targeting).length>0&&Object.keys(i.targeting).forEach((e=>{n[e]=Lt(i.targeting[e])}));let o=i.playerSize.join("x");void 0!==i.isDocked&&!1===i.isDocked&&(o=i.playerSizeInline?.join("x")),"precontent_ad_video"===i.type&&(t.adUnitCode=window.ramp.settings.slots[e]?.config?.code),window.PageOS.dataStream.handleEvent("sendVideoImpression",{slotId:e,pbjsBid:i.pbjsBid,amznBid:i.amazonBid,size:o,slotData:t.isEmpty?{}:t,targeting:n}),"function"==typeof i.__handleVideoImpression&&i.__handleVideoImpression()}},Rt=e=>{if(!e)return tt.Ay.warn("tried to contentVideoPlaysTriggered on an unexisting slot");const t=window.ramp.settings.slots[e];t&&"corner_ad_video"===t.type&&window.PageOS.dataStream.handleEvent("contentVideoPlays",{slotId:e})},Ut=e=>{if(!e)return tt.Ay.warn("Tried to contentVideoCompleted on an unexisting slot");const t=window.ramp.settings.slots[e];if(!t||"corner_ad_video"!==t.type||"function"!=typeof t.__shouldPlayContentVideo)return tt.Ay.warn(`Failed to call contentVideoCompleted for unit "${e}"`);t.__shouldPlayContentVideo()},Lt=e=>{let t;return Array.isArray(e)?e.length>1?t=e:1===e.length&&(t=`${e[0]}`):t=`${e}`,t},jt=e=>{const t=window.ramp.settings.slots[e];void 0!==t&&t.element&&(document.getElementById(`${e}BtnAdId`)&&document.getElementById(`${e}BtnAdId`).remove(),t.element.classList.remove("pw-tps"),t.isHidden=!1,tt.Ay.info(`ramp.showAdSlot: Showing ${e}`))},Nt=(e,t=!1)=>{const i=window.ramp.settings.slots[e];if(void 0!==i&&i.element&&(i.element.classList.add("pw-tps"),i.isHidden=!0,tt.Ay.info(`ramp.hideAdSlot: Hiding ${e}`),t&&!document.getElementById(`${e}BtnAdId`))){const t=document.createElement("button"),n=document.createTextNode("Show ad");t.id=`${e}BtnAdId`,t.style.display="block",t.style.margin="0 auto",t.style.color="#4db2ec",t.style.background="none",t.style.border="#4db2ec",t.style.fontFamily='"Open Sans",arial,sans-serif !important',t.style.fontSize="10px",t.appendChild(n),t.addEventListener("click",(()=>window.ramp.showAdSlot(e))),i.element.parentElement.appendChild(t)}},Wt=e=>{const t=window.ramp.settings.slots[e];void 0!==t&&("function"!=typeof t.close?("corner_ad_video"===e&&tt.Ay.warn("Call another method 'ramp.takeOver(true)' to hide this unit"),t.element.classList.add("pw-tps"),t.on=!1,t.refreshBlocked=!0,clearTimeout(t.refreshTimeout),tt.Ay.info(`Hiding ${e}`),"pw-oop-bottom_rail"!==e||window.ramp.takeOverActive||(t.refreshTimeout=setTimeout((()=>{t.element.classList.remove("pw-tps"),t.on=!0,t.refreshBlocked=!1,(0,nt.UM)(e,!0)}),31e3))):t.close())},Vt=e=>{Array.isArray(e)?e.forEach((e=>{window.ramp.hideSlot(e)})):tt.Ay.error("Please pass an array of slots")},$t=(e,t)=>{t||tt.Ay.error("No ad_id present in creative code"),window[window.ramp.pbKey].renderAd(e,t)},Ht=(e,t,i)=>{const n=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;e?(window.ramp.settings.slots[e].amazonBid={hasBid:!0,mediaType:"outstream"},window.ramp.settings.slots[e].pbjsBid=null,n&&n.debug(`[${e}] Start custom video rendering of Amazon bid`),(0,_t.Oq)({amzniid:t,amznbid:i}).then((t=>{t?(n&&n.debug(`[${e}] VAST from Amazon received`),(0,vt.F)((0,_t.yw)(),(()=>{n&&n.debug(`[${e}] Custom video player loaded`);try{n&&n.debug(`[${e}] Start rendering for VAST from Amazon`),(0,_t.CX)({adUnitCode:e,vastXml:t,amazonBid:!0})}catch(t){n&&n.error(`[${e}] Error happened during running of custom video player`,t)}}))):n&&n.error(`[${e}] Empty response from Amazon server`)})).catch((t=>{n&&n.error(`[${e}] Error happened during rendering video from Amazon bid`,t)}))):n&&n.error('Amazon video render function is called with empty "slotId"')},Ft=(e=!0)=>{window.ramp.settings;if(window.ramp.takeOverActive=!0,e&&("function"==typeof window.ramp.closeCornerVideo&&window.ramp.closeCornerVideo(),window.ramp.destroyCornerAdVideo()),document.getElementById("pw-dp"))try{window.Bolt.removeVideo("docked-player",!0),document.getElementById("dp-container").innerHTML=""}catch(e){}Zt(),window.ramp.hideSlot("pw-oop-left_rail"),window.ramp.hideSlot("pw-oop-right_rail"),window.ramp.hideSlot("pw-oop-bottom_rail")},Zt=()=>{const e=window.ramp.settings,t=Object.keys(e.slots);for(let i=0;i<t.length;i++){const n=t[i],o=e.slots[n];void 0===o.videoType&&(o.refreshBlocked=!0,!1===o.queued&&(o.on=!1))}},qt=e=>{window.ramp.settings.slots[e].amazonBid={hasBid:!0,mediaType:"display"},tt.Ay.info("Amazon Impression Fired For Slot",e)},Xt=e=>{tt.Ay.info("setting isMobile",e.toString()),window.ramp.isMobile=!0,window.ramp.settings.isMobile=!0,window.ramp.settings.deviceSelector=e?"mobi":"desk"},Gt=e=>{let t=e||0;const i=window.ramp.settings,n=(0,we.mG)(),o=document.getElementById("tyche_trendi_video_container"),s=Object.keys(i.slots);for(let e=0;e<s.length;e++){const n=s[e],r=i.slots[n];r.isEmpty&&!(0,we.UR)(r)||(t+=Yt(r),(r.viewability>0||void 0===r.viewability)&&(0,we.Xb)(r)&&(t-=(0,yt.XA)(r.element||o)))}return Number((t/n).toFixed(2))},Yt=e=>"Bolt Player"===e.videoType?(0,yt.OL)("tyche_trendi_video_container"):"corner_ad_video"===e.type?(0,yt.OL)("corner_ad_video"):e.size&&2===e.size.length?e.size[0]*e.size[1]*(e.viewability/100):0,Jt=e=>{const t=window.ramp.settings,i="Scroll"===e?t.scrollDelayedSlots:t.clickDelayedSlots;for(let e=0;e<i.length;e++){const t=i[e];(0,nt.UM)(t.id,!0)}"Scroll"===e?t.scrollDelayedSlots=[]:t.clickDelayedSlots=[]},Kt=()=>{window.ramp.tpsBottomRailEnabled=!0,window.PageOS.BUS.emit("bottom_rail_loaded")},Qt=e=>{window.ramp.settings.tags=window.ramp.settings.tags||[];const t=document.getElementById(e);t&&((0,yt.RP)(t)||t.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`)&&(window.ramp.settings.tags.push(t),(0,bt.R)(t,!1)))},ei=()=>{try{window.PageOS.gdpr&&window.PageOS.gdpr.userInEU&&(tt.Ay.info("showCmpModal called.",{userCC:window.PageOS.gdpr.userCC}),window.__cmp?window.__cmp("showConsentTool"):window.googlefc.callbackQueue.push(window.googlefc.showRevocationMessage))}catch(e){tt.Ay.warn("Unable to display CMP modal.")}},ti=e=>{const t=window.PageOS.logger;Object.keys(t.loggersByName).forEach((i=>{0===i.toLowerCase().indexOf("tyche")&&t.loggersByName[i].setLevel(t[e.toUpperCase()])}))},ii=()=>{tt.Ay.info("Refresh API Triggered"),(()=>{if(window.ramp.settings.roadblock)return;const e=window.ramp.settings;return new Promise(((t,i)=>{const n=[],o=Object.keys(e.slots);for(let t=0;t<o.length;t++){const i=o[t];if(void 0!==e.slots[i].videoType||void 0===e.slots[i].slot)continue;const s=e.slots[i];if(void 0!==s.rules.refresh&&"Auto"!==s.rules.refresh.type&&!1!==s.rules.refresh.enabled&&s.refreshes!==s.rules.refresh.limit&&!0!==s.refreshBlocked&&("inViewOnly"!==s.rules.refresh.condition||!1!==s.inView))if(Date.now()-s.lastRefresh<1e3*s.rules.refresh.rate){const e=1e3*s.rules.refresh.rate-(Date.now()-s.lastRefresh);console.warn(`You are attempting to refresh ${s.id} too quickly. Please Wait ${e}ms`)}else s.refreshes++,s.pbjsBid=null,s.amazonBid={hasBid:!1},s.slot.setTargeting("refresh","true"),s.slot.setTargeting("refresh_count",s.refreshes),s.slot.setTargeting("refresh_type","Triggered"),s.slot.setTargeting("lld_id",(0,we.t3)()),(0,we.j)(s.slot),s.lastRefresh=Date.now(),n.push(s)}if(0!==n.length)if(!1===e.hbEnabled)(0,mt.A)(n.map((e=>(t("Refresh Triggered Successfully"),e.slot))));else{const i=Date.now();let o=700,s=!1;const r=(0,dt.PQ)(e.config.headerBidding);void 0!==r&&(o=void 0!==r.order?r.timeout:e.headerBidding.timeout),e.apstagLoaded&&window.PageOS.apstag.fetchBids(e.amazonSlots,o).then((t=>{tt.Ay.info("Amazon Refresh Bids Back",{time:Date.now()-i,bids:t}),s=t,e.amazonSlots.forEach((e=>{(0,ht.f3)(s,e)}))})),n.forEach((e=>{e.ortb2Imp=(0,we.IR)(e.code)})),window[window.ramp.pbKey].que.push((()=>{window[window.ramp.pbKey].requestBids({adUnitCodes:n.map((e=>e.id)),timeout:o,labels:[e.uuid],bidsBackHandler:()=>{s&&(0,we.mq)(s),window[window.ramp.pbKey].setTargetingForGPTAsync(n.map((e=>e.id))),(0,mt.A)(n.map((e=>e.slot))),t("Refresh Triggered Successfully")}})}))}else i("No Units Applicable For A Triggered Refresh")}))})().then((e=>{tt.Ay.info(e)})).catch((e=>{const t="object"==typeof e&&e.stack?"error":"warn";tt.Ay[t](e)}))},ni=e=>{window.ramp.settings.adsPerformance=!1,(0,ft.yR)(e).then((()=>{})).catch((e=>{tt.Ay.info("Change Path Error",e)}))},oi=e=>{"function"==typeof e&&(tt.Ay.info("Interstitial API called, feature not active."),e())},si=e=>{window.ramp.settings.expandableBottomRail={},window.ramp.settings.expandableBottomRail.served=!0,window.ramp.settings.expandableBottomRail.blockRefresh=!0===e?.blockRefresh},ri=()=>new Promise(((e,t)=>{const i=window.ramp.settings,n=[...i.units.sec,...i.units.ros];i.selectorBasedIabUnits=[];for(let e=0;e<n.length;e++){const t=n[e];"standard_iab"===t.unit&&(i.selectorBasedIabUnits.includes(t.alias)||i.selectorBasedIabUnits.push(t.alias))}return(0,ut.nk)(!0,!0).then((()=>(0,St.EX)())).then((()=>{e()})).catch((e=>((0,St.EX)(),t(e))))})),ai=window.PageOS.dataStream;class di{constructor(){if(rt.Tz.push("trendi_video","trendi_slideshow"),!0!==window.ramp.passiveMode)return!1;this._settings=window.ramp.settings,window.ramp.findUnits=this.findUnits.bind(this),window.ramp.addUnits=St.ry.bind(this),window.ramp.destroyUnits=St.Ub.bind(this),window.ramp.displayUnits=St.EX.bind(this),window.ramp.getUnits=this.getUnits.bind(this),window.ramp.setPath=this.setPath.bind(this),window.ramp.processPage=this.processPage.bind(this),window.ramp.spaNewPage=this.spaNewPage.bind(this),window.ramp.spaAds=this.spaAds.bind(this),window.ramp.spaAddAds=this.spaAddAds.bind(this)}findUnits(){return new Promise(((e,t)=>{(0,ut.vU)(this._settings).then((()=>{(0,ut.nk)().then((()=>e()))})).catch((e=>{t(`Find Tags ${e}`)}))}))}getUnits(){return Object.keys(this._settings.slots)}checkPath(e,t=!1){return new Promise(((i,n)=>{if(!e||"string"!=typeof e)return void n("No path provided");const o=this._settings;o.cp!==e||t?(e=(e=>{const t=window.ramp.settings,i=[];for(let n=0;n<t.config.units.length;n++){const o=t.config.units[n].path??t.config.units[n].section,s=o.substr(3,o.length-4);-1===i.indexOf(s)&&o.indexOf("CP[/")>-1&&0===e.indexOf(s)&&i.push(s)}return i.length>0?i.reduce(((e,t)=>e.length>t.length?e:t)):e})(e),o.cp=e,o.atHome=!1,"/"===e&&(o.atHome=!0,o.cp=null),i()):n(`Already on path: ${e}`)}))}setPath(e,t){return this.checkPath(e,t).then((()=>window.PageOS.tyche.findUnitsBySection())).catch((e=>{throw tt.Sc.warn("Error in setPath:",e),e}))}processPage(e,t,i){tt.Sc.debug("process Page method called.");let n=e;return new Promise((o=>{e||(n=window.ramp.settings.cp||"/"),window.PageOS.session.newPageView(),ai.sendPageViewEvent(),window.ramp.setPath(n,!0).then((()=>{const e=((e,t)=>Array.isArray(t)?e.filter((e=>!t.includes(e))):e)(window.ramp.getUnits(),t),n=e.filter((e=>{const t=this._settings.slots[e]?.type;return t&&"rewarded_video"!==t&&"web_interstitial"!==t&&"rewarded_ad_video"!==t}));let s=n.map((e=>{let t=this._settings.slots[e]?.type;return"leaderboard"!==t&&"med_rect"!==t&&"160x600"!==t||(t=`${t}_${this._settings.slots[e].pos}`),{type:t,selectorId:this._settings.slots[e]?.element?.dataset?.selectorId}}));s=i?((e,t)=>[...e,...(t=Array.isArray(t)?t:[t]).filter((e=>e.type))])(s,i):s,window.ramp.destroyUnits(n).then((()=>{window.ramp.addUnits(s).then((()=>{window.ramp.displayUnits().then((()=>{o()}))}))}))}))}))}spaNewPage(e){return new Promise(((t,i)=>{Object.keys(window.ramp.settings.slots).length>0&&ai.sendPageViewEvent(),(0,St.Ub)("all").then((()=>"string"==typeof e&&window.ramp.setPath(e,!0))).then((()=>{const e=window.ramp.settings,t=[...e.units.sec,...e.units.ros];e.selectorBasedIabUnits=[];let i=!1;for(let n=0;n<t.length;n++){const o=t[n];for(let e=0;e<o.rules.length;e++){const t=o.rules[e].rule;void 0!==t.locationSelector&&""!==t.locationSelector&&(i=!0)}"standard_iab"===o.unit&&e.selectorBasedIabUnits.push(o.alias)}return i})).then((()=>(0,ut.nk)(!0))).then((()=>(window.ramp.addUnits([{type:"in_content"},{type:"sidebar"},{type:"sticky_sidebar"},{type:"corner_ad_video"},{type:"precontent_ad_video"}]),window.ramp.displayUnits()))).then((()=>{t()})).catch((e=>(window.ramp.displayUnits(),i(e))))}))}spaAds(e={}){e.ads?this.lastCalledWithAds=e.ads:e.ads=this.lastCalledWithAds;const{ads:t,countPageview:i,path:n}=e||{};return new Promise(((e,o)=>{(0,St.Ub)("all").then((()=>(!1!==i&&ai.sendPageViewEvent(),"string"==typeof n&&window.ramp.setPath(n,!0)))).then((()=>window.ramp.addUnits(t))).then((()=>window.ramp.displayUnits())).then((()=>{e()})).catch((e=>{window.ramp.displayUnits(),tt.Sc.error("Error in spaAds:",e),o(e)}))}))}spaAddAds(e){return new Promise(((t,i)=>{window.ramp.addUnits(e).then((()=>{window.ramp.displayUnits(),t()})).catch((e=>{tt.Sc.error("Error in spaAddAds:",e),i(e)}))}))}}var li=i(6108);const ci=window.pwEdgeFlags&&window.pwEdgeFlags.cleanioSrc?window.pwEdgeFlags.cleanioSrc:"https://cadmus.script.ac/d25lqe4mlyaln6/script.js ";const pi=window.pwEdgeFlags&&window.pwEdgeFlags.adlSrc?window.pwEdgeFlags.adlSrc:"https://tagan.adlightning.com/playwire/op.js";var gi=i(2140);let ui=!1;const wi={},mi=e=>{const t=JSON.parse(e.data),{action:i,id:n}=t;if("boltRequestBackFill"===i){const e={action:"tycheBackFillEnabled",id:n},i=document.getElementById(`${n}_display_ad_container`),o=document.getElementById(n);if(wi.height=t.size.height,wi.width=t.size.width,o&&(0===wi.height&&(wi.height=o.getBoundingClientRect().height),0===wi.width&&(wi.width=o.getBoundingClientRect().width)),null===i)return;return Object.keys(window.ramp.settings.slots).find((e=>window.ramp.settings.slots[e].playerId===n))?(e.enabled=!0,void window.postMessage(JSON.stringify(e),"*")):(0,bt.P3)("video_backfill",!0,i).then((t=>{if(!t)return e.enabled=!1,e.reason="Not enabled.",void window.postMessage(JSON.stringify(e),"*");const i=t.rules&&t.rules.sizes?t.rules.sizes:t.config.sizes,o=[];for(let e=0;e<i.length;e++)i[e][0]<=wi.width&&i[e][1]<=wi.height&&o.push(i[e]);if(0===o.length)return e.enabled=!1,e.reason="No sizes.",void window.postMessage(JSON.stringify(e),"*");t.rules=t.rules||{},t.rules.sizes=o,e.enabled=!0,window.postMessage(JSON.stringify(e),"*"),t.playerId=n,t.lazy=!1,t.queued=!0,window.ramp.settings.slots[t.id]=t}))}if("boltRenderBackFill"===i){const e=window.ramp.settings,t=document.getElementById(`${n}_display_ad_container`),i=Object.keys(e.slots).find((t=>e.slots[t].playerId===n));if(null===t||!i){const e={action:"tycheBackFillComplete",success:!1,reason:"Not enabled.",id:n};return window.postMessage(JSON.stringify(e),"*")}return ui||window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{(({e,existingSlot:t,id:i})=>{const n=e.slot.getSlotElementId(),o=document.getElementById(`${i}_display_ad_container`);if(n===t)if(e.isEmpty){t&&(0,ft.Tz)(window.ramp.settings.slots[t]);const e={action:"tycheBackFillComplete",success:!1,reason:"No ad.",id:i};window.postMessage(JSON.stringify(e),"*")}else{const{width:n,height:s}=wi,r=e.size[0],a=e.size[1],d=n>=r&&s>=a;!d&&t&&(0,ft.Tz)(window.ramp.settings.slots[t]),o.style.display="block",o.style.height="100%",o.style.width="100%";const l={action:"tycheBackFillComplete",success:d,reason:d?"":"Ad too large.",size:[r,a],id:i};window.postMessage(JSON.stringify(l),"*")}})({e,existingSlot:i,id:n})})),ui=!0,!0!==window.ramp.settings.hbEnabled?void(0,mt.A)([e.slots[i].slot]):(0,gi.A)(e,i,t).then((t=>{t&&(0,we.mq)(t),window[window.ramp.pbKey].setTargetingForGPTAsync(i),window[window.ramp.pbKey].que.push((()=>{(0,mt.A)([e.slots[i].slot])}))}))}if("boltRemoveBackfill"===i){const e=document.getElementById(`${n}_display_ad_container`),t=Object.keys(window.ramp.settings.slots).find((e=>window.ramp.settings.slots[e].playerId===n));e.style.display="none",(0,ft.Tz)(window.ramp.settings.slots[t])}},hi=()=>{window.addEventListener("message",(e=>{try{mi(e)}catch(e){}}))};var fi=i(2344),yi=i(1447);function bi(e,t,i,n,o,s,r){try{var a=e[s](r),d=a.value}catch(e){return void i(e)}a.done?t(d):Promise.resolve(d).then(n,o)}function _i(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function r(e){bi(s,n,o,r,a,"next",e)}function a(e){bi(s,n,o,r,a,"throw",e)}r(void 0)}))}}function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function Si(e){var t=function(e,t){if("object"!=vi(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vi(t)?t:t+""}function Ai(e,t,i){return(t=Si(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ki=new class{constructor(){Ai(this,"prefix","[ML Module]"),Ai(this,"urlFlag","tychedebug"),Ai(this,"isDebugEnabled",!1),this.isDebugEnabled=window.location.hash.toLowerCase().indexOf(this.urlFlag)>-1}info(){if(this.isDebugEnabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.info("%c".concat(this.prefix),"color: lightblue; background: black;",...t)}}warn(){if(this.isDebugEnabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.warn("%c".concat(this.prefix),"color: yellow; background: black;",...t)}}error(){if(this.isDebugEnabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.error("%c".concat(this.prefix),"color: red; background: black;",...t)}}};class Ei{constructor(e){Ai(this,"configs",void 0),this.configs=e,ki.info("Storage initialized",this.configs)}getWebsiteId(){var e,t;if(this.configs)return null===(e=this.configs.website)||void 0===e||null===(t=e.websiteId)||void 0===t?void 0:t.toString();ki.error("Storage not initialized")}getAppConfig(){return this.configs?this.configs.website||{}:(ki.error("Storage not initialized"),{})}getModuleConfig(){return this.configs?this.configs.mlModule||{}:(ki.error("Storage not initialized"),{})}}function Ii(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Pi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(i),!0).forEach((function(t){Ai(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ii(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Oi{constructor(e){this.options=e,Ai(this,"defaultOptions",{retries:3,timeout:5e3}),this.defaultOptions=Pi(Pi({},this.defaultOptions),null!=e?e:{})}loadScript(e){var t=this;return _i((function*(){var i,n,o;if(!e.src)throw ki.error('[ScriptLoader] "src" parameter is required.'),new Error('"src" parameter is required.');try{new URL(e.src)}catch(t){throw ki.error("[ScriptLoader] Invalid URL provided - ".concat(e.src),t),new Error("Invalid URL provided.")}for(var s=Pi(Pi({},t.defaultOptions),null!==(i=e.options)&&void 0!==i?i:{}),r=null!==(n=s.retries)&&void 0!==n?n:3,a=null!==(o=s.timeout)&&void 0!==o?o:5e3,d=1;d<=r;d++)try{var l=yield t.loadScriptWithTimeout(e.src,a);return ki.info("[ScriptLoader] Script loaded successfully on attempt #".concat(d,".")),l}catch(e){if(ki.warn("[ScriptLoader] Attempt #".concat(d," failed with error: ").concat(e)),d===r)return ki.error("[ScriptLoader] All attempts to load the script have failed."),!1;yield t.delay(100)}return!1}))()}loadScriptWithTimeout(e,t){return new Promise(((i,n)=>{var o,s=document.createElement("script");s.src=e,s.async=!0;var r=()=>{clearTimeout(o),s.removeEventListener("load",a),s.removeEventListener("error",d)},a=()=>{r(),i(!0)},d=()=>{r(),n(new Error("Failed to load script: ".concat(e)))};o=window.setTimeout((()=>{s.parentNode&&s.parentNode.removeChild(s),ki.error("[ScriptLoader] Loading script timed out after ".concat(t," ms.")),r(),n(new Error("Timeout: Loading script took longer than ".concat(t," ms")))}),t),s.addEventListener("load",a),s.addEventListener("error",d),document.head.appendChild(s)}))}delay(e){return new Promise((t=>setTimeout(t,e)))}loadModule(e){var t=this;return _i((function*(){var i,n,o;if(!e.src)throw ki.error('[ScriptLoader] "src" parameter is required for module loading.'),new Error('"src" parameter is required.');try{new URL(e.src)}catch(t){throw ki.error("[ScriptLoader] Invalid URL provided - ".concat(e.src),t),new Error("Invalid URL provided.")}for(var s=Pi(Pi({},t.defaultOptions),null!==(i=e.options)&&void 0!==i?i:{}),r=null!==(n=s.retries)&&void 0!==n?n:3,a=null!==(o=s.timeout)&&void 0!==o?o:5e3,d=1;d<=r;d++)try{var l=yield Promise.race([import(e.src),new Promise(((e,t)=>setTimeout((()=>t(new Error("Timeout: Loading module took longer than ".concat(a," ms")))),a)))]);return ki.info("[ScriptLoader] Module loaded successfully on attempt #".concat(d,".")),l}catch(e){if(ki.warn("[ScriptLoader] Attempt #".concat(d," to load module failed: ").concat(e)),d===r)throw ki.error("[ScriptLoader] All attempts to load the module have failed."),new Error("Failed to load module after ".concat(r," attempts."));yield t.delay(100)}}))()}}function xi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ci(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(i),!0).forEach((function(t){Ai(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Mi=function(e){return e.CLIENT="client",e.SERVER="server",e}(Mi||{});class Ti{constructor(){Ai(this,"registry",void 0),Ai(this,"defaultClientConfig",{type:Mi.CLIENT}),this.registry=new Map}addModel(e,t){if(this.registry.has(e))throw new Error("Model '".concat(e,"' already exists"));var i=Ci(Ci({},this.defaultClientConfig),t||{});this.registry.set(e,i)}isModelReady(e){if(!this.registry.has(e))return!1;var t=this.registry.get(e);return(null==t?void 0:t.type)===Mi.CLIENT?!!t.loadedModule:(null==t||t.type,Mi.SERVER,!1)}getModel(e){var t;if(!this.isModelReady(e))throw new Error("Model '".concat(e,"' not found"));return null===(t=this.registry.get(e))||void 0===t?void 0:t.loadedModule}}var Bi=e=>Array.isArray(e)?e.filter((e=>"string"==typeof e&&e.length>0)):[],zi=e=>{if(e)return new Promise(((t,i)=>setTimeout((()=>i(new Error("Timeout"))),e)))};const Di=new class{constructor(e){Ai(this,"prefix","[PerformanceTracker]"),Ai(this,"events",void 0),Ai(this,"logger",void 0),this.events=new Map,this.logger=e||console}start(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!this.events.has(e)||t?this.events.set(e,{startTime:performance.now()}):this.logger.warn("".concat(this.prefix,' "').concat(e,'" is already in progress.'))}finish(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.events.get(e);if(i)if(void 0===i.endTime){i.endTime=performance.now();var n=this.roundToThreeDecimals(i.endTime-i.startTime);t?this.logger.warn('"'.concat(e,'" failed after ').concat(n," ms")):this.logger.info('"'.concat(e,'" took ').concat(n," ms"))}else this.logger.warn('"'.concat(e,'" is already finished.'));else this.logger.warn('"'.concat(e,'" was not started.'))}getTrackedEvents(e){var t={},i=0;return this.events.forEach(((e,n)=>{if(e.endTime){var o=this.roundToThreeDecimals(e.endTime-e.startTime);t[n]=o,i+=o}else t[n]="in progress"})),e&&(t.sum=this.roundToThreeDecimals(i)),t}roundToThreeDecimals(e){return Math.round(1e3*e)/1e3}}(ki);var Ri="pw-ml-bid-shaping";class Ui{constructor(e,t,i){Ai(this,"loadedModule",void 0),Ai(this,"websiteSettings",void 0),Ai(this,"moduleSettings",void 0),this.loadedModule=e,this.websiteSettings=t||{},this.moduleSettings=i||{}}generateHBSettings(e){var t=this;return _i((function*(){var i,n,o="display"===e?null===(i=t.websiteSettings.headerBidding)||void 0===i?void 0:i.displayBidders:null===(n=t.websiteSettings.headerBidding)||void 0===n?void 0:n.videoBidders,s=t.moduleSettings.bidShapingThreshold,r=[t.websiteSettings.countryCode||"",t.websiteSettings.browserName||"",t.websiteSettings.deviceType||"desktop",e,o||[],s||1];return ki.info("Bid shaping function called with arguments",r),t.loadedModule.get_ssp_list.apply(null,r)}))()}getNewHBConfigs(){var e=this;return _i((function*(){try{Di.start("bid_shaping_calculation",!0);var t=yield e.generateHBSettings("video"),i=yield e.generateHBSettings("display");return Di.finish("bid_shaping_calculation"),ki.info("Bid shaping prediction result for Video",t),ki.info("Bid shaping prediction result for Display",i),{video:Bi(null==t?void 0:t.final),display:Bi(null==i?void 0:i.final),preFilteredVideo:null==t?void 0:t.pre_filtered,preFilteredDisplay:null==i?void 0:i.pre_filtered,testRecordVideo:!1,testRecordDisplay:!1,indicesSetVideo:t.indices_set,indicesSetDisplay:i.indices_set,modelPbiVideo:t.model_pbi,modelPbiDisplay:i.model_pbi,headerBiddingModel:!0}}catch(e){throw Di.finish("bid_shaping_calculation",!0),e}}))()}}var Li=function(e){return e.NOT_INITIALIZED="not initialized",e.INITIALIZED="initialized",e.FAILED_TO_LOAD_SCRIPTS="failed to load basic ML script",e}(Li||{});class ji{constructor(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ai(this,"whenReady",void 0),Ai(this,"scriptLoader",void 0),Ai(this,"configStorage",void 0),Ai(this,"modelRegistry",void 0),Ai(this,"status",void 0),this.status=Li.NOT_INITIALIZED,ki.info("Starts initialization"),this.whenReady=new Promise(((i,n)=>{e=i,t=n})),this.configStorage=new Ei(i),this.scriptLoader=new Oi,this.modelRegistry=new Ti,this.loadBasicScripts(e,t)}getMLLibrariesURLs(){return[]}loadBasicScripts(e,t){var i=this;return _i((function*(){Di.start("basic_scripts");var n=i.getMLLibrariesURLs().map((e=>i.scriptLoader.loadScript({src:e})));try{var o=yield Promise.all(n),s=!1;if(o.forEach((e=>{e||(s=!0)})),s)throw new Error("One or more basic scripts failed");Di.finish("basic_scripts"),ki.info("Basic ML scripts loaded"),ki.info("Initialized"),i.status=Li.INITIALIZED,e()}catch(e){i.status=Li.FAILED_TO_LOAD_SCRIPTS,Di.finish("basic_scripts"),ki.error("Script loading failed",e),t()}}))()}loadBidShapingScript(){var e=this;return _i((function*(){if(e.status!==Li.INITIALIZED)return Promise.reject();if(e.modelRegistry.isModelReady(Ri))return Promise.resolve();Di.start("bid_shaping_script");try{var t,i=yield e.scriptLoader.loadModule({src:e.getBidShapingURL(e.configStorage.getWebsiteId()),options:{timeout:null===(t=e.configStorage.getModuleConfig())||void 0===t?void 0:t.scriptLoadingTimeout}});return i?(e.modelRegistry.addModel(Ri,{loadedModule:i}),ki.info("Bid shaping script loaded and registered '".concat(Ri,"'")),Di.finish("bid_shaping_script"),Promise.resolve()):Promise.reject("Loaded module is empty")}catch(e){throw ki.error("Bid shaping script not loaded",e),Di.finish("bid_shaping_script",!0),e}}))()}getHBSettings(){var e=this;return _i((function*(){if(!e.modelRegistry.isModelReady(Ri))return Promise.reject("Model is not registered");var t=e.modelRegistry.getModel(Ri),i=new Ui(t,e.configStorage.getAppConfig(),e.configStorage.getModuleConfig());return Promise.race([i.getNewHBConfigs(),zi(e.configStorage.getModuleConfig().calculationTimeout)]).then((e=>(ki.info("Bid Shaping predictions",e),e)))}))()}getBidShapingURL(e){return e?"https://bid-shaping-dev.playwire.com/v2/websites/".concat(e,"/model/script.js"):""}getStatus(){return this.status}getPerformanceChecks(e){return Di.getTrackedEvents(e)}}class Ni{constructor(){var e;this.settings={...window.ramp.settings,...this.initSettings()},this.dfpLib="https://securepubads.g.doubleclick.net/tag/js/gpt.js",this.passiveMode=this.setPassiveMode(),this.settings.adsPerformance=void 0!==window.ramp.mvpConfig,this.settings.selectorBasedAdUnits=this.checkSelectorBasedApproach(),this.tycheStartTime=Date.now(),window.ramp.pbKey="pbjs",e=this.settings,window.ramp.settings=e,window.ramp.getSettings=Pt,window.ramp.getSlot=Ot,window.ramp.afterDfpLoaded=gt.Ay,window.ramp.blockRefresh=xt,window.ramp.reloadHeavyAd=Ct,window.ramp.destroyCornerAdVideo=Mt,window.ramp.refreshVideoAd=Tt,window.ramp.softRefreshVideoAd=Bt,window.ramp.handleBlankCornerVideoAd=zt,window.ramp.videoAdImpressionTriggered=Dt,window.ramp.contentVideoPlaysTriggered=Rt,window.ramp.contentVideoCompleted=Ut,window.ramp.showAdSlot=jt,window.ramp.hideAdSlot=Nt,window.ramp.hideSlot=Wt,window.ramp.hideSlots=Vt,window.ramp.renderAd=$t,window.ramp.renderAmzOutstream=Ht,window.ramp.takeOver=Ft,window.ramp.amznImp=qt,window.ramp.setIsMobile=Xt,window.ramp.getAdDensity=Gt,window.ramp.userEventCallback=Jt,window.ramp.tpsBottomRailLoaded=Kt,window.ramp.addTag=Qt,window.ramp.showCmpModal=ei,window.ramp.debug=ti,window.ramp.triggerRefresh=ii,window.ramp.changePath=ni,window.ramp.expandableServed=si,window.ramp.setCustomGamKvs=St.vk,window.ramp.setRoadblock=At,window.ramp.pageReprocess=ri,"function"!=typeof window.ramp.showInterstitial&&(window.ramp.showInterstitial=oi),this.initDfpPromise=this.initDFP(),this.initPriceFloorCtrlPromise=(0,fi.A)(),this.loadAPSPromise=new Promise((e=>{window.PageOS.BUS.after("ApsTagLoaded",e)})),this.init()}getBids(){const e=Date.now();(0,it.Ay)().then((t=>{Promise.all([this.initDfpPromise,this.docEvtPromise]).then((()=>(0,ut.nk)())).then((()=>{this.handleSetTargeting(e),(0,li.A)(t)})).catch((e=>{tt.Ay.error("Caught in Promise.all:",{message:e.message,stack:e.stack})}))})).catch((e=>{tt.Ay.error("Caught in Tyche.js ",{message:e.message,stack:e.stack})}))}handleConfig(){const e=this.settings;tt.Ay.info("Config",e.config,null),window.kinesis=new ct(e),(0,we.aE)("domLoading_to_tycheStart",this.tycheStartTime),(0,we.aE)("time_to_load_config",window.ramp.ttfConfig),window.performance.timing&&(0,we.aE)("domLoading_to_domInteractive",window.performance.timing.domLoading,window.performance.timing.domInteractive),e.adServer="DFP",this.handlePrebid()}handleConsent(e={}){var t;this.settings.acString=e.acString,(0,we.xu)(),this.loadCleanIoPromise=(t=this.settings,new Promise((e=>{const i=t.device,n=(t.config.settings.redirectBlocker||[]).map((e=>e.toLowerCase()));if(n.includes("any")||n.includes(i)){const t=t=>{t&&"error"===t.type?tt.Ay.warn("Clean.io script failed to load from ",ci):tt.Ay.info("Clean.io script loaded from ",ci),e()};(0,pt.A)({src:ci,async:!0,defer:!1,onload:t,onerror:t})}else e()}))),this.loadAdlightningPromise=function(e){return new Promise((t=>{if(window.pwEdgeFlags&&Array.isArray(window.pwEdgeFlags.adlDisabled)&&window.ramp.settings.device&&window.pwEdgeFlags.adlDisabled.includes(window.ramp.settings.device))return e.config.settings.adLightning=!1,void t();const i=e.config.settings.adLightningScript;if(e.config.settings.adLightning&&!0===e.config.settings.adLightning||i){const e=i||pi,n=i=>{i&&"error"===i.type?tt.Ay.warn("AdLightning script failed to load from ",e):tt.Ay.info("AdLightning script loaded from ",e),t()};(0,pt.A)({src:e,async:!1,defer:!0,onload:n,onerror:n})}else t()}))}(this.settings),this.passiveMode?(tt.Sc.info("Using Passive Mode"),new di,Promise.all([this.initDfpPromise,this.loadAPSPromise,this.loadCleanIoPromise,this.loadAdlightningPromise,this.initPriceFloorCtrlPromise]).then((()=>{this.handleSetTargeting(),this.processCmdQueue(),"function"==typeof window.ramp.onReady&&window.ramp.onReady(),window.ramp.onReady=e=>{window.ramp.que.push(e)}})).catch((e=>{tt.Ay.error("Caught in Promise.all",{message:e.message,stack:e.stack})}))):Promise.all([this.loadAPSPromise,this.loadCleanIoPromise,this.loadAdlightningPromise,this.initPriceFloorCtrlPromise]).then((()=>{if((0,yi.Ay)("corner_ad_video"),this.processCmdQueue(),!this.settings.adsPerformance||window.ramp.observerMode||this.settings.selectorBasedAdUnits)this.getBids();else{(0,bt.R)("site_skin",!0);let e=null;const t=Date.now();(0,it.Ay)().then((t=>(e=t,(0,ut.nk)()))).then((()=>{this.handleSetTargeting(t),(0,li.A)(e)}))}})).catch((e=>{tt.Ay.error("Caught when loading apstag",{message:e.message,stack:e.stack})}))}async handlePrebid(){const e=this.settings;e.hbEnabled=(0,dt.KV)(e);if("DFP_COPPA"===e.config.server?(tt.ft.info("COPPA"),e.isCoppa=!0):tt.ft.info("NON COPPA"),window.ramp.privacy?.advertisementCookiesEnabled&&(e.advertisementCookiesEnabled=window.ramp.privacy.advertisementCookiesEnabled,e.advertisementCookiesEnabled&&tt.Ay.info("Advertisement Cookies Enabled")),e.hbEnabled){e.headerBidding=(0,dt.ec)(e);const t=e.headerBidding.timeout||700;if(window.pwEdgeYieldOptions?.runExperimentalML){const t=window.PageOS?.gdpr?.userCC||"",i=window._pwUserBrowserName||"Other",n=window._pwUserDeviceType||"desktop",o=(0,dt.XC)((0,dt.PQ)(window.ramp.settings.config.headerBidding)),s=(0,dt.XC)((0,dt.oy)(window.ramp.settings.config.headerBidding)),r=(o?.order||[]).concat(["google"]),a=(s?.order||[]).concat(["google"]),d=window.pwEdgeYieldOptions?.bidShapingThreshold;window.ramp._mlModule=new ji({website:{websiteId:window.ramp.settings?.config?.id||0,headerBidding:{displayBidders:r,videoBidders:a},countryCode:t,browserName:i,deviceType:n},mlModule:{scriptLoadingTimeout:3e3,calculationTimeout:2e3,bidShapingThreshold:d}});try{await window.ramp._mlModule.whenReady,await window.ramp._mlModule.loadBidShapingScript(),e.mlHeaderBidding=await window.ramp._mlModule.getHBSettings();const t=window.ramp._mlModule.getPerformanceChecks(!1)||{};Object.keys(t).forEach((e=>{window.PageOS?.benchmarks?.sendMLBenchmarks({name:`pw_ML_${e}`,duration:t[e]})}))}catch(e){tt.Ay.error("ML Bid shaping not loaded properly",e)}}window.PageOS.Prebid.checkBiddersOverride(e.headerBidding,e.device),e.headerBidding.headerBidderConfigurations?window.PageOS.Prebid.setBidMap(window.ramp.pbKey,e.headerBidding.headerBidderConfigurations):e.headerBidding.order&&window.PageOS.Prebid.setBidMap(window.ramp.pbKey,e.headerBidding.order.map((t=>{let i=!1;i=e.headerBidding.s2sBidders&&e.headerBidding.s2sBidders.length>0?e.headerBidding.s2sBidders?.indexOf(t)>-1?"server_side":"client_side":0===t.indexOf("s2s_")?"server_side":"client_side";const n={};return n.bidderName=t,n.bidDelivery=i,n}))),window.PageOS.Prebid.init({timeout:t,ITP:e.config.settings.appleITP,sid:e.config.settings.publisherId,callback:()=>{e.pbjsReady=!0,this.handleGDPR()},randomize:e.headerBidding.randomize})}else e.pbjsReady=!0,this.handleGDPR()}handleGDPR(){window.PageOS.gdpr.userInEU?(tt.dd.info("User in EU check",{value:1}),window.PageOS.gdpr.hasCMP().then((e=>{e?window.PageOS.gdpr.getConsentData().then((e=>{this.handleConsent({acString:e.acString})})):(void 0!==window.ramp.privacy?.flags?.npa&&!1!==window.ramp.privacy?.advertisementCookiesEnabled||window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0})})),this.handleConsent())}))):this.handleConsent()}initSettings(){return{configUrl:(0,we.al)("tyche_config")||window.ramp.config,configOverride:!!(0,we.al)("tyche_config"),isCoppa:!1,advertisementCookiesEnabled:window.ramp.privacy?.advertisementCookiesEnabled??!0,tags:null,adServer:null,dfpReady:!1,pbjsReady:!1,preBidsBack:!1,slotReadyTime:null,bidsReadyTime:null,slotsRendered:0,interactive:!1,uuid:window.PageOS.dataStream?window.PageOS.dataStream.randomUuid("tyche_h2_production"):"",buildTimestamp:"2025-04-02 14:15:12.388",version:"V.2.4.34",tagsProcessed:!1,adRequestStart:null,amazonSlots:[],hasFocus:!0,scrollTriggered:window.PageOS.scrollTriggered,scrollDelayedSlots:[],clickTriggered:window.PageOS.clickTriggered,inViewDelayedRegistry:{},clickDelayedSlots:[],samplingRate:window.rampSamplingRate,testMode:!1,stickyVideoOn:!1}}init(){if((0,_t.md)(),this.settings.selectorBasedAdUnits?this.docEvtPromise=wt(this.settings.selectorBasedAdUnits):this.passiveMode||this.settings.adsPerformance?this.docEvtPromise=Promise.resolve():this.docEvtPromise=wt(),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],st(this.settings),window.ramp.settings.config)this.handleConfig();else{const e=this.handleConfig.bind(this);window.PageOS.BUS.on("gotConfig",(()=>{e()}),!0)}}initDFP(){return new Promise((e=>{if(this.settings.adsPerformance)return e();const t=Date.now();(0,pt.A)({src:this.dfpLib,async:!0,onload:()=>{(0,gt.Ay)(t,this.settings.adRequestStart,this.tycheStartTime,e)}})}))}setPassiveMode(){let e=!0===window.ramp.passiveMode;return(0,we.al)("passiveMode")&&(e=!0),window.ramp.passiveMode=e,e}handleSetTargeting(e){hi(),function(e){const t=window.ramp.settings,i=window.PageOS?window.PageOS.environment:null,n=window.PageOS?window.PageOS.session:null,o=(e,t)=>{t&&window.googletag.pubads().setTargeting(e,t)},s=t.config.settings.targeting;if(s&&Object.keys(s).length){const e=Object.entries(s);for(let t=0;t<e.length;t++){const[i,n]=e[t];if("object"==typeof n){const e=Object.entries(n);for(let t=0;t<e.length;t++){const[i,n]=e[t];o(i,n)}}else o(i,n)}}window.ramp.passiveMode||((0,we.aE)("getBidsStart_to_getBidsEnd",e),window.performance.timing&&(0,we.aE)("domLoading_to_configBidsBack",window.performance.timing.domLoading)),t.config.settings.directAdServingDisabled||o("sitecont_cat",(0,we.iG)(t.config.settings)),o("referrer",document.referrer),o("tyche_code",window.ramp.settings.version),o("pageos_code",window.PageOS.version);const r=F();r&&o("config_id",`${r}`);const a=Object.entries(window.PageOS.getAllUtmParams());for(let e=0;e<a.length;e++){const[t,i]=a[e];o(t,i)}o("hb_test",t.hbTest),i&&(o("hour",i.getHour()),o("day",i.getDay()),o("referrer_domain",i.referrerDomain),o("OS",`${i.OS.name} ${i.OS.version}`),o("browser",i.getBrowserTargeting())),n&&o("pagecount",n.getPageNumber.toString());const d=""+50*Math.floor(window.innerWidth/50),l=""+50*Math.floor(window.innerHeight/50);o("window_width",d),o("window_height",l),o("screen_orientation",at()),o("website_id",`${t.config.id}`),o("refresh_count","0");const c=e=>{Object.keys(e).forEach((t=>{const i=e[t];null===i?window.googletag.pubads().getTargeting(t).length&&window.googletag.pubads().clearTargeting(t):o(t,i)}))};if(window.PageOS.getAllClientTags){const e=window.PageOS.getAllClientTags();c(e)}if(window.PageOS.BUS.on("CUSTOM_CLIENT_TAGS",(e=>{c(e)}),!1),window.PageOS.getAllCustomReportingKVs){const e=window.PageOS.getAllCustomReportingKVs();c(e)}if(window.PageOS.BUS.on("CUSTOM_REPORTING",(e=>{c(e)}),!1),window.PageOS.BUS.on("UTM_KEYS_VALUES",(e=>{c(e)}),!1),o("tyche_version",window.ramp.settings.version),window._pwTycheAB){const{name:e,type:t}=window._pwTycheAB,i=`${e.replace(/ /g,"_")}_${t}`;o("ab_test",i)}if(window._pwTycheAB_TPS){const{testData:e}=window._pwTycheAB_TPS;Object.keys(e).forEach((t=>{o(`abtps_${t}`,e[t])}))}const p=window.PageOS.userData,g=p&&p.ready&&p.getUserBehavior();g&&(0!==g.adClickRate&&o("ad_click_rate",g.adClickRate.toString()),"boolean"==typeof g.adClicker&&o("ad_clicker",`${g.adClicker}`));const u=window.PageOS.dmp;u&&u.ready&&o("dmp_ids",u.getAudienceSegments().join(",")),window.PageOS.BUS.after("googleAnalytics_ready",(e=>{if(e){const{user_id:t,session_id:i,pageview_id:n}=e;o("user_id",t),o("session_id",i),o("pageview_id",n)}})),t.acString&&o("addtl_consent",t.acString),o("page_focus","visible"===window.document.visibilityState?"true":"false"),void 0===window.ramp.privacy?.flags?.rdp&&window.PageOS.ccpa&&window.PageOS.ccpa.hasUserOptedOut()&&window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),(0,we.al)("pw_test_ads")&&o("pw_test_ads","true");const w=window.PageOS?.kinesis?.isPublisherOverridePresent();w&&o("publisherOverride","true")}(e)}checkSelectorBasedApproach(){const e=[...this.settings.units.sec,...this.settings.units.ros];this.settings.selectorBasedIabUnits=[];let t=!1;for(let i=0;i<e.length;i++){const n=e[i];for(let e=0;e<n.rules.length;e++){const i=n.rules[e].rule;void 0!==i.locationSelector&&""!==i.locationSelector&&(t=!0)}"standard_iab"===n.unit&&(this.settings.selectorBasedIabUnits.includes(n.alias)||this.settings.selectorBasedIabUnits.push(n.alias))}return t}processCmdQueue(){window.ramp.que=window.ramp.que||[],window.ramp.que.forEach((e=>{e()})),window.ramp.que=[],window.ramp.que.push=e=>{e()}}}function Wi(e){return new Promise(((t,i)=>{const{method:n,data:o,timestamp:s,contentTypeHeader:r}=e;let a;const d=e.url,l=new XMLHttpRequest;l.onreadystatechange=function(){if(2===l.readyState)a=l.getResponseHeader("HW-Country-Code");else if(4===l.readyState)if(200===l.status){const e=l.responseText;t({data:e,timestamp:s,countryCode:a})}else i(s)},l.open(n,d,!0),r&&l.setRequestHeader("Content-Type",r),l.send(o)}))}var Vi=i(3070);const $i=(e,t)=>{if(e.features&&e.features.video&&e.features.video[t]){const i=e.features.video[t],n={},o=i.rules.length,s={},r=window.ramp.settings,a=(e,t)=>{const i=Object.keys(e);for(let o=0;o<i.length;o++){const r=i[o];(void 0===s[r]||s[r]<t)&&(n[r]=e[r],s[r]=t)}};if(o>0){const e="tablet"===r.device?"desktop":r.device;let t="ros";!0===r.atHome&&(t="hp"),null!==r.cp&&(t=`${r.cp}`);for(let n=0;n<o;n++){const o=i.rules[n].dimensions,s=o.device.toLowerCase(),r=o.path?o.path.toLowerCase():o.section.toLowerCase(),d=i.rules[n].rule;"any"===s&&"ros"===r&&a(d,0),s===e&&"ros"===r&&a(d,1),"any"===s&&r===t&&a(d,2),s===e&&r===t&&a(d,3),"any"===s&&r===`cp[${t}]`&&a(d,4),s===e&&r===`cp[${t}]`&&a(d,5)}}return 0===Object.keys(n).length?(S.XW.info("Feature Check",{enabled:0}),!1):(S.XW.info("Feature Check",{enabled:1,rules:n}),n)}return S.XW.info("Feature Check",{enabled:0}),!1},Hi="ANY",Fi="Matched",Zi="Matched Singular",qi="Matched Multiple",Xi=(e,t,i,n)=>{let o=0;switch(e){case Hi:o=0;break;case qi:o=1;break;case Zi:o=2}switch(t){case Hi:o+=2*o;break;case qi:o+=2*o+1;break;case Zi:o+=2*o+2}switch(i){case Hi:o+=o;break;case Fi:o+=o+1}switch(n){case Hi:o+=o;break;case Fi:o+=o+1}return o},Gi=(e,t,i)=>{const n={},o={},s=(e,t)=>{const i=Object.keys(e);for(let s=0;s<i.length;s++){const r=i[s];(void 0===o[r]||o[r]<t)&&(n[r]=e[r],o[r]=t)}};if(t.unit&&!window.PageOS.adUtils.adRequestCheck(t))return!1;if("site_skin"===t.unit&&0===t.rules.length&&t.rules.push({dimensions:{device:["ANY"],position:"ANY",orientation:"ANY",geo:null},rule:{on:!0}}),t.rules.length>0){const n=e.device,o=e.deviceOrientation,r=e.config.countryGroups;if(void 0!==r){const e=Object.keys(r);for(let t=0;t<e.length;t++){const i=e[t];r[i]=r[i].map((e=>e.toLowerCase()))}}for(let a=0;a<t.rules.length;a++){let d=Hi,l=Hi,c=Hi,p=Hi,g=t.rules[a].dimensions.geo;if(g){if(g=g.map((e=>e.toLowerCase())),void 0!==r){const e=Object.keys(r);for(let t=0;t<e.length;t++){const i=e[t];g.includes(i)&&(g=[...g,...r[i]])}}const t=e.country&&e.country.toLowerCase();let i=!1;if(t&&g.includes(t)&&(i=!0),!i)continue;d=1===g.length?Zi:qi}let u=t.rules[a].dimensions.device;u=Array.isArray(u)?u.map((e=>e.toLowerCase())):[u.toLowerCase()];let w=!1;u.includes("desktop")&&!u.includes("tablet")&&"tablet"===n&&(w=!0);const m=u.includes(n);if(!u.includes("any")&&!m&&!w)continue;m&&(l=1===u.length?Zi:qi);const h=t.rules[a].dimensions.position.toLowerCase(),f=t.rules[a].dimensions.orientation&&t.rules[a].dimensions.orientation.toLowerCase(),y=t.rules[a].rule,b=h===i.toLowerCase();if("any"!==h&&!b)continue;c=b?Fi:Hi;const _=f===o;if(f&&"any"!==f&&!_)continue;p=_?Fi:Hi;s(y,Xi(d,l,c,p))}}return 0!==Object.keys(n).length&&(void 0===n.on||!1!==n.on)&&n};var Yi=i(4113);const Ji=e=>{const t=window.ramp.settings,i=(e=>{if(t.units.sec.length>0)for(let i=0;i<t.units.sec.length;i++)if(t.units.sec[i].unit.toLowerCase()===e.toLowerCase())return t.units.sec[i];for(let i=0;i<t.units.ros.length;i++)if(t.units.ros[i].unit.toLowerCase()===e.toLowerCase())return t.units.ros[i];return!1})(e);if(!i)return!1;if(!1===i.on)return!1;const n=Gi(t,i,"oop");return t.trendiVideoSection=i.path??i.section,n},Ki=()=>{const e=document.querySelectorAll("div[data-pw-video]");if(e&&e[0]){const t=e[0],i=t.dataset.config;if(window.ramp.handleBoltEvents=window.ramp.handleBoltEvents||{},window.ramp.handleBoltEvents.boltVideoPlayer=()=>!0,!i)return;const n=(0,Yi.AJ)({boltConfig:i,id:"bolt_video_player",onReady:"window.ramp.handleBoltEvents.boltVideoPlayer"});Object.keys(t.dataset).forEach((e=>{n.dataset[e]=t.dataset[e]})),t.appendChild(n)}},Qi=()=>{const e=Ji("trendi_video"),t=window.ramp.settings;if(e)return t.slots.trendi_video=e,t.slots.trendi_video.videoType="Bolt Player",S.XW.info("Loading Trendi video module",e),i.e(450).then(i.bind(i,5895)).then((({default:e})=>{new e(t.slots.trendi_video).init()})).catch((e=>{delete t.slots.trendi_video,S.XW.error("Trendi video module",{message:e.message,stack:e.stack})})),void(t.stickyVideoOn=!0)},en=()=>{const e=Ji("trendi_slideshow"),t=window.ramp.settings;if(e)return t.slots.trendi_slideshow=e,t.slots.trendi_slideshow.videoType="Bolt Player",S.XW.info("Loading Trendi slideshow module",e),i.e(183).then(i.bind(i,8503)).then((({default:e})=>{new e(t.slots.trendi_slideshow).init()})).catch((e=>{delete t.slots.trendi_slideshow,S.XW.error("Trendi slideshow module",{message:e.message,stack:e.stack})})),void(t.stickyVideoOn=!0)};function tn(){const e=window.ramp.settings;if(window.PageOS.tyche.createVideoUnit=e=>{window.ramp.settings.slots[e]||("trendi_video"===e&&Qi(),"trendi_slideshow"===e&&en())},!window.ramp.passiveMode){if(Qi(),window.ramp.settings.slots.trendi_video)return;if(en(),window.ramp.settings.slots.trendi_slideshow)return}const t=$i(e.config,"sticky");if(t&&!0===t.on)i.e(83).then(i.bind(i,3244)).then((({default:i})=>{e.stickyVideoOn=!0,new i(t)}));else{const t=$i(e.config,"sidebarSticky");t&&!0===t.on&&i.e(83).then(i.bind(i,3667)).then((({default:i})=>{e.stickyVideoOn=!0,new i(t)}))}}const nn=(e,t)=>{window.rampMinimal?S.Ay.warn(`Minimal RAMP.js skipped ${t}`):e&&"function"==typeof e&&e()};class on{constructor(){window.ramp=window.ramp||{},window.PageOS.tyche=window.PageOS.tyche||{},this.MODULE=window.PageOS.tyche,this.MODULE.findUnitsBySection=this.findUnitsBySection,this.MODULE.checkRules=Gi,this.MODULE.fetchRSS=Vi.HF,this.MODULE.getRSSdata=Vi.zj}init(){!0!==this.MODULE.loaded&&(this.device=(0,O.Pf)(),this.isMobile=this.checkIsMobile(),window.ramp.settings={atHome:"/"===window.location.pathname,config:null,cp:null,device:this.device,deviceOrientation:(0,O.vc)(),deviceSelector:this.isMobile?"mobi":"desk",isMobile:this.isMobile,tags:null,slots:{},units:{ros:[],sec:[]},scrollTriggered:window.PageOS.scrollTriggered||!1,clickTriggered:window.PageOS.clickTriggered||!1},window.ramp.activeConfig&&(window.ramp.settings.config=window.ramp.activeConfig),this.settings=window.ramp.settings,this.getTycheConfig().then((()=>this.findUnitsBySection())).then((e=>{const t=window.PageOS.userData;t&&"boolean"==typeof t.ready&&(nn(tn,"Video module"),e&&nn(this.loadTyche.bind(this),"Tyche module")),window.PageOS.BUS.on("userData_ready",(()=>{nn(tn,"Video module"),e&&nn(this.loadTyche.bind(this),"Tyche module")}))})).catch((e=>{"AdBlockerDetected"===e?S.D4.error("Ad Blocker Detected, Tyche loading failed!"):S.D4.error("window.rampPath not found.")})))}handleConfigResponse(e,t,i){const n=Date.now()-t,o=window.PageOS.adsPerformance?e:JSON.parse(e),s=this.settings;if(s.country=i,window.ramp.ttfConfig=n,o.settings.customCss){const e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.id="pwCustomCSS",t.styleSheet?t.styleSheet.cssText=o.settings.customCss:t.appendChild(document.createTextNode(o.settings.customCss)),e.appendChild(t)}else if(o.settings.customCssSrc){const e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.href=o.settings.customCssSrc,e.appendChild(t)}s.config=o,s.cp=window.ramp.forcePath||(0,y.X8)(this.settings),S.D4.info("Custom path check.",{custom:s.cp?1:0,path:s.cp||"/"});const r={countryCode:i,isCOPPA:this.getCOPPA(o),advertisementCookiesEnabled:window.ramp.privacy?.advertisementCookiesEnabled??!0,ctrTracking:o.settings.ctrTracking},a=(0,y.al)("pwcc");a&&(s.country=a,s.config.settings.cmp=!0),window.PageOS.BUS.emit("gotConfig",r)}getTycheConfig(){return new Promise(((e,t)=>{if(window.PageOS.adsPerformance)return this.handleConfigResponse(window.ramp.activeConfig,Date.now(),window._pwUserCC),e();let i=!1;i=i||(0,y.al)("tyche_config"),!i&&window.ramp&&window.ramp.config&&(i=window.ramp.config);const n=window.location.hostname;if(n.indexOf("coolmathgames.com")>-1?i="//cdn.intergi.com/cmg/banner.json":n.indexOf("coolmath.com")>-1&&(i="//cdn.intergi.com/cmg/coolmath/banner.json"),!i){const e="No Tyche config url found";return S.D4.error(e),t(e)}Wi({url:i,method:"get",timestamp:Date.now()}).then((({data:t,timestamp:i,countryCode:n})=>{this.handleConfigResponse(t,i,n),e()})).catch((e=>{const i="Error retrieving Tyche config";S.D4.error(i,{message:e.message,stack:e.stack}),t(`${i}: ${e}`)}))}))}findUnitsBySection(e){const t=window.ramp.settings;return new Promise(((i,n)=>{try{let n=null;null!==t.cp&&(n=`CP[${t.cp.toLowerCase()}]`),e&&(n=`CP[${e.toLowerCase()}]`),t.atHome&&null===t.cp&&(n="HP"),t.units.ros=[],t.units.sec=[];let o=!1;for(let e=0;e<t.config.units.length;e++){const i=t.config.units[e];"trendi_video"!==i.unit&&"trendi_slideshow"!==i.unit&&(o=!0);const s=i.path??i.section;null!==n&&s.toLowerCase()===n.toLowerCase()?t.units.sec.push(i):"ROS"===s&&t.units.ros.push(i)}S.D4.info("Units by section",t.units,null),i(o)}catch(e){const t="Error in find Units";S.D4.error(t,{message:e.message,stack:e.stack}),n(`${t}: ${e}`)}}))}loadTyche(){new Ni}checkIsMobile(){let e;const t="Tyche mobile check.";return void 0!==window.ramp.isMobile?(e="false"!==window.ramp.isMobile&&!1!==window.ramp.isMobile,S.D4.info(t,{useDevice:0,isMobile:window.ramp.isMobile?1:0})):(e="mobile"===this.device,S.D4.info(t,{useDevice:1,isMobile:e?1:0})),window.ramp.isMobile=e,e}getCOPPA(e){try{const{server:t}=e;return"DFP_COPPA"===t}catch(e){return}}}const sn=e=>`https://finger-printer.intergient.com/pwheids/${e}/audience_segments`,rn=class{async initializePWHEid(){if(this.eid=(e=>{if(e){if((e=(e=e.trim()).toLowerCase()).endsWith("@gmail.com")){const t=(e=e.replace(/\+[^@]*/g,"")).indexOf("@");let i="";for(let n=0;n<t;n++)"."!==e[n]&&(i+=e[n]);i+=e.slice(t),e=i}return e}})(this.getEid()),this.eid){const{hashHex:e,hashBase64:t}=await(0,y.h1)(this.eid,"SHA-256");this.pwheid=e,this.pwheidBase64=t,this.pwheidMD5=await(0,y.Fx)(this.eid),V("_pw_pwheid",this.pwheid),V("_pw_pwheid_md5",this.pwheidMD5),V("_pw_pwheid_base64",this.pwheidBase64)}this.pwheid=this.pwheid||localStorage.getItem("_pw_pwheid"),this.pwheidMD5=this.pwheidMD5||localStorage.getItem("_pw_pwheid_md5"),this.pwheidBase64=this.pwheidBase64||localStorage.getItem("_pw_pwheid_base64"),window.PageOS.BUS.emit("pwheid_ready",this.pwheid),this.pwheidBase64&&window.PageOS.BUS.emit("pwheid_base64_ready",this.pwheidBase64)}constructor(e){this.isUsingCloudService=void 0===window._pwFpSampling||Math.random()<window._pwFpSampling,this.isUserInEU=window.PageOS.gdpr.userInEU,this.disableDmp=e,this.isHemFromUrl=!1;const t=(()=>{if(0===window.location.search.length)return;let e={};var t;if(t=window.location.search,e={containsSHA256:/pw_id_sha256/.test(t),containsMD5:/pw_id_md5/.test(t),containsSHA1:/pw_id_sha1/.test(t)},e.containsSHA256||e.containsMD5||e.containsSHA1){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,i)=>{t[i]=e})),t}return!1})();t?(this.eid={md5:t.pw_id_md5?t.pw_id_md5:void 0,sha1:t.pw_id_sha1?t.pw_id_sha1:void 0,sha256:t.pw_id_sha256?t.pw_id_sha256:void 0},this.isHemFromUrl=!0,t.pw_id_sha256&&(this.pwheid=t.pw_id_sha256,V("_pw_pwheid",this.pwheid)),this.pwheid=this.pwheid||localStorage.getItem("_pw_pwheid"),window.PageOS.BUS.emit("pwheid_ready",this.pwheid)):this.initializePWHEid()}init(){this.pwheidDataPromise=this.getPWheidDataPromise(),this.checkPurgedSegmentsPWheid=W("_pw_pwheid_segment_ids_purged","false"),!0!==this.checkPurgedSegmentsPWheid&&($("_pw_pwheid_segment_ids"),V("_pw_pwheid_segment_ids_purged",!0)),this.matchedSegmentsPWheid=W("_pw_pwheid_segment_ids",[])}getEid(){if(window.ramp&&void 0!==window.ramp.up){const{format:e}=window.ramp.up;let{eid:t}=window.ramp.up;return t="EUP1"===e?H(t):t,t}}getPWHeid(){return this.pwheid}getPWMD5Heid(){return this.pwheidMD5}getDataPWheid(){const e=sn(this.pwheid);return new Promise((t=>{if(this.isUserInEU||this.disableDmp||!this.isUsingCloudService)return void t();const i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=()=>{const e=JSON.parse(i.responseText).audience_segments;Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=[...new Set(this.matchedSegmentsPWheid.concat(e))],V("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid),t(e)),t(e)},i.onerror=()=>{S.ho.warn("Error fetching data for playwire hashed email."),t()},i.send()}))}getAudienceData(e){Array.isArray(e)&&e.length!==this.matchedSegmentsPWheid.length&&this.updateDataPWheid({audience_segments:this.matchedSegmentsPWheid})}getAudienceSegmentsConfig(e){Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=[...new Set(this.matchedSegmentsPWheid.concat(e))]),V("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid)}updateDataPWheid(e){if(!this.pwheid)return;if(this.isUserInEU||this.disableDmp||!this.isUsingCloudService)return;S.ho.info("Updating audience_segments in the PWheid service");const t=sn(this.pwheid),i=new XMLHttpRequest;i.open("PATCH",t),i.setRequestHeader("Content-type","application/json"),i.onerror=()=>{S.ho.warn("Error sending audience segments to endpoint.")};const n=JSON.stringify(e);i.send(n)}getPWheidDataPromise(){return this.pwheid?this.getDataPWheid():Promise.resolve()}getAudienceSegmentsPWheid(){return this.matchedSegmentsPWheid}addImpressionEventId(e,t){const i=this.matchedSegmentsPWheid.length;if(Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=[...new Set(this.matchedSegmentsPWheid.concat(e))]),i<this.matchedSegmentsPWheid.length){V("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid);const e=this.matchedSegmentsPWheid.filter((e=>!t.includes(e)));this.pwheid&&i!==e.length&&this.updateDataPWheid({audience_segments:e})}}},an=class{constructor(){}init(){this.matchedCookieSyncSegments=W("pw_uuid_segment_ids",[]),this.getCookieSyncData()}getCookieSyncData(){!0===window.PageOS.userData.ready?window.PageOS.userData.get("pw_uuid_segment_ids",(e=>{e&&"object"==typeof e&&e.data&&(e=e.data),this._recievedCookieSyncData=!0,Array.isArray(e)&&(this.matchedCookieSyncSegments=[...new Set(this.matchedCookieSyncSegments.concat(e))]),this.storeCookieSyncSegments(this.matchedCookieSyncSegments)})):this._recievedCookieSyncData=!0}storeCookieSyncSegments(e){V("pw_uuid_segment_ids",this.matchedCookieSyncSegments),this._recievedCookieSyncData&&window.PageOS.userData.set("pw_uuid_segment_ids",e,!0)}getAudienceSegmentsConfig(e){Array.isArray(e)&&e.length>0&&(this.matchedCookieSyncSegments=[...new Set(this.matchedCookieSyncSegments.concat(e))],this.storeCookieSyncSegments(this.matchedCookieSyncSegments))}addImpressionEventId(e){Array.isArray(e)&&e.length>0&&(this.matchedCookieSyncSegments=[...new Set(this.matchedCookieSyncSegments.concat(e))],this.storeCookieSyncSegments(this.matchedCookieSyncSegments))}};const dn=new class{constructor(){this.pwWorkerMap=new Map}createWorker(e,t,i={}){const n=new Blob([e],{type:"application/javascript"}),o=window.URL.createObjectURL(n),s=new Worker(o),r={worker:s,isActivated:!0,options:i};return this.pwWorkerMap.set(t,r),s}invokeWorkerWithOptions(e,t){const i=this.getWorker(e);i&&i.worker?i.worker.postMessage({...t,options:i.options}):S.Ay.error(`Web worker ${e} is not activated`)}terminateWorker(e){const t=this.getWorker(e);t&&(t.worker.terminate(),this.pwWorkerMap.delete(e))}getWorker(e){return this.pwWorkerMap.has(e)?this.pwWorkerMap.get(e):null}};window.ramp.setUserProfile=e=>{window.ramp.up=e,void 0!==window.PageOS.dmp&&window.PageOS.dmp.init()};const ln=["pw_uuid","_pw_audience_categories","_pw_audience_segments","pw_uuid_segment_ids","_pw_audience_impression_event_ids","_pw_pwheid_segment_ids"],cn=class{_apiRegistered=!1;_audienceSegmentsConfig=[];constructor({isCOPPA:e,advertisementCookiesEnabled:t}){if(window.PageOS.dmp=window.PageOS.dmp||{},this.hasLocalStorage=window.PageOS.environment.hasLocalStorage,this.advertisementCookiesEnabled=t,this.isCOPPA=e,this.isUserInEU=window.PageOS.gdpr.userInEU,this.metaKeywords=[],this.userProfile={},this.disableDmp=!0===window.ramp.disableDmp||window.PageOS.gdpr?.isPrivacyRestricted,this.disableDmp)return window.PageOS.dmp.ready=!1,void window.PageOS.BUS.emit("dmp_ready");!1!==window.PageOS.userData.ready?(this.MODULE=window.PageOS.dmp,this.segmentsPromise=this.getAudienceSegmentsConfig(),this.createAudienceSegmentsWorker().then((e=>{this.audienceSegmentsWorker=e})).catch((e=>{S.ho.warn("Error creating Web Worker:",e)})),this.init()):this._handleUserOptOut()}init(){this.hashedEmailHandler=new rn(this.disableDmp),this.hashedEmailHandler.init(),this.cookieUuidHandler=new an,this.cookieUuidHandler.init(),this.extractUserProfile(),this.audienceCategories=[...new Set(W("_pw_audience_categories",[]))],this.impressionEventIds=W("_pw_audience_impression_event_ids",[]),this.collectPageKeywords(),this._registerPublicAPI(),!1===this.isUserInEU||"boolean"==typeof window.PageOS.gdpr.hasWindowCMP?this.initAudienceData():window.PageOS.BUS.on("gdpr_ready",(()=>{this.initAudienceData()}),!0)}createAudienceSegmentsWorker(){return new Promise(((e,t)=>{try{e(dn.createWorker('(()=>{function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}self.onmessage=function(e){var t=e.data,n=t.dataToProcess,a=t.options,o=r(n,a);self.postMessage(o)};var r=function(e,r){var t=e.audienceSegments,n=e.categories,a=e.impressionEventIds,o=e.keyValues,s=e.keywords,c=r.hostname,u=r.referrer||"",f=r.urlPath;return i({audienceSegments:t,categories:n,impressionEventIds:a,keyValues:o,keywords:s,extractedHostname:c,extractedReferrer:u,extracteUrlPath:f})},t=["meta_keywords","content_categories","page_domains","url_paths","referrer_domains","ops_campaigns","user_profiles"],n=function(e){var r=function(e){return e.toLowerCase().replace("www.","")};return"string"==typeof e?r(e):Array.isArray(e)?e.map((function(e){return r(e)})):e},a=function(r,t){var n,a=function(r,t){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(r))||t&&r&&"number"==typeof r.length){n&&(r=n);var a=0,o=function(){};return{s:o,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw s}}}}(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(s(o,t))return!0}}catch(e){a.e(e)}finally{a.f()}return!1},o=function(e,r){return Object.keys(e).some((function(t){return Object.keys(e[t]).some((function(n){return!!r[n]&&(Array.isArray(e[t][n])?e[t][n].some((function(e){return s(e,r[n])})):r[n]&&s(e[t][n],r[n]))}))}))},s=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var n=function(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&")}(r);n=n.replace(/_/g,"[^0-9A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u024f\u1e00-\u1eff]?"),!t||n.startsWith("~")||n.endsWith("~")?n=(n=n.startsWith("~")?n.slice(1):"(^| )".concat(n)).endsWith("~")?n.slice(0,-1):"".concat(n,"( |$)"):(n.startsWith("~")&&n.endsWith("~")&&(n=n.slice(1,-1)),n="(^|\\\\.)".concat(n,"$"));var a=new RegExp(n);return e.match(a)}catch(e){return console.warn("Error parsing regular expression",{message:e.message,stack:e.stack}),!1}},i=function(e){var r,i=e.audienceSegments,c=void 0===i?[]:i,u=e.categories,f=void 0===u?[]:u,l=e.keywords,m=void 0===l?[]:l,d=e.impressionEventIds,g=void 0===d?[]:d,p=e.keyValues,v=void 0===p?{}:p,y=e.extractedHostname,h=e.extractedReferrer,w=e.extracteUrlPath,_=n(y||""),A=n(function(e){var r=e;try{r=/\\/\\/(.[^/]+)/.exec(e)[1]}catch(e){}return r}(h||"")),b=n(w||""),k=[],S=[];return r=c,Array.isArray(r)&&r.length>0?(c.forEach((function(e){for(var r=!0,i=e.id,c=e.definition,u=c.length,l=0;l<u;l++){var d=c[l],p=d.group,y=d.values,h=d.operator;if(t.includes(p)){if(0!==l&&r&&"OR"===h){k.push("".concat(i));break}(r||("OR"===h&&(r=!0),"AND"!==h))&&("meta_keywords"===p?r=y.some((function(e){var r=n(e);return a(m,r)})):"content_categories"===p?r=y.some((function(e){return f.includes(n(e))})):"page_domains"===p?r=y.some((function(e){var r=n(e);return s(_,r,!0)})):"url_paths"===p?r=y.some((function(e){var r=n(e);return s(b,r)})):"referrer_domains"===p?r=y.some((function(e){var r=n(e);return s(A,r,!0)})):"user_profiles"===p?r=y.some((function(e){var r=n(e);return o(v,r)})):"ops_campaigns"===p&&(r=y.some((function(e){return g.includes(n(e))})))&&S.push("".concat(i)),l===u-1&&r&&k.push("".concat(i)))}}})),{matchedSegments:k,campaignSegments:S}):{matchedSegments:k,campaignSegments:S}}})();',"audienceSegmentsWorker",{hostname:window.location.hostname,referrer:document.referrer||"",urlPath:window.location.pathname||""}))}catch(e){t(e)}}))}initAudienceData(){this.disableDmp||(this.getAudienceData().then((()=>{S.ho.info("Finish gathering audience data")})),this.handleCollectIdentifiers().then((e=>{this.userIdentifiers=e,S.ho.info("Collected identifiers:",{identifiers:e})})))}getAudienceData(){return Promise.all([this.segmentsPromise,this.hashedEmailHandler.pwheidDataPromise]).then((e=>{const t=e[1];this.hashedEmailHandler.getAudienceData(t)})).finally((()=>{this.MODULE.ready=!0,window.PageOS.BUS.emit("dmp_ready"),this.streamData()}))}extractUserProfile(){if(window.ramp&&void 0!==window.ramp.up){const{format:e,data:t}=window.ramp.up;if(t){const i="UUP1"===e?t:JSON.parse(H(t));this.userProfile={data:{[window.ramp.settings.config.id]:i},format:e}}}}updateSegments(e,t,i,n,o){const s=i.filter((t=>!e.includes(t)));Array.isArray(t)&&t.length!==s.length&&n(o,{audience_segments:s})}streamData(){window.PageOS.dataStream.handleEvent("registerRampSession",{uuid:window.PageOS.session.getCookieSyncUID,uuid_segment_ids:this.cookieUuidHandler.matchedCookieSyncSegments,visitor_id:window.PageOS.session.getCookieSyncUID,visitor_segment_ids:this.cookieUuidHandler.matchedCookieSyncSegments,pwheid:this.hashedEmailHandler.pwheid,pwheid_segment_ids:this.hashedEmailHandler.matchedSegmentsPWheid,eid:this.hashedEmailHandler.eid,is_hem_from_url:!!this.hashedEmailHandler.isHemFromUrl&&this.hashedEmailHandler.isHemFromUrl})}getMetaKeywords(){return this.metaKeywords}getKeyValues(){return this.userProfile?.data}collectPageKeywords(){const e=e=>{e.split(/[`!#^*()+\=\n\[\]{};:"\\|,<>\/?~]|\. /).map((e=>e.trim())).forEach((e=>{e=z(e),this.metaKeywords.includes(e)||this.metaKeywords.push(e)}))};document.querySelectorAll("h1, h2").forEach((t=>{e(t.textContent)}));const t=document.head.querySelector('meta[name="description"]'),i=document.head.querySelector('meta[name="keywords"]');t&&e(t.content),i&&e(i.content)}getAudienceSegmentsConfig(){return new Promise((e=>{const t=this,i=(i,n)=>{t.campaignSegments=n,S.ho.debug("Matched segments for the page:",{campaignSegments:n,matchedSegments:i}),Array.isArray(i)&&i.length>0?(t.cookieUuidHandler.getAudienceSegmentsConfig(i),t.hashedEmailHandler.getAudienceSegmentsConfig(i),e()):e()};if(t.isUserInEU||t.disableDmp)e();else{const n=new XMLHttpRequest;n.open("GET","https://config.playwire.com/audience_segments/config.json",!0),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){t._audienceSegmentsConfig=JSON.parse(n.responseText);const e={audienceSegments:t._audienceSegmentsConfig,categories:t.audienceCategories,keywords:t.metaKeywords,impressionEventIds:t.impressionEventIds,keyValues:t.userProfile?.data};let o;if(null!==dn.getWorker("audienceSegmentsWorker")){const n={dataToProcess:e};dn.invokeWorkerWithOptions("audienceSegmentsWorker",n),t.audienceSegmentsWorker.onmessage=function(e){o=e.data,i(o.matchedSegments,o.campaignSegments)}}else o=L(e),i(o.matchedSegments,o.campaignSegments)}else S.ho.warn("Error fetching audience segments config."),e()},n.send()}}))}getImpressionEventIds=()=>this.impressionEventIds;addCategories(e=[]){return"string"==typeof e&&(e=[e]),this.isUserInEU?e:(e.forEach((e=>{e=z(e),this.audienceCategories.includes(e)||this.audienceCategories.push(e)})),V("_pw_audience_categories",this.audienceCategories),this.audienceCategories)}addImpressionEventId(e){const t=this;if(!e)return;if(this.isUserInEU)return;e=(e=>{const t=/-(.*)/;try{return t.exec(e)[1]}catch(t){return e}})(e=`${e}`);const i=(e,i)=>{Array.isArray(i)&&i.length>0&&(t.campaignSegments=[...new Set(t.campaignSegments.concat(i))]),t.cookieUuidHandler.addImpressionEventId(e),t.hashedEmailHandler.addImpressionEventId(e,t.campaignSegments)};if(this.impressionEventIds.includes(e))return;this.impressionEventIds.push(e),this.impressionEventIds.length>99&&this.impressionEventIds.shift(),V("_pw_audience_impression_event_ids",this.impressionEventIds);const n={audienceSegments:this._audienceSegmentsConfig,impressionEventIds:this.impressionEventIds};let o;if(null!==dn.getWorker("audienceSegmentsWorker")){const e={dataToProcess:n};dn.invokeWorkerWithOptions("audienceSegmentsWorker",e),this.audienceSegmentsWorker.onmessage=function(e){o=e.data,i(o.matchedSegments,o.campaignSegments)}}else o=L(n),i(o.matchedSegments,o.campaignSegments)}handleCollectIdentifiers(){return new Promise(((e,t)=>{i.e(474).then(i.bind(i,1474)).then((({default:t})=>{t(this.hasLocalStorage).then((t=>{e(t)}))})).catch((e=>{S.ho.error("Error loading collectIdentifiers helper.",e),t(e)}))}))}getUserIdentifiers(){return this.userIdentifiers}_handleUserOptOut(){window.PageOS.dmp.ready=!1,window.PageOS.BUS.emit("dmp_ready"),ln.forEach((e=>{$(e)})),(e=>{try{document.cookie=`${e}=;Path=/;Expires=Thu, 01 Jan 1970 00:00:01 GMT;`}catch(e){}})("AMZN-Token")}getCookieSyncUID(){return window.PageOS.session.getCookieSyncUID}getMatchedCookieSyncSegments(){return this.cookieUuidHandler.matchedCookieSyncSegments}_registerPublicAPI(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.addCategories=this.addCategories.bind(this),this.MODULE.addImpressionEventId=this.addImpressionEventId.bind(this),this.MODULE.getAudienceSegments=this.getMatchedCookieSyncSegments.bind(this),this.MODULE.getAudienceSegmentsPWheid=this.hashedEmailHandler.getAudienceSegmentsPWheid.bind(this.hashedEmailHandler),this.MODULE.getImpressionEventIds=this.getImpressionEventIds.bind(this),this.MODULE.getMetaKeywords=this.getMetaKeywords.bind(this),this.MODULE.getKeyValues=this.getKeyValues.bind(this),this.MODULE.getVisitorId=this.getCookieSyncUID.bind(this),this.MODULE.getUserIdentifiers=this.getUserIdentifiers.bind(this),this.MODULE.getPWHeid=this.hashedEmailHandler.getPWHeid.bind(this.hashedEmailHandler),this.MODULE.getPWMD5Heid=this.hashedEmailHandler.getPWMD5Heid.bind(this.hashedEmailHandler),this.MODULE.init=this.init.bind(this),this.MODULE.isCOPPA=this.isCOPPA,this.MODULE.advertisementCookiesEnabled=this.advertisementCookiesEnabled,this.MODULE.isUserInEU=this.isUserInEU,this.MODULE.isUsingCloudService=this.hashedEmailHandler.isUsingCloudService)}},pn={adImpressions:0,adClicks:0,videoAdImpressions:0,videoAdCompletions:0,videoAdClicks:0,adClickRate:0,videoAdClickRate:0,videoAdCompletionRate:0},gn=class{_apiRegistered=!1;_audienceSegmentsConfig=[];isOptedOut="true"===(0,y.UM)("_pwUserOptedOut");constructor({isCOPPA:e,ctrTracking:t,advertisementCookiesEnabled:i}){if(window.PageOS.userData=window.PageOS.userData||{},this.isCOPPA=e,this.advertisementCookiesEnabled=i,this.isUserInEU=window.PageOS.gdpr.userInEU,this.ctrTracking=t,this.isPrivacyRestricted=window.PageOS.gdpr?.isPrivacyRestricted,!0===window.ramp.disableDmp||this.isPrivacyRestricted)return window.PageOS.userData.ready=!1,void window.PageOS.BUS.emit("userData_ready");this.MODULE=window.PageOS.userData,this.iframe=this._createIframe(),this.userBehavior=pn,this._registerPublicAPI(),window.PageOS.BUS.on("ad_clicked",(()=>{this.updateUserTrackingData("adClicks")}),!1),!1===this.isUserInEU||"boolean"==typeof window.PageOS.gdpr.hasWindowCMP?this.init():window.PageOS.BUS.on("gdpr_ready",(()=>{this.init()}),!0),this._disableModule=this._disableModule.bind(this)}init(){!0===window.ramp.disableDmp||this.isPrivacyRestricted||(!0===this.isUserInEU&&(this.ctrTracking=!1),this.isOptedOut&&(h(!0),this._disableModule()),h(this.isOptedOut),this._setMessageListeners(),this.appendIframe(this.iframe))}appendIframe(e){if(document.body)return void document.body.appendChild(e);const t=new MutationObserver((()=>{document.body&&(document.body.appendChild(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})}canAccessPII(e){if(this.isUserInEU){e(!!0)}else e(!0)}get(e,t){"string"==typeof e&&"function"==typeof t&&(window.PageOS.BUS.on(`_UserData_${e}`,t,!0),this.canAccessPII((t=>{this.postMessage(this.iframe,{type:"_pwUserData",method:"get",key:e,isPII:t})})))}postMessage(e,t){const i="string"==typeof t?t:JSON.stringify(t);e&&e.contentWindow&&e.contentWindow.postMessage(i,"*")}set(e,t,i){if("string"!=typeof e||void 0===t||"boolean"!=typeof i)return;const n={type:"_pwUserData",method:"set",key:e,val:t,isPII:i};i?this.canAccessPII((e=>{e&&this.postMessage(this.iframe,n)})):this.postMessage(this.iframe,n)}remove(e){if("string"!=typeof e)return;const t={type:"_pwUserData",method:"remove",key:e};this.postMessage(this.iframe,t)}_createIframe(){if(this.iframe)return;const e=document.createElement("iframe");return e.id="pw_user_data",e.style.display="none",e.style.height="0",e.style.width="0",e.style.position="fixed",e.style.bottom="-99999px",e.src="https://cdn.intergient.com/pageos/V.2.4.34/iframe/iframe.html",e}setCookieValue=(e,t,i=31536e6)=>{if(e)try{document.cookie=`${e}=${encodeURIComponent(JSON.stringify(t))}; max-age=${i}; path=/`}catch(t){S.hS.warn("Could not set cookie.",{cookieName:e})}};_handleCtrTracking(){if(!this.ctrTracking)return;S.hS.info("CTR Tracking enabled.");const e=this.getUserBehavior(),t=e.adClicks+e.videoAdClicks>0;this.userBehavior.adClicker=t,this.setCookieValue("ad_clicker",t),window.Bolt&&window.Bolt.embeds&&Object.keys(window.Bolt.embeds).forEach((i=>{const n={id:i,action:"setUserBehaviorValues",adClicker:t,videoAdClickRate:e.videoAdClickRate,videoAdCompletionRate:e.videoAdCompletionRate};window.postMessage(JSON.stringify(n),"*")})),window.ramp&&window.ramp.settings&&window.ramp.settings.slots&&Object.keys(window.ramp.settings.slots).length>0&&window.googletag.pubads().setTargeting("ad_clicker",`${t}`)}_setMessageListeners(){this._listenersSet||(this._listenersSet=!0,window.addEventListener("message",(e=>{try{const{type:t,key:i,data:n}=JSON.parse(e.data);if("_pwUserDataReady"===t){if(n&&!0===n.userOptedOut&&(this.isOptedOut=!0,h(!0),this._disableModule(),window.PageOS.BUS.emit("userData_ready")),this.isOptedOut)return ln.forEach((e=>{this.remove(e)})),void(n&&n.userOptedOut||(this.set("_pwUserOptedOut",this.isOptedOut?"true":"false",!1),this._disableModule()));n.uuid&&(this.uuid=n.uuid),this.setUserID(),this.get("user_behavior",(e=>{this.userBehavior=e||this.userBehavior,this._handleCtrTracking(),window.PageOS.userData.ready=!0,window.PageOS.BUS.emit("userData_ready")}))}"_pwClick"===t&&window.PageOS.BUS.emit("ad_clicked"),"_pwReturnData"===t&&window.PageOS.BUS.emit(`_UserData_${i}`,n)}catch(e){}})))}setUserID(){this.uuid||(this.uuid=u("user"),this.set("pw_uuid",this.uuid,!1))}getUserBehavior(){return this.userBehavior}initBoltTracking(e){window.Bolt.on(e,window.Bolt.BOLT_AD_STARTED,(()=>{this.updateUserTrackingData("videoAdImpressions")})),window.Bolt.on(e,window.Bolt.BOLT_AD_COMPLETE,(()=>{this.updateUserTrackingData("videoAdCompletions")})),window.Bolt.on(e,window.Bolt.BOLT_AD_CLICKED,(()=>{this.updateUserTrackingData("videoAdClicks")}))}updateUserTrackingData(e){const t=this.userBehavior;t.hasOwnProperty(e)?(t[e]++,t.adClickRate=0===t.adImpressions?0:Math.round(t.adClicks/t.adImpressions*100),t.videoAdClickRate=0===t.videoAdImpressions?0:Math.round(t.videoAdClicks/t.videoAdImpressions*100),t.videoAdCompletionRate=0===t.videoAdImpressions?0:Math.round(t.videoAdCompletions/t.videoAdImpressions*100),"adClicks"!==e&&"videoAdClicks"!==e||(S.hS.info("Ad Click.",{type:e}),this._handleCtrTracking()),this.set("user_behavior",t,!0)):S.hS.warn("tried to update unexisting key",{key:e})}toggleOptOut(){return this.isOptedOut=!this.isOptedOut,this.setCookieValue("_pwUserOptedOut",this.isOptedOut,15768e7),this.set("_pwUserOptedOut",this.isOptedOut?"true":"false",!1),this.isOptedOut&&this.uuid&&window.PageOS.dataStream.handleEvent("userOptOut",this.uuid),h(this.isOptedOut),this.isOptedOut}_disableModule(){const e=["ready","toggleOptOut"];this.MODULE.ready=!1,Object.keys(this.MODULE).forEach((t=>{e.includes(t)||delete this.MODULE[t]}))}_registerPublicAPI(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.get=this.get.bind(this),this.MODULE.set=this.set.bind(this),this.MODULE.updateUserTrackingData=this.updateUserTrackingData.bind(this),this.MODULE.getUserBehavior=this.getUserBehavior.bind(this),this.MODULE.initBoltTracking=this.initBoltTracking.bind(this),this.MODULE.toggleOptOut=this.toggleOptOut.bind(this))}};let un=null,wn=null,mn={},hn=!1,fn=!1;const yn={};window.PageOS.floors=window.PageOS.floors||{};const bn=()=>new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})),_n=(e,t)=>{const i=bn();return{browser_name:window.PageOS.environment.getBrowserInfo().name,country_code:window.PageOS.gdpr.userCC,day_of_week:i.getDay(),hour_of_day:i.getHours(),device_type:e.device,refresh_count:t.refreshes}},vn={country_code:{default:"Other",groupings:{USA:["us"],GDPR:["at","be","bg","cy","cz","de","dk","ee","es","fi","fr","gb","gr","hu","ie","it","lt","lu","lv","mt","nl","pl","pt","ro","se","si","sk"],TIER_1:["au","ca","ch","no","nz"]}},refresh_count:{default:"refresh_count_11_plus",groupings:{refresh_count_0:[0],refresh_count_1:[1],refresh_count_2:[2],refresh_count_3:[3],refresh_count_4_to_10:[4,5,6,7,8,9,10]}},browser_name:{default:"Other",groupings:{Chrome:["chrome"],Edge:["edge"],Firefox:["firefox","firefox focus","firefox reality"],Safari:["safari","mobile safari"]}}},Sn=e=>"sidebar"===e.unit?"pw_sidebar":"sticky_sidebar"===e.unit?"pw_sticky_sidebar":e.unit,An=(e,t)=>{const i="string"==typeof e[t]?e[t].toLowerCase():e[t],n=vn[t];if(void 0!==n){const e=n.groupings;let t=Object.keys(e).find((t=>e[t].includes(i)));return void 0===t&&(t=n.default),t}return i},kn=(e,t=!1)=>{const i={enabled:!1};if(window.pwEdgeFlags&&"object"==typeof window.pwEdgeFlags.priceFloors)return Object.assign(i,window.pwEdgeFlags.priceFloors);if(!e||!e.config||!e.config.settings)return i;const n=e.config.settings.videoPriceFloors,o=e.config.settings.displayPriceFloors??e.config.settings.priceFloors,s="mobile"===e.device?e.device:"desktop";return o||n?(!0!==o&&1!==o||(i.enabled=!0,i.sourceDisplay="ramp"),2!==o&&2!==n||(i.enabled=!0,i.sourceDisplay=2===o?"ml":i.sourceDisplay,i.sourceVideo=2===n?"ml":i.sourceVideo,i.multiplier=(()=>{if("object"!=typeof e.config.settings.multipliers)return null;const i=bn(),n=i.getFullYear(),o=`0${i.getMonth()+1}`.slice(-2),r=`0${i.getDate()}`.slice(-2),a=t?"video":"display",d=e.config.settings.multipliers[a]?e.config.settings.multipliers[a][`${n}-${o}-${r}`]:e.config.settings.multipliers[`${n}-${o}-${r}`];return"number"==typeof d?d:d&&"number"==typeof d[s]?d[s]:null})()),i):i},En=(e,t,i,n)=>{const o=t||1,s=i.config.unit;let r=On(n);"number"!=typeof r&&(r=null),"number"==typeof e&&"number"==typeof o?(e=Math.round(e*o*100)/100,S.Ay.info("Calculated Price Floor value:",{unit:s,priceFloor:e,multiplier:o}),null!==r&&(e<r||e<0||e>30)&&(e=r)):e=r;const a=null===e||("flex_leaderboard"===s||"web_interstitial"===s||"site_skin"===s)?"na":e.toFixed(2);return!zn(i)&&i.slot.setTargeting("price_floor",a),window.PageOS.floors[void 0!==i.id?i.id:i.config?.unit]=a,a},In=e=>{const t=Sn(e),i=mn[t];return!i||void 0===i.threshold||"number"!=typeof i.threshold||!0!==fn||(i.threshold<0||i.threshold>=1||(void 0===yn[t]&&(yn[t]=Math.random()>i.threshold),yn[t]&&S.Ay.info("Preventing ad request",{unit:t,threshold:i.threshold}),!yn[t]))},Pn=({websiteId:e,callback:t})=>{window.PageOS.benchmarks.trackStart("tyche_imported_PFmodule_ML"),wn=bn().getHours();const i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)if(mn={},200===i.status){hn||(hn=!0,window.PageOS.benchmarks.trackEnd("tyche_imported_PFmodule_ML"));const e=i.responseText.replace("{video:",'{"video":').replace(" display: ",' "display": ');mn=JSON.parse(e),t&&t()}else S.Ay.error("Caught when importing price floor module"),t&&t()},i.open("GET",(e=>{const t=bn(),i=_n(window.ramp.settings,{});return`https://impression-inferences-edge-prod.playwire.com/websites/${e}/v1/${t.toLocaleDateString("en-US",{weekday:"short"})}/${t.getHours()}/${An(i,"device_type")}/${An(i,"browser_name")}/${An(i,"country_code")}`})(e),!0),i.send()},On=e=>{const t=window.ramp.settings.device,i=e?"video":"display",n=window.ramp.settings.config.settings.fallbackPriceFloors;return n?n[i]?.[t]??null:null};window.PageOS.getFallbackPriceFloor=On;const xn=(e,{debugLogger:t,storeLatestPriceFloor:i=!1})=>{try{const t=Cn(e.slot.rampSlot);null!==t&&e.customParamsMap.set("price_floor",t),i&&(e.slot.rampSlot.latest_price_floor=t)}catch(n){t&&t.warn("Cannot calculate price floor",n);const o=On(zn(e.slot.rampSlot));e.customParamsMap.set("price_floor",null!==o?o.toFixed(2):"na"),i&&(e.slot.rampSlot.latest_price_floor=null!==o?o.toFixed(2):null)}},Cn=e=>{const t=window.ramp.settings,i=_n(t,e),n=zn(e),{sourceDisplay:o,sourceVideo:s,multiplier:r}=kn(t,n);let a=null;if(n||"ramp"!==o)(!n&&void 0!==o&&"ml"===o||n&&void 0!==s&&"ml"===s)&&(a=(({options:e,tag:t})=>{const i=bn().getHours(),n=Sn(t.config),o=zn(t)?"video":"display";return i!==wn&&Pn({websiteId:window.ramp.settings.config.id}),"object"!=typeof mn[o]||"object"!=typeof mn[o][n]||"number"!=typeof mn[o][n][An(e,"refresh_count")]?null:mn[o][n][An(e,"refresh_count")]})({options:i,multiplier:r,tag:e,websiteId:t.config.id}));else{if(!un)return En(null,r,e,n);const t=e.config.path??e.config.section;a=un.calculatePriceFloor(t,e.config.unit,i)}return En(a,r,e,n)};function Mn(){if(!window.ramp||!window.ramp.settings)return;const e=window.ramp.settings;return new Promise((t=>{if(!e.config||!e.config.settings)return void t();const i=e.config.id,{enabled:n,sourceDisplay:o,sourceVideo:s}=kn(e);fn=!0===e.config.settings.adRequestChecker||window.location.hash.includes("adrequestchecker"),S.Ay.info("Ad Request Checker Feature",{enabled:!!fn}),S.Ay.info("PriceFloor module",{enabled:n,sourceDisplay:o,sourceVideo:s});const r=s||o;if(!n||!r)return void t();window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("pf_src",r)}));const a={callback:t,startTime:Date.now(),websiteId:i};"ramp"===o&&(({websiteId:e,callback:t})=>{window.PageOS.benchmarks.trackStart("tyche_imported_PFmodule"),import((e=>`https://config.playwire.com/websites/${e}/price_floor.js`)(e)).then((({default:e})=>{window.PageOS.benchmarks.trackEnd("tyche_imported_PFmodule"),un={calculatePriceFloor:e},t&&t()})).catch((e=>{S.Ay.error("Caught when importing price floor module",{message:e.message,stack:e.stack}),t&&t()}))})(a),("ramp"===o&&fn||"ml"===o||"ml"===s)&&Pn(a)}))}window.PageOS=window.PageOS||{},window.PageOS.adUtils=window.PageOS.adUtils||{};const Tn=e=>{if(!e)return{};const t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=e.getBoundingClientRect();let o=n.top+n.height/2+window.scrollY,s=n.left+n.width/2+window.scrollX,r=100*(i-(n.top+n.height/2))/i,a=100*(n.left+n.width/2)/t;return o=50*Math.floor(o/50),s=50*Math.floor(s/50),r=10*Math.floor(r/10),a=10*Math.floor(a/10),{abs_dist_top:o,abs_dist_left:s,rel_dist_bottom:r,rel_dist_left:a}},Bn=()=>{window.addEventListener("message",(e=>{try{const t=JSON.parse(e.data);if("reportingObserver"===t.type){const{advertiserId:e,campaignId:i}=window.ramp.settings.slots[t.slotId].slot.getResponseInformation(),n={advertiserId:e,campaignId:i,...t};S.yt.warn(`PageOS ${t.type}`,n),"intervention"===n.reportType&&"HeavyAdIntervention"===t.id&&"function"==typeof window.ramp.reloadHeavyAd&&window.ramp.reloadHeavyAd(t.slotId)}}catch(e){}}))},zn=e=>["trendi_video","prebid_video","corner_ad_video","precontent_ad_video","rewarded_ad_video"].includes(e.config.unit);window.PageOS.adUtils.getAdLocation=Tn,window.PageOS.isVideo=zn;function Dn(){const e=document.createElement("script");e.type="text/javascript",e.src="https://btloader.com/tag?o=5150306120761344&upapi=true",e.async=!0,document.head.appendChild(e)}var Rn=i(8221),Un=i.n(Rn),Ln=i(7350),jn=i.n(Ln);const Nn={leaderboard:{desktop:[728,90],mobile:[320,50]},med_rect:[300,250],left_rail:[160,600],right_rail:[160,600],bottom_rail:[728,90],skyscraper:[160,600],"160x600":[160,600],in_content:[300,250],relevant_article:[300,250]},Wn=(e=!1,t=!1)=>{const i=window.innerHeight;let n="";n+=e?`Slot: ${e}, `:"",n+=t?`Event: ${t}, `:"",S.Xt.info(`${n}Viewport Height: ${i}`)},Vn=(e,t)=>{let i="desktop";t&&(i="mobile");let n=!1;return"leaderboard"===e?Nn[e][i]&&(n=Nn[e][i]):Nn[e]&&(n=Nn[e]),n};let $n=0,Hn=0;const Fn=document.documentElement.scrollHeight,Zn=(e,t=!1,i=!1)=>{const n=window.scrollY;let o="up";n>$n&&(o="down");const s=Math.abs(n-$n),r=n/Fn*100,a=$n/Fn*100;let d="";t&&i?(d+=t?`Slot: ${t}, `:"",d+=i?`Event: ${i}, `:""):(S.Xt.info(`Scrolling from: ${$n}px`),S.Xt.info(`Scrolling to: ${n}px`),S.Xt.info(`Document height: ${Fn}px`),S.Xt.info(`Start Scroll begin: ${parseFloat(r).toFixed(2)}%`),S.Xt.info(`End Scroll begin: ${parseFloat(a).toFixed(2)}% `));const l=(new Date).getTime(),c=l-Hn;if(Hn>0&&c>2e3)S.Xt.info(`${d}No Scroll, interval time: ${c}`);else if(0===s)S.Xt.info(`${d}No Scroll`);else{S.Xt.info(`${d}Scrolling: ${o} ${s}px`),$n=n;const e=s/c*1e3;S.Xt.info(`${d}Scroll velocity: ${e.toFixed(2)} px/second`)}Hn=l},qn=()=>{S.Xt.info("Focus IN")},Xn=()=>{window.PageOS=window.PageOS||{},window.PageOS.metrics=window.PageOS.metrics||{};const e=window.PageOS.metrics;e.sendViewportHeight=(e,t)=>{Wn(e,t)},e.sendScroll=(e,t)=>{Zn(0,e,t)},e.sendAdHeight=(e,t,i,n)=>{((e,t,i,n)=>{let o=!!(e&&t.size&&t.size[1])&&t.size[1];if(!o){const e=Vn(t.type,n);e&&(o=e[1])}S.Xt.info(`Slot: ${e}, Event: ${i}, Ad Height: ${o}`)})(e,t,i,n)},e.sendAdViewability=(e,t,i)=>{((e,t,i)=>{S.Xt.info(`Slot: ${e}, Event: ${t}, Ad Viewability: ${i}`)})(e,t,i)},e.getStandardSlotSize=(e,t)=>Vn(e,t)};const Gn=e=>{const t=document.createElement("script");t.type="text/javascript",t.src="https://prod.uidapi.com/static/js/uid2-sdk-1.0.0.js",t.async=!1,t.id="uid2SDKScript",t.onload=()=>e(),document.head.appendChild(t)},Yn=()=>{void 0===window.googletag&&(window.googletag={}),void 0===window.googletag.secureSignalProviders&&(window.googletag.secureSignalProviders=[])},Jn=()=>new Promise((e=>{const t=window.PageOS.uid2;if(t.enabled)return S.kX.info("UID2 already enabled"),e(!0);let i=!1;const n=window.PageOS.gdpr.isCOPPA,o=window.PageOS.gdpr.advertisementCookiesEnabled??!0,s=window.PageOS.gdpr.userInEU,r=!!(0,y.al)("ccpa");if(!(window._pwUserInCA||r))return n?(S.kX.info("Is a COPPA site, UID2 deactivated."),e(!1)):!1===o?(S.kX.info("Advertisement cookies are not enabled, UID2 deactivated."),e(!1)):s?(S.kX.info("User in EU, UID2 deactivated."),e(!1)):(i=Kn(),i?(t.enabled=!0,e(i)):(S.kX.error("UID2 SDK not found."),e(!1)));window.PageOS.BUS.on("ccpa_ready",(()=>!0===(window.PageOS.ccpa&&!0===window.PageOS.ccpa.hasUserOptedOut())?(S.kX.info("CCPA applies and user has opted out, UID2 deactivated."),e(!1)):(i=Kn(),i?(t.enabled=!0,e(i)):(S.kX.error("UID2 SDK not found."),e(!1)))),!0)})),Kn=()=>void 0!==window.__uid2&&window.__uid2,Qn=e=>{const t=window.PageOS.uid2;if(t.sdkInitialized)S.kX.info("UID2 SDK already initialized; call `disconnect` function if you want to initialize it again");else{const i=Kn();try{i.init({callback:e=>{t.sdkInitialized=0===e.status,t.status=e.status,t.statusText=e.statusText,S.kX.info(`UID2 SDK initialized, ${e.statusText}`)},identity:e})}catch(e){S.kX.error(e)}}},eo=e=>{if(void 0!==e.getAdvertisingToken())return!0;const t=e.isLoginRequired();return void 0===t||t?(S.kX.info("UID2 login is required; call `login` function with an email address as parameter"),!1):void 0},to=e=>{const t=JSON.parse(e.response).body;(()=>{try{let e=Kn();e.disconnect(),delete window.__uid2,e=null,document.getElementById("uid2SDKScript").remove()}catch(e){S.kX.error("Error trying to clear UID2 SDK",{error:e})}})();Gn((()=>{window.__uid2=new UID2,Qn(t)}))};function io(){window.PageOS=window.PageOS||{},window.PageOS.uid2=window.PageOS.uid2||{};const e=window.PageOS.uid2;e.enabled=!1;window.PageOS.BUS.on("gotConfig",(()=>{(()=>{const e=!!(0,y.al)("pwuid2"),t=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config;let i=t&&Array.isArray(t.settings.identity)&&t.settings.identity.length>0&&t.settings.identity.includes("uid2");i=i||e;const n=window.PageOS.uid2;i?(Yn(),Gn((()=>{n.init()}))):S.kX.info("UID2 not enabled by config file.")})()}),!0),e.getAdvertisingToken=()=>{if(e.enabled){return Kn().getAdvertisingToken()}return S.kX.error("UID2 module not available"),!1},e.isLoginRequired=()=>{if(e.enabled){return Kn().isLoginRequired()}return S.kX.error("UID2 module not available"),!1},e.disconnect=()=>{if(e.enabled){e.sdkInitialized=!1,e.status=!1,e.statusText="";return Kn().disconnect()}return S.kX.error("UID2 module not available"),!1},e.abort=()=>{if(e.enabled){e.sdkInitialized=!1,e.status=!1,e.statusText="";return Kn().abort()}return S.kX.error("UID2 module not available"),!1},e.login=t=>{if(!e.enabled)return S.kX.error("UID2 module not available"),!1;if(e.sdkInitialized)return S.kX.warn("UID2 already initialized; call `disconnect` function if you want to initialize it again"),!1;const i=`https://devcdn.intergi.com/ttd_uid2.json?email=${encodeURIComponent(t)}`,n=new XMLHttpRequest;n.open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status&&to(n),400===n.status))return S.kX.error("Error retrieving uid2 token",{error:n.message}),!1},n.onerror=e=>(S.kX.error("Error retrieving uid2 token",{error:e}),!1),n.send()},e.init=()=>new Promise((t=>{e.enabled&&e.sdkInitialized?(S.kX.info("UID2 already initialized; call `disconnect` function if you want to initialize it again"),t(!0)):!window.PageOS.gdpr||!1!==window.PageOS.gdpr.userInEU&&"boolean"!=typeof window.PageOS.gdpr.hasWindowCMP?window.PageOS.BUS.on("gdpr_ready",(()=>{Jn().then((i=>{i?(Qn(),t(eo(e))):(S.kX.warn("UID2 module not available"),t(!1))}))}),!0):Jn().then((i=>{i?(Qn(),t(eo(e))):(S.kX.warn("UID2 module not available"),t(!1))}))}))}const no=e=>{!function(t,i,n,o,s,r,a){function d(e,n){i[t]._Q.push([e,n])}i[t]?e():(i[t]={init(){d("i",arguments)},fetchBids(){d("f",arguments)},renderImp(){d("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],dpa(){d("di",arguments)},rpa(){d("ri",arguments)},upa(){d("ui",arguments)},_Q:[]},(r=n.createElement(o)).onload=e,r.async=!0,r.src="https://c.amazon-adsystem.com/aax2/apstag.js",r.id="pw_aps_tag",(a=n.getElementsByTagName(o)[0]).parentNode.insertBefore(r,a))}("apstag",window,document,"script")};window.addEventListener("DOMContentLoaded",(()=>{no((()=>{window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"getInitConfig"}),"*")}))})),window.addEventListener("message",(e=>{try{if(!e.data)return;const t="string"==typeof e.data?JSON.parse(e.data):e.data,{type:i,message:n,data:o}=t;if("_pwApsTag"!==i)return;try{switch(n){case"initConfig":window.apstag.init(o,(()=>{window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"tagLoaded"}),"*")}));break;case"rpa":{const{tokenConfig:e,setCookie:t}=o,i=()=>{window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"rpaResponse"}),"*")};window.apstag.rpa(e,i,t);break}case"fetchBids":{const{slots:e,timeout:t}=o;window.apstag.fetchBids({slots:e,timeout:t},(e=>{const t={type:"_pwApsTag",message:"fetchBidsResponse",bids:e};window.parent.postMessage(JSON.stringify(t),"*")}));break}case"renderImp":{const{doc:e,bidId:t}=o;window.apstag.renderImp({doc:e,bidId:t});const i={type:"_pwApsTag",message:"renderImpResponse",bidId:t};window.parent.postMessage(JSON.stringify(i),"*");break}default:return}}catch(e){}}catch(e){}}));let oo=!1,so=!1;const ro=()=>{const e=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video.advertising.servers,t=location.hostname.replace("www.","");let i=!1,n=!1;const o=Object.keys(e);for(let s=0;s<o.length;s++){const r=o[s];if(!0===i)break;if(r.includes("generic-"))continue;const a=e[r].tags,d=Object.keys(a);for(let e=0;e<d.length;e++){const o=d[e];if(t===o){n=a[o],i=!0;break}}}return n},ao=()=>{let e=window.ramp.settings?.config?.settings?.publisherId;const t=(window.ramp.settings?.config?.settings?.iabIds??[]).filter((e=>e&&-1===e.indexOf("IAB")));if(!e)try{const t=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].renderer.jsonConfig;if(t){const i=t.settings.playerType;e=t["precontent"===i||"adsonly"===i?"id":"hostingId"]||""}else e=""}catch(t){S.In.info("Unable to detect pulisher ID for schaing"),e=""}const i={pubID:"bd056b42-51db-43ce-9a8e-3b11319b5d1f",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"playwire.com",sid:`${e}`,hp:1}]},signals:{ortb2:{site:{cattax:6,cat:t,sectioncat:t,pagecat:t}}}};if(window.PageOS.ccpa&&(i.params={us_privacy:window.PageOS.ccpa.getUpsString()}),!0===window.ramp.privacy?.amazonNpa&&(i.params={us_privacy:"1NY"}),window.PageOS.gdpr&&window.PageOS.gdpr.userInEU){const e=window.PageOS.gdpr.getTCString();e&&(i.gdpr={enabled:!0,consent:e})}return i},lo=()=>{const e=document.createElement("iframe");return e.id="pw_aps_iframe",e.style.display="none",e.style.height="0",e.style.width="0",e.style.position="fixed",e.style.bottom="-99999px",e.srcdoc='<html>\n    <head lang="en">\n        <script src="https://c.amazon-adsystem.com/aax2/apstag.js" id="pw_aps_tag">\n        <\/script>\n        <script src="https://cdn.intergient.com/pageos/V.2.4.34/amazon/aps.js"><\/script>\n    </head><body></body></html>',e},co=e=>{if(document.body)return void document.body.appendChild(e);const t=new MutationObserver((()=>{document.body&&(document.body.appendChild(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})},po=()=>{window.PageOS.apstag={},window.PageOS.apstag.fetchBids=(e,t)=>new Promise((i=>{i(go(e,t))})),window.PageOS.apstag.renderImp=(e,t)=>new Promise((i=>{uo(e,t).then((e=>{i(e)}))}))},go=(e,t)=>new Promise((i=>{if(!e.length||e.length<1)i();else if(t||(t=2500),window.ramp.settings.apstagIframed){const n=document.getElementById("pw_aps_iframe");if(n&&n.contentWindow){let o={type:"_pwApsTag",message:"fetchBids",data:{slots:e,timeout:t}};o=JSON.stringify(o),n.contentWindow.postMessage(o,"*"),mo(t).then((e=>{i(e)}))}}else window.apstag.fetchBids({slots:e,timeout:t},(e=>{i(e)}))})),uo=(e,t)=>new Promise((i=>{if(t&&e)if(window.ramp.settings.apstagIframed){const n=document.getElementById("pw_aps_iframe");if(n&&n.contentWindow){let o={type:"_pwApsTag",message:"renderImp",data:{doc:e,bidId:t}};o=JSON.stringify(o),n.contentWindow.postMessage(o,"*");try{ho().then((e=>{i(e)}))}catch(e){S.In.error("Error in renderImp.",e)}}}else try{window.apstag.renderImp(e,t),i(t)}catch(e){S.In.error("Error in renderImp.",e)}else i()})),wo=()=>{window.addEventListener("message",(e=>{try{if(!e.data)return;const t="string"==typeof e.data?JSON.parse(e.data):e.data,{type:i,message:n,data:o}=t;if("_pwApsTag"!==i)return;try{switch(n){case"getInitConfig":{S.In.info("Getting init config for iframed APS tag");const e=ao();fo(oo,{type:"_pwApsTag",message:"initConfig",data:e});break}case"tagLoaded":S.In.info("Iframed APS tag loaded"),window.ramp.settings.apstagLoaded=!0,window.ramp.settings.apstagIframed=!0,po(),window.PageOS.BUS.emit("ApsTagLoaded");break;default:return}}catch(e){}}catch(e){}}))},mo=e=>new Promise((t=>{const i=e=>{try{if(!e.data)return;const n="string"==typeof e.data?JSON.parse(e.data):e.data,{type:o,message:s,bids:r}=n;if("_pwApsTag"!==o)return;if(!r)return;try{"fetchBidsResponse"===s&&(window.removeEventListener("message",i),t(r))}catch(e){}}catch(e){}};window.addEventListener("message",i),e+=500,window.setTimeout((()=>{window.removeEventListener("message",i),t(!1)}),e)})),ho=()=>new Promise((e=>{window.addEventListener("message",(t=>{try{if(!t.data)return;const i="string"==typeof t.data?JSON.parse(t.data):t.data,{type:n,message:o,bidId:s}=i;if("_pwApsTag"!==n)return;try{"renderImpResponse"===o&&e(s)}catch(e){}}catch(e){}}))})),fo=(e,t)=>{const i="string"==typeof t?t:JSON.stringify(t);e&&e.contentWindow&&e.contentWindow.postMessage(i,"*")};const yo="securepubads.g.doubleclick.net";let bo,_o,vo,So=!1,Ao=!1;window.PageOS.BUS.after("gotConfig",(e=>{!0===window.ramp?.activeConfig?.settings?.tpg_enabled&&(Ao=!0),Ao?vo=window.ramp?.activeConfig?.tpg_network||null:e.isCOPPA?bo="96780239":window.location.href.indexOf("coolmathgames.com")>-1?(_o="45966600",So=!0):bo="154013155"}));const ko=()=>{let e="";for(let t=0;t<window.ramp.settings.config.units.length&&("string"==typeof window.ramp.settings.config.units[t].code&&(e=window.ramp.settings.config.units[t].code),""===e);t++);const t=e.indexOf(",");if(!t)return!1;const i=e.indexOf("/",t);return e.substring(t+1,i)},Eo=window.ramp?.activeConfig?.settings?.publisherId;const Io=class{_apiRegistered=!1;constructor(){window.PageOS.pagePulse=window.PageOS.pagePulse||{},this.performanceObservers=[],this.userInteractionCaptured=!1,this.firstScrollCaptured=!1,this.lastScrollTimestamp=0,this.PUB_ID=null,this.WEBSITE_ID=null,this.CUSTOMADLSCRIPT=null,this.ADLSCRIPT=null,this.ADLIGHTNINGENABLED=!1,this.performanceObserver=null,this.configId=null,this.MODULE=window.PageOS.pagePulse,this.scrollListener=null,this.gptLoadedFlag=!1}init(){this._registerPublicAPI();const e=window.ramp?.activeConfig?.settings||{};this.configId=F()||null,this.PUB_ID=e.publisherId,this.WEBSITE_ID=window.ramp?.activeConfig?.id,this.CUSTOMADLSCRIPT=e.adLightningScript,this.ADLSCRIPT=this.CUSTOMADLSCRIPT||"https://tagan.adlightning.com/playwire/op.js",this.ADLIGHTNINGENABLED=e.adLightning&&!0===e.adLightning||this.CUSTOMADLSCRIPT;try{window.PerformanceObserver?(this.createObserver("navigation"),this.createObserver("resource"),this.createObserver("mark"),this.initFirstInteractionTracking(),S.op.info("PwPerformanceObserver initialized successfully.")):S.op.error("PerformanceObserver is not supported in this browser.")}catch(e){S.op.error("Error initializing PwPerformanceObserver:",e)}}createObserver(e){const t=new PerformanceObserver((t=>{t.getEntries().forEach((t=>{switch(e){case"navigation":this.handleNavigationEntries(t);break;case"resource":this.handleResourceEntries(t);break;case"mark":this.handleCustomMarks(t)}}))}));"mark"===e?t.observe({entryTypes:[e]}):t.observe({type:e,buffered:!0}),this.performanceObservers.push(t)}initFirstInteractionTracking(){this.scrollListener=()=>{this.handleUserInteraction(),this.handleFirstScroll(),this.lastScrollTimestamp=performance.now()},window.addEventListener("scroll",this.scrollListener,{passive:!0});["click","keydown","mousemove"].forEach((e=>{window.addEventListener(e,this.handleUserInteraction.bind(this))})),window.addEventListener("beforeunload",this.handleBeforeUnload.bind(this))}handleCustomMarks(e){if("pw_page_analytics_events"===e.detail?.source){let t=null;if(e.detail.ad_details&&(t={slot_id:e.detail.ad_details.slot_id,unit_type:e.detail.ad_details.unit_type,refresh_count:e.detail.ad_details.refresh_count,size_delivered:e.detail.ad_details.size_delivered||null},"slotAdRequestStart"===e.name&&(t={slot_id:e.detail.ad_details.slot_id,unit_type:e.detail.ad_details.unit_type,refresh_count:e.detail.ad_details.refresh_count,size_requested:e.detail.ad_details.size_requested||null})),S.op.info(e.name,`Start Time: ${e.startTime} Details: ${JSON.stringify(t)}`),window.PageOS.benchmarks.trackPageAnalytics(e.name,e.startTime,performance.timeOrigin+e.startTime,t,this.configId,"firstInteraction"===e.name?`${e.detail.type}`:void 0),e.startTime>0){let t=null,i=null,n=null,o=null;"number"==typeof e.startTime&&"videoAdRequestStart"===e.name&&e.startTime>0?(t=e.startTime,window.PageOS.BUS.emit("cornerAdVideoGamRqSt",t)):"number"==typeof e.startTime&&"videoAdRequestEnd"===e.name&&e.startTime>0?(i=e.startTime,window.PageOS.BUS.emit("cornerAdVideoGamRqEn",i)):"number"==typeof e.startTime&&"boltVideoAdRequestStart"===e.name&&e.startTime>0?(n=e.startTime,window.PageOS.BUS.emit("boltGamRqSt",n)):"number"==typeof e.startTime&&"boltVideoAdRequestEnd"===e.name&&e.startTime>0&&(o=e.startTime,window.PageOS.BUS.emit("boltGamRqEn",o))}}}handleFirstScroll(){this.firstScrollCaptured||(this.firstScrollCaptured=!0,window.performance.mark("scrollEventStart",{detail:{source:"pw_page_analytics_events",type:"scrollEventStart"}}))}handleUserInteraction(e){this.userInteractionCaptured||(window.performance.mark("firstInteraction",{detail:{source:"pw_page_analytics_events",type:`${e?.type}`}}),this.userInteractionCaptured=!0,window.removeEventListener("click",this.handleUserInteraction),window.removeEventListener("keydown",this.handleUserInteraction),window.removeEventListener("mousemove",this.handleUserInteraction))}handleBeforeUnload(){const e=this.lastScrollTimestamp;window.performance?.mark("scrollEventEnd",{detail:{source:"pw_page_analytics_events",type:"scrollEventEnd",pf_dr:`${e}`}})}handleNavigationEntries(e){0!==e.domComplete&&(this.logDomInteractive(e.domInteractive),this.logDomContentLoaded(e.domContentLoadedEventStart,e.domContentLoadedEventEnd),this.logLoadEvent(e.loadEventStart,e.loadEventEnd),this.logDomComplete(e.domComplete))}handleResourceEntries(e){this.isSpecificResource(e)&&this.logResourceTiming(e)}mapResourceToEventNames(e){return e.includes("ramp_config.js")||e.includes("ramp.js")?"rampConfigLoadedEvent":e.includes("ramp_core.js")?"rampCoreLoadedEvent":e.includes("script.js")?"cleanioLoadedEvent":e.includes("gpt.js")?"gptLoadedEvent":this.ADLIGHTNINGENABLED&&e.includes(this.ADLSCRIPT)?"adLightningLoadedEvent":e.includes(`${bo}%3A${ko()}`)||e.includes(`${bo}%2C${Eo}`)||e.includes(`${_o}%2Cpw`)||e.includes(`${vo}`)?"gptAdRequestMadeEvent":void 0}isSpecificResource(e){const t=ko();let i="";i=t?e.name.match(new RegExp(`${yo}.*${bo}%3A${t}`)):So?e.name.match(new RegExp(`${yo}.*${_o}%2Cpw`)):Ao?e.name.match(new RegExp(`${yo}.*${vo}`)):e.name.match(new RegExp(`${yo}.*${bo}%2C${Eo}`));const n=[(e.name&&null!==i&&e).name,this.ADLIGHTNINGENABLED?this.ADLSCRIPT:null,"https://securepubads.g.doubleclick.net/tag/js/gpt.js","https://cadmus.script.ac/d25lqe4mlyaln6/script.js","https://cdn.intergient.com/ramp_core.js",...["ramp.js","ramp_config.js"].map((e=>`https://cdn.intergient.com/${this.PUB_ID}/${this.WEBSITE_ID}/${e}`))];return("script"===e.initiatorType||"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)&&n.includes(e.name)}logResourceTiming(e){const t=this.mapResourceToEventNames(e.name);t&&("gptLoadedEvent"===t&&(this.gptLoadedFlag?(window.PageOS.BUS.emit("gptLoadedTwice",!0),S.op.warn("gpt.js loaded twice")):this.gptLoadedFlag=!0),this.logTiming(e,t,"startTime","responseEnd"))}logTiming(e,t,i,n){const o=window.performance.timeOrigin+e[i],s=window.performance.timeOrigin+e[n];if(S.op.info(`${t}Start:`,e[i]),S.op.info(`${t}End:`,e[n]),window.PageOS.benchmarks.trackPageAnalytics(`${t}Start`,e[i],o,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics(`${t}End`,e[n],s,null,this.configId),"gptAdRequestMadeEvent"===t){const t=e[n]-e[i];window.PageOS.BUS.emit("gamRqTm",t)}}logDomInteractive(e){const t=window.performance.timeOrigin+e;S.op.info("domInteractive:",e),window.PageOS.benchmarks.trackPageAnalytics("domInteractive",e,t,null,this.configId)}logDomContentLoaded(e,t){const i=window.performance.timeOrigin+e,n=window.performance.timeOrigin+t;S.op.info("domContentLoadedEventStart:",e),S.op.info("domContentLoadedEventEnd:",t),window.PageOS.benchmarks.trackPageAnalytics("domContentLoadedEventStart",e,i,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("domContentLoadedEventEnd",t,n,null,this.configId)}logLoadEvent(e,t){const i=window.performance.timeOrigin+e,n=window.performance.timeOrigin+t;S.op.info("loadEventStart:",e),S.op.info("loadEventEnd:",t),window.PageOS.benchmarks.trackPageAnalytics("loadEventStart",e,i,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("loadEventEnd",t,n,null,this.configId)}logDomComplete(e){const t=window.performance.timeOrigin+e;S.op.info("domComplete:",e),window.PageOS.benchmarks.trackPageAnalytics("domComplete",e,t,null,this.configId)}disconnectObserver(){this.performanceObservers.forEach((e=>{e.disconnect()})),this.performanceObservers=[]}markPerformanceEvent(e,t=void 0){window.performance?.mark(e,{detail:{source:"pw_page_analytics_events",type:e,ad_details:{unit_type:t?.unit_type||null,slot_id:t?.slot_id||null,refresh_count:t?.refresh_count}}})}_registerPublicAPI(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.markPerformanceEvent=this.markPerformanceEvent.bind(this))}};window.PageOS=window.PageOS||{},window.pwEdgeFlags=window.pwEdgeFlags||{},window.tyche=window.ramp||window.tyche,window.ramp=window.tyche,window.ramp.activeConfig=window.ramp.activeConfig||window.ramp.mvpConfig;const Po=document.getElementById("tyche")||document.getElementById("ramp"),Oo=Po&&Po.dataset.delay,xo=parseInt(Oo,10);window.PageOS.adsPerformance=window.PageOS.adsPerformance||window.ramp&&void 0!==window.ramp.activeConfig,isNaN(xo)||(window.PageOS.delay=xo),window.PageOS.version="V.2.4.34",function(){window.PageOS.domReadyPromise=new Promise((e=>{"interactive"===document.readyState||"complete"===document.readyState?(Ki(),e()):document.addEventListener("DOMContentLoaded",(()=>{Ki(),e()}))})),window.PageOS.scrollTriggered=!1;const e=()=>{window.removeEventListener("scroll",e),window.PageOS.BUS.emit("userScrollTriggered"),window.PageOS.scrollTriggered=!0,window.ramp&&(window.ramp.settings&&(window.ramp.settings.scrollTriggered=!0),"function"==typeof window.ramp.userEventCallback&&window.ramp.userEventCallback("Scroll"))};window.addEventListener("scroll",e),window.PageOS.clickTriggered=!1;const t=()=>{window.removeEventListener("click",t),window.PageOS.BUS.emit("userClickTriggered"),window.PageOS.clickTriggered=!0,window.ramp&&(window.ramp.settings&&(window.ramp.settings.clickTriggered=!0),"function"==typeof window.ramp.userEventCallback&&window.ramp.userEventCallback("Click"))};if(window.addEventListener("click",t),window.pwEdgeFlags&&!0===window.pwEdgeFlags.disablePerformanceMetrics||window.location.hash.includes("disablePerformanceMetrics"))return;const i=Un()((()=>{Wn()}),1e3);window.addEventListener("resize",i);const n=jn()(Zn,500);window.addEventListener("scroll",n),void 0!==document.visibilityState&&window.document.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState?setTimeout(qn,0):S.Xt.info("Focus OUT")}))}(),window.location.href.indexOf("coolmathgames.com")>-1&&"string"==typeof window.ramp.config&&Wi({url:window.ramp.config,method:"get",timestamp:Date.now()}).then((({data:e})=>{window.PageOS.BUS.emit("gotConfigCMG",JSON.parse(e))})).catch((()=>{S.Ay.error("Unable to fetch CMG platform config.")}));const Co=e=>{var t;M(e),new gn(e),!0===window.pwEdgeFlags.disableDmp||(t=window.pwEdgeFlags.dmpDisabledDomains)&&Array.isArray(t)&&t.some((e=>window.location.href.indexOf(e)>-1))||window.PageOS.BUS.after("userData_ready",(()=>new cn(e))),window.PageOS.BUS.after("userData_ready",(()=>function(){if(!0!==window.ramp.settings.config.settings.magniteData||!0===window.PageOS.gdpr.userInEU||!0!==window.PageOS.userData.ready)return;const e=document.createElement("script");e.type="text/javascript",e.text='!function(a,l,b,c,k,s,t,g,A){a.CustomerConnectAnalytics=k,a[k]=a[k]||function(){ (a[k].q=a[k].q||[]).push(arguments)},g=l.createElement(b),A=l.getElementsByTagName(b)[0],g.type="text/javascript",g.async=!0,g.src=c+"?id="+s+"&parentId="+t,A.parentNode.insertBefore(g,A) }(window,document,"script","//carbon-cdn.ccgateway.net/script","cca",window.location.hostname,"5bb3e20859");',document.head.appendChild(e)}())),window.PageOS.adUtils.adRequestCheck=In,window.PageOS.adUtils.calculateFloor=Cn,window.PageOS.adUtils.handleVideoPriceFloorCalculation=xn,Mn();const n=!!(0,y.al)("ccpa"),o=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config;(new Io).init();o&&o.settings.blockthrough&&nn(Dn,"Blockthrough script"),window.PageOS.ccpaApplies=window._pwUserInCA,window._pwUserInCA||n?i.e(16).then(i.bind(i,495)).catch((e=>{S.D4.error("Error loading CCPA module.",e)})):(0,y.UM)("usprivacy")||(document.cookie="usprivacy=1---;path=/;max-age=33696000"),(()=>{if(window.ramp=window.ramp||{},window.ramp.settings=window.ramp.settings||{},window.ramp.settings.config?.settings?.iframedApsTag)so=window.ramp.settings.config.settings.iframedApsTag;else try{const e=ro();e?.iframedApsTag&&(so=e.iframedApsTag)}catch(e){}if(so){if(null!==document.getElementById("pw_aps_iframe"))return;window.PageOS.BUS.after("gdpr_ready",(()=>{window.PageOS.gdpr?.isPrivacyRestricted?S.In.info("Iframe is not loaded because of privacy restrictions"):(oo=lo(),co(oo),wo())}))}else{const e=()=>{if(window.ramp&&window.ramp.settings&&window.ramp.settings.apstagLoaded)return void window.PageOS.BUS.emit("ApsTagLoaded");const e=ao();window.apstag.init(e,(()=>{S.In.info("Normal APS tag loaded"),window.ramp.settings.apstagLoaded=!0,window.ramp.settings.apstagIframed=!1,po(),window.PageOS.BUS.emit("ApsTagLoaded")}))};window.PageOS.BUS.after("gdpr_ready",(()=>{window.PageOS.gdpr?.isPrivacyRestricted?(S.In.info("ApsTag is not executed because of privacy restrictions"),window.ramp.settings.apstagLoaded=!1,window.PageOS.BUS.emit("ApsTagLoaded")):no(e)}))}})()},Mo=()=>{if((0,y.al)("pw_diagnostics")){const e="https://cdn.intergient.com/diagnostics/index.umd.cjs";try{ke(e,!1,(()=>{(new DiagnosticsTool).renderTool()}))}catch(e){S.D4.error("Error loading Diagnostics Tool.",e)}}if(window.googletag?window.PageOS.BUS.emit("GPT_loaded"):(()=>{const e=document.createElement("script");e.type="text/javascript",e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.onload=()=>{window.PageOS.BUS.emit("GPTReady"),window.PageOS.BUS.emit("GPT_loaded")},document.head.appendChild(e)})(),nn(Bn,"ReportingObserver listener"),new b,nn(et,"Prebid.js"),x(),nn(io,"UID2"),le(),Xn(),window.PageOS.BUS.on("gotConfig",(e=>{window.location.href.indexOf("coolmathgames.com")>-1?window.PageOS.BUS.after("gotConfigCMG",(t=>{Bo(t),Co(e)})):Co(e)}),!0),window.PageOS.BUS.on("gotConfig",(e=>{!1===e.isCOPPA&&!0===(e.advertisementCookiesEnabled??!0)&&e.playerId&&(window.PageOS.userData.ready?window.PageOS.userData.initBoltTracking(e.playerId):window.PageOS.BUS.on("userData_ready",(()=>{window.PageOS.userData.initBoltTracking(e.playerId)})))}),!1),window.ramp&&(window.ramp.config||window.PageOS.adsPerformance)){(new on).init()}},To=e=>{window.PageOS.loadingTimestamp||(window.PageOS.loadingTimestamp=Date.now()),(()=>{const e=void 0!==window.ramp,t=window.ramp&&"string"==typeof window.ramp.config,i=window.PageOS.adsPerformance;return!e||!(!t&&!i)})()?e():window.PageOS.run=()=>{delete window.PageOS.run,e()}},Bo=e=>{const{priceFloors:t,displayPriceFloors:i,videoPriceFloors:n,multipliers:o,iabIds:s}=e.settings,r=window.ramp.settings.config;void 0!==t&&(r.settings.priceFloors=t),void 0!==i&&(r.settings.displayPriceFloors=i),void 0!==n&&(r.settings.videoPriceFloors=n),void 0!==o&&(r.settings.multipliers=o),void 0!==s&&(r.settings.iabIds=s);const a=window.ramp.settings.device,d={display:(0,y.Go)(r.headerBidding),video:(0,y.Go)(r.headerBidding)};void 0!==e.headerBidding.display[a]&&(d.display[a].setPriceFloor=e.headerBidding.display[a].setPriceFloor),void 0!==e.headerBidding.video[a]&&(d.video[a].setPriceFloor=e.headerBidding.video[a].setPriceFloor),window.ramp.settings.config.headerBidding=d};void 0!==window.PageOS.delay?window.PageOS.domReadyPromise.then((()=>{setTimeout((()=>{To(Mo)}),window.PageOS.delay)})):To(Mo)},4019:e=>{e.exports=e=>{const i=unescape(encodeURIComponent(e)),n=t(i),o=d(n,8*i.length),s=l(o);return c(s)};const t=e=>{let t=[];t[(e.length>>2)-1]=void 0;for(let e=0;e<t.length;e++)t[e]=0;for(let i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t},i=(e,t)=>{let i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},n=(e,t,n,o,s,r)=>{return i((a=i(i(t,e),i(o,r)))<<(d=s)|a>>>32-d,n);var a,d},o=(e,t,i,o,s,r,a)=>n(t&i|~t&o,e,t,s,r,a),s=(e,t,i,o,s,r,a)=>n(t&o|i&~o,e,t,s,r,a),r=(e,t,i,o,s,r,a)=>n(t^i^o,e,t,s,r,a),a=(e,t,i,o,s,r,a)=>n(i^(t|~o),e,t,s,r,a),d=(e,t)=>{e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,d=-271733879,l=-1732584194,c=271733878;const p=n,g=d,u=l,w=c;for(let t=0;t<e.length;t+=16)n=o(n,d,l,c,e[t],7,-680876936),c=o(c,n,d,l,e[t+1],12,-389564586),l=o(l,c,n,d,e[t+2],17,606105819),d=o(d,l,c,n,e[t+3],22,-1044525330),n=o(n,d,l,c,e[t+4],7,-176418897),c=o(c,n,d,l,e[t+5],12,1200080426),l=o(l,c,n,d,e[t+6],17,-1473231341),d=o(d,l,c,n,e[t+7],22,-45705983),n=o(n,d,l,c,e[t+8],7,1770035416),c=o(c,n,d,l,e[t+9],12,-1958414417),l=o(l,c,n,d,e[t+10],17,-42063),d=o(d,l,c,n,e[t+11],22,-1990404162),n=o(n,d,l,c,e[t+12],7,1804603682),c=o(c,n,d,l,e[t+13],12,-40341101),l=o(l,c,n,d,e[t+14],17,-1502002290),d=o(d,l,c,n,e[t+15],22,1236535329),n=s(n,d,l,c,e[t+1],5,-165796510),c=s(c,n,d,l,e[t+6],9,-1069501632),l=s(l,c,n,d,e[t+11],14,643717713),d=s(d,l,c,n,e[t],20,-373897302),n=s(n,d,l,c,e[t+5],5,-701558691),c=s(c,n,d,l,e[t+10],9,38016083),l=s(l,c,n,d,e[t+15],14,-660478335),d=s(d,l,c,n,e[t+4],20,-405537848),n=s(n,d,l,c,e[t+9],5,568446438),c=s(c,n,d,l,e[t+14],9,-1019803690),l=s(l,c,n,d,e[t+3],14,-187363961),d=s(d,l,c,n,e[t+8],20,1163531501),n=s(n,d,l,c,e[t+13],5,-1444681467),c=s(c,n,d,l,e[t+2],9,-51403784),l=s(l,c,n,d,e[t+7],14,1735328473),d=s(d,l,c,n,e[t+12],20,-1926607734),n=r(n,d,l,c,e[t+5],4,-378558),c=r(c,n,d,l,e[t+8],11,-2022574463),l=r(l,c,n,d,e[t+11],16,1839030562),d=r(d,l,c,n,e[t+14],23,-35309556),n=r(n,d,l,c,e[t+1],4,-1530992060),c=r(c,n,d,l,e[t+4],11,1272893353),l=r(l,c,n,d,e[t+7],16,-155497632),d=r(d,l,c,n,e[t+10],23,-1094730640),n=r(n,d,l,c,e[t+13],4,681279174),c=r(c,n,d,l,e[t],11,-358537222),l=r(l,c,n,d,e[t+3],16,-722521979),d=r(d,l,c,n,e[t+6],23,76029189),n=r(n,d,l,c,e[t+9],4,-640364487),c=r(c,n,d,l,e[t+12],11,-421815835),l=r(l,c,n,d,e[t+15],16,530742520),d=r(d,l,c,n,e[t+2],23,-995338651),n=a(n,d,l,c,e[t],6,-198630844),c=a(c,n,d,l,e[t+7],10,1126891415),l=a(l,c,n,d,e[t+14],15,-1416354905),d=a(d,l,c,n,e[t+5],21,-57434055),n=a(n,d,l,c,e[t+12],6,1700485571),c=a(c,n,d,l,e[t+3],10,-1894986606),l=a(l,c,n,d,e[t+10],15,-1051523),d=a(d,l,c,n,e[t+1],21,-2054922799),n=a(n,d,l,c,e[t+8],6,1873313359),c=a(c,n,d,l,e[t+15],10,-30611744),l=a(l,c,n,d,e[t+6],15,-1560198380),d=a(d,l,c,n,e[t+13],21,1309151649),n=a(n,d,l,c,e[t+4],6,-145523070),c=a(c,n,d,l,e[t+11],10,-1120210379),l=a(l,c,n,d,e[t+2],15,718787259),d=a(d,l,c,n,e[t+9],21,-343485551),n=i(n,p),d=i(d,g),l=i(l,u),c=i(c,w);return[n,d,l,c]},l=e=>{const t=32*e.length;let i="";for(let n=0;n<t;n+=8)i+=String.fromCharCode(e[n>>5]>>>n%32&255);return i},c=e=>{const t="0123456789abcdef";let i="";for(let n=0;n<e.length;n+=1){let o=e.charCodeAt(n);i+=t.charAt(o>>>4&15)+t.charAt(15&o)}return i}},5145:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,s=a(e),r=s[0],d=s[1],l=new o(function(e,t,i){return 3*(t+i)/4-i}(0,r,d)),c=0,p=d>0?r-4:r;for(i=0;i<p;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===d&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[c++]=255&t);1===d&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,s=[],r=16383,a=0,l=n-o;a<l;a+=r)s.push(d(e,a,a+r>l?l:a+r));1===o?(t=e[n-1],s.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],s.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return s.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0;r<64;++r)i[r]=s[r],n[s.charCodeAt(r)]=r;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function d(e,t,n){for(var o,s,r=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(i[(s=o)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8287:(e,t,i)=>{"use strict";var n=i(5145),o=i(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=d,t.IS=50;var r=2147483647;function a(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return l(e,t,i)}function l(e,t,i){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|m(e,t),n=a(i),o=n.write(e,t);o!==i&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return u(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return u(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return d.from(n,t,i);var o=function(e){if(d.isBuffer(e)){var t=0|w(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}if(void 0!==e.length)return"number"!=typeof e.length||V(e.length)?a(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return c(e),a(e<0?0:0|w(e))}function g(e){for(var t=e.length<0?0:0|w(e.length),i=a(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function u(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,d.prototype),n}function w(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function m(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return j(e).length;default:if(o)return n?-1:L(e).length;t=(""+t).toLowerCase(),o=!0}}function h(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return O(this,t,i);case"latin1":case"binary":return x(this,t,i);case"base64":return E(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function y(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),V(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=d.from(t,n)),d.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,o){var s,r=1,a=e.length,d=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;r=2,a/=2,d/=2,i/=2}function l(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(o){var c=-1;for(s=i;s<a;s++)if(l(e,s)===l(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===d)return c*r}else-1!==c&&(s-=s-c),c=-1}else for(i+d>a&&(i=a-d),s=i;s>=0;s--){for(var p=!0,g=0;g<d;g++)if(l(e,s+g)!==l(t,g)){p=!1;break}if(p)return s}return-1}function _(e,t,i,n){i=Number(i)||0;var o=e.length-i;n?(n=Number(n))>o&&(n=o):n=o;var s=t.length;n>s/2&&(n=s/2);for(var r=0;r<n;++r){var a=parseInt(t.substr(2*r,2),16);if(V(a))return r;e[i+r]=a}return r}function v(e,t,i,n){return N(L(t,e.length-i),e,i,n)}function S(e,t,i,n){return N(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function A(e,t,i,n){return N(j(t),e,i,n)}function k(e,t,i,n){return N(function(e,t){for(var i,n,o,s=[],r=0;r<e.length&&!((t-=2)<0);++r)n=(i=e.charCodeAt(r))>>8,o=i%256,s.push(o),s.push(n);return s}(t,e.length-i),e,i,n)}function E(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var s,r,a,d,l=e[o],c=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=i)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(s=e[o+1]))&&(d=(31&l)<<6|63&s)>127&&(c=d);break;case 3:s=e[o+1],r=e[o+2],128==(192&s)&&128==(192&r)&&(d=(15&l)<<12|(63&s)<<6|63&r)>2047&&(d<55296||d>57343)&&(c=d);break;case 4:s=e[o+1],r=e[o+2],a=e[o+3],128==(192&s)&&128==(192&r)&&128==(192&a)&&(d=(15&l)<<18|(63&s)<<12|(63&r)<<6|63&a)>65535&&d<1114112&&(c=d)}null===c?(c=65533,p=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=p}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=P));return i}(n)}d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,i){return l(e,t,i)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,i){return function(e,t,i){return c(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},d.allocUnsafe=function(e){return p(e)},d.allocUnsafeSlow=function(e){return p(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(W(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=d.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var s=e[i];if(W(s,Uint8Array))o+s.length>n.length?d.from(s).copy(n,o):Uint8Array.prototype.set.call(n,s,o);else{if(!d.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o)}o+=s.length}return n},d.byteLength=m,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):h.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",i=t.IS;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},s&&(d.prototype[s]=d.prototype.inspect),d.prototype.compare=function(e,t,i,n,o){if(W(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(n>>>=0),r=(i>>>=0)-(t>>>=0),a=Math.min(s,r),l=this.slice(n,o),c=e.slice(t,i),p=0;p<a;++p)if(l[p]!==c[p]){s=l[p],r=c[p];break}return s<r?-1:r<s?1:0},d.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},d.prototype.indexOf=function(e,t,i){return y(this,e,t,i,!0)},d.prototype.lastIndexOf=function(e,t,i){return y(this,e,t,i,!1)},d.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return _(this,e,t,i);case"utf8":case"utf-8":return v(this,e,t,i);case"ascii":case"latin1":case"binary":return S(this,e,t,i);case"base64":return A(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function O(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function x(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var o="",s=t;s<i;++s)o+=$[e[s]];return o}function M(e,t,i){for(var n=e.slice(t,i),o="",s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+256*n[s+1]);return o}function T(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,i,n,o,s){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function z(e,t,i,n,o,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(e,t,i,n,s){return t=+t,i>>>=0,s||z(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function R(e,t,i,n,s){return t=+t,i>>>=0,s||z(e,0,i,8),o.write(e,t,i,n,52,8),i+8}d.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,d.prototype),n},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e],o=1,s=0;++s<t&&(o*=256);)n+=this[e+s]*o;return n},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e],o=1,s=0;++s<t&&(o*=256);)n+=this[e+s]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},d.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=t,o=1,s=this[e+--n];n>0&&(o*=256);)s+=this[e+--n]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*t)),s},d.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t>>>=0,i>>>=0,n)||B(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,s=0;for(this[t]=255&e;++s<i&&(o*=256);)this[t+s]=e/o&255;return t+i},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t>>>=0,i>>>=0,n)||B(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+i},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*i-1);B(this,e,t,i,o-1,-o)}var s=0,r=1,a=0;for(this[t]=255&e;++s<i&&(r*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/r>>0)-a&255;return t+i},d.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*i-1);B(this,e,t,i,o-1,-o)}var s=i-1,r=1,a=0;for(this[t+s]=255&e;--s>=0&&(r*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/r>>0)-a&255;return t+i},d.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeFloatLE=function(e,t,i){return D(this,e,t,!0,i)},d.prototype.writeFloatBE=function(e,t,i){return D(this,e,t,!1,i)},d.prototype.writeDoubleLE=function(e,t,i){return R(this,e,t,!0,i)},d.prototype.writeDoubleBE=function(e,t,i){return R(this,e,t,!1,i)},d.prototype.copy=function(e,t,i,n){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var o=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o},d.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var r=d.isBuffer(e)?e:d.from(e,n),a=r.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=r[s%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function L(e,t){var i;t=t||1/0;for(var n=e.length,o=null,s=[],r=0;r<n;++r){if((i=e.charCodeAt(r))>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(r+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function j(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var $=function(){for(var e="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var n=16*i,o=0;o<16;++o)t[n+o]=e[i]+e[o];return t}()},6807:(e,t,i)=>{i(5165),i(6094).Array.values},3387:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},8184:(e,t,i)=>{var n=i(7574)("unscopables"),o=Array.prototype;null==o[n]&&i(3341)(o,n,{}),e.exports=function(e){o[n][e]=!0}},6440:e=>{e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},4228:(e,t,i)=>{var n=i(3305);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},1464:(e,t,i)=>{var n=i(7221),o=i(1485),s=i(157);e.exports=function(e){return function(t,i,r){var a,d=n(t),l=o(d.length),c=s(r,l);if(e&&i!=i){for(;l>c;)if((a=d[c++])!=a)return!0}else for(;l>c;c++)if((e||c in d)&&d[c]===i)return e||c||0;return!e&&-1}}},4848:(e,t,i)=>{var n=i(5089),o=i(7574)("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?i:s?n(t):"Object"==(r=n(t))&&"function"==typeof t.callee?"Arguments":r}},5089:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},6094:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},5052:(e,t,i)=>{var n=i(3387);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},3344:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},1763:(e,t,i)=>{e.exports=!i(9448)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6034:(e,t,i)=>{var n=i(3305),o=i(7526).document,s=n(o)&&n(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},6140:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},2127:(e,t,i)=>{var n=i(7526),o=i(6094),s=i(3341),r=i(8859),a=i(5052),d="prototype",l=function(e,t,i){var c,p,g,u,w=e&l.F,m=e&l.G,h=e&l.S,f=e&l.P,y=e&l.B,b=m?n:h?n[t]||(n[t]={}):(n[t]||{})[d],_=m?o:o[t]||(o[t]={}),v=_[d]||(_[d]={});for(c in m&&(i=t),i)g=((p=!w&&b&&void 0!==b[c])?b:i)[c],u=y&&p?a(g,n):f&&"function"==typeof g?a(Function.call,g):g,b&&r(b,c,g,e&l.U),_[c]!=g&&s(_,c,u),f&&v[c]!=g&&(v[c]=g)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},9448:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8790:(e,t,i)=>{var n=i(5052),o=i(7368),s=i(1508),r=i(4228),a=i(1485),d=i(762),l={},c={},p=e.exports=function(e,t,i,p,g){var u,w,m,h,f=g?function(){return e}:d(e),y=n(i,p,t?2:1),b=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(s(f)){for(u=a(e.length);u>b;b++)if((h=t?y(r(w=e[b])[0],w[1]):y(e[b]))===l||h===c)return h}else for(m=f.call(e);!(w=m.next()).done;)if((h=o(m,y,w.value,t))===l||h===c)return h};p.BREAK=l,p.RETURN=c},9461:(e,t,i)=>{e.exports=i(4556)("native-function-to-string",Function.toString)},7526:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7917:e=>{var t={}.hasOwnProperty;e.exports=function(e,i){return t.call(e,i)}},3341:(e,t,i)=>{var n=i(7967),o=i(1996);e.exports=i(1763)?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},1308:(e,t,i)=>{var n=i(7526).document;e.exports=n&&n.documentElement},2956:(e,t,i)=>{e.exports=!i(1763)&&!i(9448)((function(){return 7!=Object.defineProperty(i(6034)("div"),"a",{get:function(){return 7}}).a}))},4877:e=>{e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},1249:(e,t,i)=>{var n=i(5089);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},1508:(e,t,i)=>{var n=i(906),o=i(7574)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[o]===e)}},3305:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},7368:(e,t,i)=>{var n=i(4228);e.exports=function(e,t,i,o){try{return o?t(n(i)[0],i[1]):t(i)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},6032:(e,t,i)=>{"use strict";var n=i(4719),o=i(1996),s=i(3844),r={};i(3341)(r,i(7574)("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=n(r,{next:o(1,i)}),s(e,t+" Iterator")}},8175:(e,t,i)=>{"use strict";var n=i(2750),o=i(2127),s=i(8859),r=i(3341),a=i(906),d=i(6032),l=i(3844),c=i(627),p=i(7574)("iterator"),g=!([].keys&&"next"in[].keys()),u="keys",w="values",m=function(){return this};e.exports=function(e,t,i,h,f,y,b){d(i,t,h);var _,v,S,A=function(e){if(!g&&e in P)return P[e];switch(e){case u:case w:return function(){return new i(this,e)}}return function(){return new i(this,e)}},k=t+" Iterator",E=f==w,I=!1,P=e.prototype,O=P[p]||P["@@iterator"]||f&&P[f],x=O||A(f),C=f?E?A("entries"):x:void 0,M="Array"==t&&P.entries||O;if(M&&(S=c(M.call(new e)))!==Object.prototype&&S.next&&(l(S,k,!0),n||"function"==typeof S[p]||r(S,p,m)),E&&O&&O.name!==w&&(I=!0,x=function(){return O.call(this)}),n&&!b||!g&&!I&&P[p]||r(P,p,x),a[t]=x,a[k]=m,f)if(_={values:E?x:A(w),keys:y?x:A(u),entries:C},b)for(v in _)v in P||s(P,v,_[v]);else o(o.P+o.F*(g||I),t,_);return _}},8931:(e,t,i)=>{var n=i(7574)("iterator"),o=!1;try{var s=[7][n]();s.return=function(){o=!0},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var s=[7],r=s[n]();r.next=function(){return{done:i=!0}},s[n]=function(){return r},e(s)}catch(e){}return i}},4970:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},906:e=>{e.exports={}},2750:e=>{e.exports=!1},1384:(e,t,i)=>{var n=i(7526),o=i(2780).set,s=n.MutationObserver||n.WebKitMutationObserver,r=n.process,a=n.Promise,d="process"==i(5089)(r);e.exports=function(){var e,t,i,l=function(){var n,o;for(d&&(n=r.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(d)i=function(){r.nextTick(l)};else if(!s||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);i=function(){c.then(l)}}else i=function(){o.call(n,l)};else{var p=!0,g=document.createTextNode("");new s(l).observe(g,{characterData:!0}),i=function(){g.data=p=!p}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,i()),t=o}}},4258:(e,t,i)=>{"use strict";var n=i(3387);function o(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)}e.exports.f=function(e){return new o(e)}},4719:(e,t,i)=>{var n=i(4228),o=i(1626),s=i(6140),r=i(766)("IE_PROTO"),a=function(){},d="prototype",l=function(){var e,t=i(6034)("iframe"),n=s.length;for(t.style.display="none",i(1308).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[d][s[n]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(a[d]=n(e),i=new a,a[d]=null,i[r]=e):i=l(),void 0===t?i:o(i,t)}},7967:(e,t,i)=>{var n=i(4228),o=i(2956),s=i(3048),r=Object.defineProperty;t.f=i(1763)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),o)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},1626:(e,t,i)=>{var n=i(7967),o=i(4228),s=i(1311);e.exports=i(1763)?Object.defineProperties:function(e,t){o(e);for(var i,r=s(t),a=r.length,d=0;a>d;)n.f(e,i=r[d++],t[i]);return e}},627:(e,t,i)=>{var n=i(7917),o=i(8270),s=i(766)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},4561:(e,t,i)=>{var n=i(7917),o=i(7221),s=i(1464)(!1),r=i(766)("IE_PROTO");e.exports=function(e,t){var i,a=o(e),d=0,l=[];for(i in a)i!=r&&n(a,i)&&l.push(i);for(;t.length>d;)n(a,i=t[d++])&&(~s(l,i)||l.push(i));return l}},1311:(e,t,i)=>{var n=i(4561),o=i(6140);e.exports=Object.keys||function(e){return n(e,o)}},128:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},5957:(e,t,i)=>{var n=i(4228),o=i(3305),s=i(4258);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},1996:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6065:(e,t,i)=>{var n=i(8859);e.exports=function(e,t,i){for(var o in t)n(e,o,t[o],i);return e}},8859:(e,t,i)=>{var n=i(7526),o=i(3341),s=i(7917),r=i(4415)("src"),a=i(9461),d="toString",l=(""+a).split(d);i(6094).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,i,a){var d="function"==typeof i;d&&(s(i,"name")||o(i,"name",t)),e[t]!==i&&(d&&(s(i,r)||o(i,r,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:o(e,t,i):(delete e[t],o(e,t,i)))})(Function.prototype,d,(function(){return"function"==typeof this&&this[r]||a.call(this)}))},5762:(e,t,i)=>{"use strict";var n=i(7526),o=i(7967),s=i(1763),r=i(7574)("species");e.exports=function(e){var t=n[e];s&&t&&!t[r]&&o.f(t,r,{configurable:!0,get:function(){return this}})}},3844:(e,t,i)=>{var n=i(7967).f,o=i(7917),s=i(7574)("toStringTag");e.exports=function(e,t,i){e&&!o(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},766:(e,t,i)=>{var n=i(4556)("keys"),o=i(4415);e.exports=function(e){return n[e]||(n[e]=o(e))}},4556:(e,t,i)=>{var n=i(6094),o=i(7526),s="__core-js_shared__",r=o[s]||(o[s]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(2750)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},9190:(e,t,i)=>{var n=i(4228),o=i(3387),s=i(7574)("species");e.exports=function(e,t){var i,r=n(e).constructor;return void 0===r||null==(i=n(r)[s])?t:o(i)}},2780:(e,t,i)=>{var n,o,s,r=i(5052),a=i(4877),d=i(1308),l=i(6034),c=i(7526),p=c.process,g=c.setImmediate,u=c.clearImmediate,w=c.MessageChannel,m=c.Dispatch,h=0,f={},y="onreadystatechange",b=function(){var e=+this;if(f.hasOwnProperty(e)){var t=f[e];delete f[e],t()}},_=function(e){b.call(e.data)};g&&u||(g=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return f[++h]=function(){a("function"==typeof e?e:Function(e),t)},n(h),h},u=function(e){delete f[e]},"process"==i(5089)(p)?n=function(e){p.nextTick(r(b,e,1))}:m&&m.now?n=function(e){m.now(r(b,e,1))}:w?(s=(o=new w).port2,o.port1.onmessage=_,n=r(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):n=y in l("script")?function(e){d.appendChild(l("script"))[y]=function(){d.removeChild(this),b.call(e)}}:function(e){setTimeout(r(b,e,1),0)}),e.exports={set:g,clear:u}},157:(e,t,i)=>{var n=i(7087),o=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):s(e,t)}},7087:e=>{var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},7221:(e,t,i)=>{var n=i(1249),o=i(3344);e.exports=function(e){return n(o(e))}},1485:(e,t,i)=>{var n=i(7087),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},8270:(e,t,i)=>{var n=i(3344);e.exports=function(e){return Object(n(e))}},3048:(e,t,i)=>{var n=i(3305);e.exports=function(e,t){if(!n(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!n(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},4415:e=>{var t=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+i).toString(36))}},4514:(e,t,i)=>{var n=i(7526).navigator;e.exports=n&&n.userAgent||""},7574:(e,t,i)=>{var n=i(4556)("wks"),o=i(4415),s=i(7526).Symbol,r="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=r&&s[e]||(r?s:o)("Symbol."+e))}).store=n},762:(e,t,i)=>{var n=i(4848),o=i(7574)("iterator"),s=i(906);e.exports=i(6094).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||s[n(e)]}},5165:(e,t,i)=>{"use strict";var n=i(8184),o=i(4970),s=i(906),r=i(7221);e.exports=i(8175)(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},6517:(e,t,i)=>{"use strict";var n,o,s,r,a=i(2750),d=i(7526),l=i(5052),c=i(4848),p=i(2127),g=i(3305),u=i(3387),w=i(6440),m=i(8790),h=i(9190),f=i(2780).set,y=i(1384)(),b=i(4258),_=i(128),v=i(4514),S=i(5957),A="Promise",k=d.TypeError,E=d.process,I=E&&E.versions,P=I&&I.v8||"",O=d[A],x="process"==c(E),C=function(){},M=o=b.f,T=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[i(7574)("species")]=function(e){e(C,C)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==P.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(e){}}(),B=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},z=function(e,t){if(!e._n){e._n=!0;var i=e._c;y((function(){for(var n=e._v,o=1==e._s,s=0,r=function(t){var i,s,r,a=o?t.ok:t.fail,d=t.resolve,l=t.reject,c=t.domain;try{a?(o||(2==e._h&&U(e),e._h=1),!0===a?i=n:(c&&c.enter(),i=a(n),c&&(c.exit(),r=!0)),i===t.promise?l(k("Promise-chain cycle")):(s=B(i))?s.call(i,d,l):d(i)):l(n)}catch(e){c&&!r&&c.exit(),l(e)}};i.length>s;)r(i[s++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){f.call(d,(function(){var t,i,n,o=e._v,s=R(e);if(s&&(t=_((function(){x?E.emit("unhandledRejection",o,e):(i=d.onunhandledrejection)?i({promise:e,reason:o}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",o)})),e._h=x||R(e)?2:1),e._a=void 0,s&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){f.call(d,(function(){var t;x?E.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),z(t,!0))},j=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw k("Promise can't be resolved itself");(t=B(e))?y((function(){var n={_w:i,_d:!1};try{t.call(e,l(j,n,1),l(L,n,1))}catch(e){L.call(n,e)}})):(i._v=e,i._s=1,z(i,!1))}catch(e){L.call({_w:i,_d:!1},e)}}};T||(O=function(e){w(this,O,A,"_h"),u(e),n.call(this);try{e(l(j,this,1),l(L,this,1))}catch(e){L.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(6065)(O.prototype,{then:function(e,t){var i=M(h(this,O));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=x?E.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&z(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=l(j,e,1),this.reject=l(L,e,1)},b.f=M=function(e){return e===O||e===r?new s(e):o(e)}),p(p.G+p.W+p.F*!T,{Promise:O}),i(3844)(O,A),i(5762)(A),r=i(6094)[A],p(p.S+p.F*!T,A,{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(a||!T),A,{resolve:function(e){return S(a&&this===r?O:this,e)}}),p(p.S+p.F*!(T&&i(8931)((function(e){O.all(e).catch(C)}))),A,{all:function(e){var t=this,i=M(t),n=i.resolve,o=i.reject,s=_((function(){var i=[],s=0,r=1;m(e,!1,(function(e){var a=s++,d=!1;i.push(void 0),r++,t.resolve(e).then((function(e){d||(d=!0,i[a]=e,--r||n(i))}),o)})),--r||n(i)}));return s.e&&o(s.v),i.promise},race:function(e){var t=this,i=M(t),n=i.reject,o=_((function(){m(e,!1,(function(e){t.resolve(e).then(i.resolve,n)}))}));return o.e&&n(o.v),i.promise}})},251:(e,t)=>{t.read=function(e,t,i,n,o){var s,r,a=8*o-n-1,d=(1<<a)-1,l=d>>1,c=-7,p=i?o-1:0,g=i?-1:1,u=e[t+p];for(p+=g,s=u&(1<<-c)-1,u>>=-c,c+=a;c>0;s=256*s+e[t+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=n;c>0;r=256*r+e[t+p],p+=g,c-=8);if(0===s)s=1-l;else{if(s===d)return r?NaN:1/0*(u?-1:1);r+=Math.pow(2,n),s-=l}return(u?-1:1)*r*Math.pow(2,s-n)},t.write=function(e,t,i,n,o,s){var r,a,d,l=8*s-o-1,c=(1<<l)-1,p=c>>1,g=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:s-1,w=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,r=c):(r=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-r))<1&&(r--,d*=2),(t+=r+p>=1?g/d:g*Math.pow(2,1-p))*d>=2&&(r++,d/=2),r+p>=c?(a=0,r=c):r+p>=1?(a=(t*d-1)*Math.pow(2,o),r+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),r=0));o>=8;e[i+u]=255&a,u+=w,a/=256,o-=8);for(r=r<<o|a,l+=o;l>0;e[i+u]=255&r,u+=w,r/=256,l-=8);e[i+u-w]|=128*m}},1873:(e,t,i)=>{var n=i(9325).Symbol;e.exports=n},2552:(e,t,i)=>{var n=i(1873),o=i(659),s=i(9350),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?o(e):s(e)}},4128:(e,t,i)=>{var n=i(1800),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},4840:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},659:(e,t,i)=>{var n=i(1873),o=Object.prototype,s=o.hasOwnProperty,r=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=r.call(e);return n&&(t?e[a]=i:delete e[a]),o}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,i)=>{var n=i(4840),o="object"==typeof self&&self&&self.Object===Object&&self,s=n||o||Function("return this")();e.exports=s},1800:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},8221:(e,t,i)=>{var n=i(3805),o=i(124),s=i(9374),r=Math.max,a=Math.min;e.exports=function(e,t,i){var d,l,c,p,g,u,w=0,m=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var i=d,n=l;return d=l=void 0,w=t,p=e.apply(n,i)}function b(e){var i=e-u;return void 0===u||i>=t||i<0||h&&e-w>=c}function _(){var e=o();if(b(e))return v(e);g=setTimeout(_,function(e){var i=t-(e-u);return h?a(i,c-(e-w)):i}(e))}function v(e){return g=void 0,f&&d?y(e):(d=l=void 0,p)}function S(){var e=o(),i=b(e);if(d=arguments,l=this,u=e,i){if(void 0===g)return function(e){return w=e,g=setTimeout(_,t),m?y(e):p}(u);if(h)return clearTimeout(g),g=setTimeout(_,t),y(u)}return void 0===g&&(g=setTimeout(_,t)),p}return t=s(t)||0,n(i)&&(m=!!i.leading,c=(h="maxWait"in i)?r(s(i.maxWait)||0,t):c,f="trailing"in i?!!i.trailing:f),S.cancel=function(){void 0!==g&&clearTimeout(g),w=0,d=u=l=g=void 0},S.flush=function(){return void 0===g?p:v(o())},S}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4394:(e,t,i)=>{var n=i(2552),o=i(346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},124:(e,t,i)=>{var n=i(9325);e.exports=function(){return n.Date.now()}},7350:(e,t,i)=>{var n=i(8221),o=i(3805);e.exports=function(e,t,i){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(i)&&(s="leading"in i?!!i.leading:s,r="trailing"in i?!!i.trailing:r),n(e,t,{leading:s,maxWait:t,trailing:r})}},9374:(e,t,i)=>{var n=i(4128),o=i(3805),s=i(4394),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=a.test(e);return i||d.test(e)?l(e.slice(2),i?2:8):r.test(e)?NaN:+e}},4113:(e,t,i)=>{"use strict";i.d(t,{AJ:()=>o,E9:()=>u,G3:()=>r,IX:()=>m,Mj:()=>c,Nh:()=>w,Ns:()=>g,XC:()=>p,cS:()=>s,lC:()=>l});const n=2147483645,o=({boltConfig:e,id:t,onReady:i,playerType:n,noPrerollHide:o,prerollAdAmt:s,prerollAdRefreshRetries:r,prerollAdRefreshTimeout:a,showOnComplete:d,adUnitType:l,adPodding:c})=>{window.PageOS.benchmarks.trackStart("load_bolt_js_tag"),window.PageOS.BUS.on("boot_bolt_tag",(()=>{window.PageOS.benchmarks.trackEnd("load_bolt_js_tag")}),!0);const p=document.createElement("script");p.src="https://cdn.playwire.com/bolt/js/zeus/embed.js",p.type="text/javascript",p.setAttribute("charset","utf-8");const g={id:t,width:"100%",height:"100%",config:e,onready:i};"precontent"===n&&(g.hiddenContainer=d||`trendi_video_hidden_container_${Date.now()}`),!0===o&&(g.noPrerollHide=!0),null!=s&&(g.prerollAdAmt=s,(r||a)&&(g.prerollAdRefreshRetries=r,g.prerollAdRefreshTimeout=a)),null!=l&&(g.adunitType=l),g.adPodding="on",void 0!==c&&(c.enabled?(g.minPodLength=0,g.maxPodLength=1e3*c.maxPodLength,g.maxPodAmount=c.maxPodAmount):g.adPodding="off");const u=Object.keys(g);for(let e=0;e<u.length;e++){const t=u[e];p.dataset[t]=g[t]}return p},s=(e,t,i)=>{if("publisher"===e||"trendi"===e){const{publisherId:e}=window.ramp.settings.config.settings;return`https://${"config.playwire.com"}/${e}/playlists/v2/${t}/zeus.json`}return i},r=(e,t,i,n,o)=>{o=void 0!==o?o:.5;const s=new IntersectionObserver((e=>a(e,t,i,n,o)),{root:null,rootMargin:"0px",threshold:o});return void 0!==n&&(n.lastScrollTop=0,n.scrollingUp=!0,n.observedElement=e),s.observe(e),s},a=(e,t,i,n,o)=>{const s=e[0],r=0===o?s.target:s.target.firstChild,a=0===(void 0!==o?o:.5)?s.intersectionRatio>0:s.intersectionRatio>=o,d=window.pageYOffset||document.documentElement.scrollTop;(n=void 0!==n?n:r)&&(n.scrollingUp=d<=n.lastScrollTop,n.lastScrollTop=d<=0?0:d),null!==r&&"SCRIPT"!==r.nodeName&&(a?t(n):i(n))},d=e=>{if(e&&-1===e.indexOf("bottom"))return!1;if(!0===window.ramp.tpsBottomRailEnabled)return!0;const t=window.ramp.settings.slots["pw-oop-bottom_rail"];return void 0!==t&&t.on},l=(e,t)=>{const i=10,o=d(e.location),s=void 0===e.location?"right-bottom":e.location,r=void 0===e.stickyH?e.player.parentNode.style.height:`${e.stickyH}px`,a=void 0===e.stickyW?e.player.parentNode.style.width:`${e.stickyW}px`,l=e.player,c=window.ramp.settings;Object.assign(l.style,{height:r,"max-width":a,"max-height":r,position:"fixed",width:a,"z-index":t&&!t.isShowing?"-1":n,transition:"opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000)","-webkit-transition":"opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000)","box-shadow":"0px 0px 25px 0px rgba(50, 50, 50, 0.75)"}),void 0!==c.slots.sticky_video&&(c.slots.sticky_video.isDocked=!0),void 0!==c.slots.trendi_video&&(c.slots.trendi_video.isDocked=!0),l.classList.add("is-docked");const p=e.yOffset?e.yOffset:0;switch(s){case"left-top":l.classList.add("pw-pos-top-left"),Object.assign(l.style,{left:"10px",top:`${42+p}px`,bottom:"auto",right:"auto"});break;case"right-top":l.classList.add("pw-pos-top-right"),Object.assign(l.style,{right:"10px",top:`${42+p}px`,bottom:"auto",left:"auto"});break;case"left-bottom":l.classList.add("pw-pos-bottom-left"),Object.assign(l.style,{bottom:`${i+p}px`,left:"10px",top:"auto",right:"auto"});break;case"right-bottom":l.classList.add("pw-pos-bottom-right"),Object.assign(l.style,{bottom:`${i+p}px`,right:"10px",top:"auto",left:"auto"});break;case"sidebar":l.classList.add("pw-pos-sidebar"),Object.assign(l.style,{top:e.navHeight?`${e.navHeight}px`:0,left:"auto"});break;case"top":l.classList.add("pw-pos-top"),Object.assign(l.style,{left:0,"max-width":"100%",top:0,width:"100%"}),Object.assign(l.firstChild.style,{height:r,margin:"auto",width:a})}if(o){const e=window.ramp.settings.slots["pw-oop-bottom_rail"];let t=e?e.element.getBoundingClientRect().height:0;window.ramp.tpsBottomRailEnabled&&0===t&&(t=90);const i=window.ramp.settings.isMobile&&"right-bottom"===s&&t>0?`${t+p+5}px`:`${t+p+20}px`;l.style.bottom=i}const g=document.querySelector("#pw-close-btn");null!==g&&(g.classList.remove("hide"),g.classList.add("show")),"top"===s&&window.PageOS.BUS.emit("trendi_video_top_docked")},c=(e,t)=>{const i=window.ramp.settings,o=e.classList.contains("bolt-ad-view");e.classList.remove("is-docked"),Object.assign(e.style,{bottom:""+(o?"0px":"auto"),"box-shadow":"none",height:"100%",left:""+(o?"0px":"auto"),"max-height":"none","max-width":"none",position:""+(o?"absolute":"relative"),right:""+(o?"0px":"auto"),transition:"opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000)",top:""+(o?"0px":"auto"),width:"100%","z-index":t?n:0,"-webkit-transition":"opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000)"}),void 0!==i.slots.sticky_video&&(i.slots.sticky_video.isDocked=!1),void 0!==i.slots.trendi_video&&(i.slots.trendi_video.isDocked=!1);const s=document.querySelector("#pw-close-btn");null!==s&&(s.classList.remove("show"),s.classList.add("hide")),t&&window.PageOS.BUS.emit("trendi_video_top_docked")},p=(e,t,i)=>{let n=document.getElementById("pw-close-btn");const o=window.ramp.settings.device;if(null===n){n=document.createElement("span");const s=document.createElement("span"),r='style="stroke:rgb(255,255,255);stroke-width:3"';n.classList.add("bolt-close-button"),n.id="pw-close-btn",s.classList.add("circle"),s.innerHTML=`<svg width="32" height="32"><circle cx="16" cy="16" r="16" fill="transparent" /><line x1="11" y1="11" x2="21" y2="21" ${r} /><line x1="21" y1="11" x2="11" y2="21" ${r} /></svg>`,n.appendChild(s),void 0!==i&&n.classList.add(i),n.addEventListener("mobile"===o||"tablet"===o?"touchstart":"click",(e=>{e.preventDefault(),e.stopPropagation(),t()})),"tyche_trendi_video_container"===e.id||"tyche_trendi_slideshow_container"===e.id||"_pw_trendi_slideshow"===e.id?e.insertAdjacentElement("beforeend",n):e.parentNode.insertAdjacentElement("beforeend",n)}return window.PageOS.BUS.emit("close_btn_built"),n},g=()=>{const e=document.getElementById("pw-close-btn");e&&e.parentNode.removeChild(e)},u=(e,t)=>{const i=document.createElement("style"),o=t?`.pw-close-btn-top {right: ${(window.innerWidth-t[0])/4-16}px !important;top: 5px !important;}`:"",s=document.createTextNode(`#pw-close-btn {cursor: pointer;position: fixed;width: 32px;z-index: ${n};}.pw-close-btn-top.pw-close-btn-top--flex-docked {top: 75px !important;}.pw-close-btn-top.pw-close-btn-top--flex {top: 215px !important;}.pw-close-btn {position: absolute !important;left: 0px;top: 0px !important;}${o}#pw-close-btn.hide {display:none!important}#pw-close-btn.show {display:block!important}#pw-close-btn.bolt-linear-ad-on {display:none;}#pw-close-btn .circle {display:inline-block!important;font-family:sans-serif!important;line-height:0!important;width:32px;height:32px;}#tyche_trendi_video_container #pw-close-btn .circle {width:16px;height:16px;}`);i.type="text/css",i.appendChild(s),document.head.appendChild(i)},w=(e,t,i,n,o,s)=>{let r=document.getElementById("sticky-video-styles");const a=document.getElementsByTagName("head")[0],l=document.createTextNode(((e,t,i,n,o)=>{let s,r,a,l,c;if(s=window.parseInt(n,10)+30,d(t)){const e=window.ramp.settings.slots["pw-oop-bottom_rail"];c=e?e.element.getBoundingClientRect().height:0,s+=c||0,c>0&&window.ramp.settings.isMobile&&window.innerWidth<435&&(s+=30)}switch(t){case"left-top":r=i-20,a=5,l=`.bolt-close-button {left: ${r.toString()}px;top: ${a.toString()}px;}`;break;case"right-top":a=5,l=`.bolt-close-button {right: 10px;top: ${a.toString()}px;}`;break;case"left-bottom":r=i-21,l=`.bolt-close-button {left: ${r.toString()}px;bottom: ${s}px;}`;break;case"right-bottom":l=`.bolt-close-button {right: 10px;bottom: ${s}px;}`;break;case"sidebar":l=`.bolt-close-button {padding-right: 4px;top: ${o?parseInt(o,10)-8+"px":"-8px"};width: ${i}px !important;} .bolt-close-button #pw-close-btn-x {text-align: right !important;}`}return`\n            .placeholder-bg {\n                background-color: #eaeaea !important;\n                background-image: url(//cdn.playwire.com/sticky_video/pip_icon.png) !important;\n                background-repeat: no-repeat !important;\n                background-size: 60px !important;\n                background-position: center center !important;\n            }\n            .pw-animation {\n                transition: all 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n                -webkit-transition: all 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n            }\n            .no-pw-animation {\n                transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n                -webkit-transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n            }\n            .fade-out {\n                opacity: 0;\n            }\n            .show {\n                opacity: 1;\n            }\n            ${l}`})(0,i,n,o,s));if(r||(r=document.createElement("style"),r.type="text/css",r.id="sticky-video-styles",a.appendChild(r)),r.innerHTML="",r.appendChild(l),e){let e="50%";"desktop"!==t&&"tablet"!==t||(e="10px");const i=document.createElement("style"),n=document.createTextNode((e=>`\n            #scrolly-logger {\n                background: #ccc;\n                width: 10em;\n                box-shadow:  0px 0px 10px #000;\n                position: fixed;\n                text-align: center;\n                top: 0;\n                right: ${e};\n                border-collapse: collapse;\n                z-index: 2147483640;\n            }\n            #scrolly-logger tr,\n            #scrolly-logger td {\n                height: 20px;\n                border: 1px solid grey;\n            }`)(e));i.type="text/css",i.id="sticky-logger-styles",i.appendChild(n),a.appendChild(i)}},m=e=>{if(!e.anchorDiv)return;const{bottom:t}=e.anchorDiv.getBoundingClientRect();t<0&&(e.wasViewed=!0)};window.PageOS.videoHandler={buildScript:o,getBoltConfig:s,initIntersectionHandler:r,dockVideo:l,undockVideo:c,buildCloseBtn:p,destroyCloseBtn:g,setupGlobalCSS:u,checkWasViewed:m}},6061:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>v,D4:()=>p,GE:()=>l,In:()=>y,Iz:()=>h,W4:()=>u,XW:()=>g,Xt:()=>f,dd:()=>a,hS:()=>c,ho:()=>m,kX:()=>w,kZ:()=>d,op:()=>b,yt:()=>_});const n={name:"pageos",version:"V.2.4.34"},o=window.location.hash.toLowerCase().indexOf("pageosdebug")>-1,s=window.location.search.toLowerCase().indexOf("pw_diagnostics")>-1,r=(e,t=o||s)=>{const i=window.PageOS.logger.get(e,{app:n});return t&&i.setLevel(i.DEBUG),i},a=r("GDPR"),d=r("KINESIS"),l=r("PREBID"),c=r("USERDATA"),p=r("TYCHE"),g=r("VIDEO"),u=r("BENCHMARKS"),w=r("UID2"),m=r("DMP"),h=r("LOTAME"),f=r("METRICS",window.location.hash.toLowerCase().indexOf("metricsdebug")>-1),y=r("AMAZON"),b=r("PERFORMANCE"),_=r("REPORTING_OBSERVER"),v=r("DEBUG")},6030:(e,t,i)=>{"use strict";i.d(t,{Fr:()=>n,Pf:()=>s,vc:()=>o});const n=()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},o=()=>window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape",s=()=>n()?"mobile":/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(navigator.userAgent.toLowerCase())?"tablet":"desktop"},6624:(e,t,i)=>{"use strict";i.d(t,{Go:()=>y,v9:()=>c,W2:()=>_,YK:()=>g,a$:()=>u,UM:()=>d,X8:()=>p,o:()=>f,YV:()=>w,al:()=>l,Fz:()=>b,Fx:()=>h,h1:()=>m});var n=i(6030),o=i(4019),s=i.n(o);const r={"1k9zrpc":"MWs5enJwYw==","305q80":"MzA1cTgw","12ipr7k":"MTJpcHI3aw==",tn2qyo:"dG4ycXlv","1t5mry8":"MXQ1bXJ5OA==",bvsqgw:"YnZzcWd3","1becrgg":"MWJlY3JnZw==",p798u8:"cDc5OHU4","1opt9ts":"MW9wdDl0cw==","7fz8cg":"N2Z6OGNn","16yj9c0":"MTZ5ajljMA==",y2w934:"eTJ3OTM0","1xlga2o":"MXhsZ2Eybw==",gbm8lc:"Z2JtOGxj","1fu69kw":"MWZ1Njlrdw==",ijiznk:"aWppem5r","1i230n4":"MWkyMzBuNA==",s8z5s:"czh6NXM=","10at05c":"MTBhdDA1Yw==",rf5zwg:"cmY1endn","1qxq0w0":"MXF4cTB3MA==","9nvzeo":"OW52emVv","196g0e8":"MTk2ZzBlOA==",mzchs0:"bXpjaHMw","1mhwirk":"MW1od2lyaw==","582ha8":"NTgyaGE4","14qmi9s":"MTRxbWk5cw==",vuzi0w:"dnV6aTB3","1vdjj0g":"MXZkamowZw==",e3phj4:"ZTNwaGo0","1dm9iio":"MWRtOWlpbw==",lve48w:"bHZlNDh3","1ldy58g":"MWxkeTU4Zw==","4443r4":"NDQ0M3I0","13mo4qo":"MTNtbzRxbw==",ur14hs:"dXIxNGhz","1u9l5hc":"MXU5bDVoYw==",czr400:"Y3pyNDAw","1cib4zk":"MWNpYjR6aw==",qb7mdc:"cWI3bWRj","1ptrncw":"MXB0cm5jdw==","8jxlvk":"OGp4bHZr","182hmv4":"MTgyaG12NA==",z6umm8:"ejZ1bW04","1ypenls":"MXlwZW5scw==",hfkm4g:"aGZrbTRn","1gy4n40":"MWd5NG40MA==",jnhd6o:"am5oZDZv","1j61e68":"MWo2MWU2OA==","1w7cow":"MXc3Y293","11erdog":"MTFlcmRvZw==",sj4dfk:"c2o0ZGZr","1s1oef4":"MXMxb2VmNA==",arucxs:"YXJ1Y3hz","1aaedxc":"MWFhZWR4Yw==",o3avb4:"bzNhdmI0","1nluwao":"MW5sdXdhbw==","6c0utc":"NmMwdXRj","15ukvsw":"MTV1a3Zzdw==",wyxvk0:"d3l4dmsw","1whhwjk":"MXdoaHdqaw==",f7nv28:"ZjdudjI4","1eq7w1s":"MWVxN3cxcw==",k7gjy8:"azdnank4","1jq0kxs":"MWpxMGt4cw==","2g6jgg":"Mmc2amdn","11yqkg0":"MTF5cWtnMA==",t33k74:"dDMzazc0","1slnl6o":"MXNsbmw2bw==",bbtjpc:"YmJ0anBj","1audkow":"MWF1ZGtvdw==",ona22o:"b25hMjJv","1o5u328":"MW81dTMyOA==","6w01kw":"NncwMWt3","16ek2kg":"MTZlazJrZw==",xix2bk:"eGl4MmJr","1x1h3b4":"MXgxaDNiNA==",frn1ts:"ZnJuMXRz","1fa72tc":"MWZhNzJ0Yw==",hzjsw0:"aHpqc3cw","1hi3tvk":"MWhpM3R2aw==","89se8":"ODlzZTg=",zqttds:"enF0dGRz",qv6t4w:"cXY2dDR3","1qdqu4g":"MXFkcXU0Zw==","93wsn4":"OTN3c240","18mgtmo":"MThtZ3Rtbw==",mfdb0g:"bWZkYjBn","1lxxc00":"MWx4eGMwMA==","4o3aio":"NG8zYWlv","146nbi8":"MTQ2bmJpOA==",vb0b9c:"dmIwYjlj","1utkc8w":"MXV0a2M4dw==",djqark:"ZGpxYXJr","1d2abr4":"MWQyYWJyNA==",lbexhc:"bGJleGhj","1ktyygw":"MWt0eXlndw==","3k4wzk":"M2s0d3pr","132oxz4":"MTMyb3h6NA==",u71xq8:"dTcxeHE4","1tplyps":"MXRwbHlwcw==",cfrx8g:"Y2ZyeDhn","1byby80":"MWJ5Ynk4MA==",pr8fls:"cHI4Zmxz","1p9sglc":"MXA5c2dsYw==","7zyf40":"N3p5ZjQw","17iig3k":"MTdpaWczaw==",ymvfuo:"eW12ZnVv","1y5fgu8":"MXk1Zmd1OA==",gvlfcw:"Z3ZsZmN3","1ge5gcg":"MWdlNWdjZw==",j3i6f4:"ajNpNmY0","1im27eo":"MWltMjdlbw==","1c85xc":"MWM4NXhj","10us6ww":"MTB1czZ3dw==",rz56o0:"cno1Nm8w","1rhp7nk":"MXJocDduaw==",a7v668:"YTd2NjY4","19qf75s":"MTlxZjc1cw==",njbojk:"bmpib2pr","1n1vpj4":"MW4xdnBqNA==","5s1o1s":"NXMxbzFz","15alp1c":"MTVhbHAxYw==",weyosg:"d2V5b3Nn","1vxips0":"MXZ4aXBzMA==",enooao:"ZW5vb2Fv","1e68pa8":"MWU2OHBhOA==",l1fc3k:"bDFmYzNr","1kjzd34":"MWtqemQzNA==","3a5bls":"M2E1Ymxz","12spclc":"MTJzcGNsYw==",tx2ccg:"dHgyY2Nn","1tfmdc0":"MXRmbWRjMA==",c5sbuo:"YzVzYnVv","1boccu8":"MWJvY2N1OA==",ph8u80:"cGg4dTgw","1ozsv7k":"MW96c3Y3aw==","7pytq8":"N3B5dHE4","178iups":"MTc4aXVwcw==",ycvugw:"eWN2dWd3","1xvfvgg":"MXh2ZnZnZw==",glltz4:"Z2xsdHo0","1g45uyo":"MWc0NXV5bw==",itil1c:"aXRpbDFj","1ic2m0w":"MWljMm0wdw==","128kjk":"MTI4a2pr","10kslj4":"MTBrc2xqNA==",rp5la8:"cnA1bGE4","1r7pm9s":"MXI3cG05cw==","9xvksg":"OXh2a3Nn","19gfls0":"MTlnZmxzMA==",n9c35s:"bjljMzVz","1mrw45c":"MW1ydzQ1Yw==","5i22o0":"NWkyMm8w","150m3nk":"MTUwbTNuaw==",w4z3eo:"dzR6M2Vv","1vnj4e8":"MXZuajRlOA==",edp2ww:"ZWRwMnd3","1dw93wg":"MWR3OTN3Zw==",m5dpmo:"bTVkcG1v","1lnxqm8":"MWxueHFtOA==","4e3p4w":"NGUzcDR3","13wnq4g":"MTN3bnE0Zw==",v10pvk:"djEwcHZr","1ujkqv4":"MXVqa3F2NA==",d9qpds:"ZDlxcGRz","1csaqdc":"MWNzYXFkYw==",ql77r4:"cWw3N3I0","1q3r8qo":"MXEzcjhxbw==","8tx79c":"OHR4Nzlj","18ch88w":"MThjaDg4dw==",zgu800:"emd1ODAw","1yze8zk":"MXl6ZTh6aw==",hpk7i8:"aHBrN2k4","1h848hs":"MWg4NDhocw==",jxgykg:"anhneWtn","1jg0zk0":"MWpnMHprMA==","266y2o":"MjY2eTJv","11oqz28":"MTFvcXoyOA==",st3ytc:"c3QzeXRj","1sbnzsw":"MXNibnpzdw==",b1tybk:"YjF0eWJr","1akdzb4":"MWFrZHpiNA==",odagow:"b2RhZ293","1nvuhog":"MW52dWhvZw==","6m0g74":"Nm0wZzc0","164kh6o":"MTY0a2g2bw==",x8xgxs:"eDh4Z3hz","1wrhhxc":"MXdyaGh4Yw==",fhngg0:"ZmhuZ2cw","1f07hfk":"MWYwN2hmaw==",khg5c0:"a2hnNWMw","1k006bk":"MWswMDZiaw==","2q64u8":"MnE2NHU4","128q5ts":"MTI4cTV0cw==",td35kw:"dGQzNWt3","1svn6kg":"MXN2bjZrZw==",blt534:"Ymx0NTM0","1b4d62o":"MWI0ZDYybw==",ox9ngg:"b3g5bmdn","1oftog0":"MW9mdG9nMA==","75zmyo":"NzV6bXlv","16ojny8":"MTZvam55OA==",xswnpc:"eHN3bnBj","1xbgoow":"MXhiZ29vdw==",g1mn7k:"ZzFtbjdr","1fk6o74":"MWZrNm83NA==",i9je9s:"aTlqZTlz","1hs3f9c":"MWhzM2Y5Yw==",i9ds0:"aTlkczA=","100terk":"MTAwdGVyaw==",r56eio:"cjU2ZWlv","1qnqfi8":"MXFucWZpOA==","9dwe0w":"OWR3ZTB3","18wgf0g":"MTh3Z2YwZw==",mpcwe8:"bXBjd2U4","1m7wxds":"MW03d3hkcw==","4y2vwg":"NHkydndn","14gmww0":"MTRnbXd3MA==",vkzwn4:"dmt6d240","1v3jxmo":"MXYzanhtbw==",dtpw5c:"ZHRwdzVj","1dc9x4w":"MWRjOXg0dw==",lleiv4:"bGxlaXY0","1l3yjuo":"MWwzeWp1bw==","3u4idc":"M3U0aWRj","13cojcw":"MTNjb2pjdw==",uh1j40:"dWgxajQw","1tzlk3k":"MXR6bGszaw==",cprim8:"Y3ByaW04","1c8bjls":"MWM4Ympscw==",q180zk:"cTE4MHpr","1pjs1z4":"MXBqczF6NA==","89y0hs":"ODl5MGhz","17si1hc":"MTdzaTFoYw==",ywv18g:"eXd2MThn","1yff280":"MXlmZjI4MA==",h5l0qo:"aDVsMHFv","1go51q8":"MWdvNTFxOA==",jdhrsw:"amRocnN3","1iw1ssg":"MWl3MXNzZw==","1m7rb4":"MW03cmI0","114rsao":"MTE0cnNhbw==",s94s1s:"czk0czFz","1rrot1c":"MXJyb3QxYw==",ahurk0:"YWh1cmsw","1a0esjk":"MWEwZXNqaw==",ntb9xc:"bnRiOXhj","1nbvaww":"MW5idmF3dw==","6219fk":"NjIxOWZr","15klaf4":"MTVrbGFmNA==",woya68:"d295YTY4","1w7ib5s":"MXc3aWI1cw==",exo9og:"ZXhvOW9n","1eg8ao0":"MWVnOGFvMA==",kmfy0w:"a21meTB3","1k4zz0g":"MWs0enowZw==","2v5xj4":"MnY1eGo0","12dpyio":"MTJkcHlpbw==",ti2y9s:"dGkyeTlz","1t0mz9c":"MXQwbXo5Yw==",bqsxs0:"YnFzeHMw","1b9cyrk":"MWI5Y3lyaw==",p29g5c:"cDI5ZzVj","1okth4w":"MW9rdGg0dw==","7azfnk":"N2F6Zm5r","16tjgn4":"MTZ0amduNA==",xxwge8:"eHh3Z2U4","1xgghds":"MXhnZ2hkcw==",g6mfwg:"ZzZtZndn","1fp6gw0":"MWZwNmd3MA==",iej6yo:"aWVqNnlv","1hx37y8":"MWh4Mzd5OA==",n96gw:"bjk2Z3c=","105t7gg":"MTA1dDdnZw==",ra677k:"cmE2Nzdr","1qsq874":"MXFzcTg3NA==","9iw6ps":"OWl3NnBz","191g7pc":"MTkxZzdwYw==",mucp34:"bXVjcDM0","1mcwq2o":"MW1jd3Eybw==","532olc":"NTMyb2xj","14lmpkw":"MTRsbXBrdw==",vpzpc0:"dnB6cGMw","1v8jqbk":"MXY4anFiaw==",dypou8:"ZHlwb3U4","1dh9pts":"MWRoOXB0cw==",lqebk0:"bHFlYmsw","1l8ycjk":"MWw4eWNqaw==","3z4b28":"M3o0YjI4","13hoc1s":"MTNob2Mxcw==",um1bsw:"dW0xYnN3","1u4lcsg":"MXU0bGNzZw==",curbb4:"Y3VyYmI0","1cdbcao":"MWNkYmNhbw==",q67tog:"cTY3dG9n","1poruo0":"MXBvcnVvMA==","8ext6o":"OGV4dDZv","17xhu68":"MTd4aHU2OA==",z1utxc:"ejF1dHhj","1j11lhc":"MWoxMWxoYw==",amuk8w:"YW11azh3","15pl340":"MTVwbDM0MA==",k2gr9c:"azJncjlj","1sgnshs":"MXNnbnNocw==","6r08w0":"NnIwOHcw","1f57a4g":"MWY1N2E0Zw==",qq70g0:"cXE3MGcw","1lsxjb4":"MWxzeGpiNA==",deqi2o:"ZGVxaTJv","12xp5a8":"MTJ4cDVhOA==",pm8mww:"cG04bXd3","1y0fo5c":"MXkwZm81Yw==","178d8g":"MTc4ZDhn","19lfegw":"MTlsZmVndw==",w9yw3k:"dzl5dzNr","1kezke8":"MWtlemtlOA==",c0sj5s:"YzBzajVz","173j20w":"MTczajIwdw==",ioiscg:"aW9pc2Nn","1r2ptkw":"MXIycHRrdw==","5d29z4":"NWQyOXo0","1dr9b7k":"MWRyOWI3aw==",uw0x6o:"dXcweDZv","1pyrg1s":"MXB5cmcxcw==",hkketc:"aGtrZXRj","11jr6dc":"MTFqcjZkYw==",o8ao00:"bzhhbzAw","1wmhp8g":"MXdtaHA4Zw==","2l6c5c":"Mmw2YzVj","1azddds":"MWF6ZGRkcw==",xnwv0g:"eG53djBn","1hn3mkg":"MWhuM21rZw==","98wlc0":"OTh3bGMw","14bn474":"MTRibjQ3NA==",lgeq68:"bGdlcTY4","1tulreo":"MXR1bHJlbw==","84y7sw":"ODR5N3N3","1gj591c":"MWdqNTkxYw==",s44zcw:"czQ0emN3","1n6vi80":"MW42dmk4MA==",esogzk:"ZXNvZ3pr","12g7uv4":"MTJnN3V2NA==",p4rchs:"cDRyY2hz","1xiydq8":"MXhpeWRxOA==",pr2tc:"cHIydGM=","193y41s":"MTkzeTQxcw==",vshlog:"dnNobG9n","1lbg8w0":"MWxiZzh3MA==",cx97nk:"Y3g5N25r","17zzqio":"MTd6enFpbw==",jkzgu8:"amt6Z3U4","1rz6i2o":"MXJ6Nmkybw==","69iygw":"NjlpeWd3","1enpzpc":"MWVucHpwYw==",t0lnuo:"dDBsbnVv","1o3c6ps":"MW8zYzZwcw==",fp55hc:"ZnA1NWhj",zobx1c:"em9ieDFj",mcveo0:"bWN2ZW8w","1ur2fwg":"MXVyMmZ3Zw==","3hn0n4":"M2huMG40","1bvu1vk":"MWJ2dTF2aw==",ykdji8:"eWtkamk4","1ijkb28":"MWlqa2IyOA==",a5d9ts:"YTVkOXRz","1583sow":"MTU4M3Nvdw==",kyxfr4:"a3l4ZnI0","1td4gzk":"MXRkNGd6aw==","7ngxds":"N25neGRz","1g1nym8":"MWcxbnltOA==",rmnoxs:"cm1ub3hz","1mpe7sw":"MW1wZTdzdw==",eb76kg:"ZWI3Nmtn","13u5ts0":"MTN1NXRzMA==",qipbeo:"cWlwYmVv","1ywwcn4":"MXl3d2NuNA==","23p1q8":"MjNwMXE4","1ahw2yo":"MWFodzJ5bw==",x6fklc:"eDZma2xj","1jxi9z4":"MWp4aTl6NA==",bjb8qo:"YmpiOHFv","16m1rls":"MTZtMXJscw==",i71hxc:"aTcxaHhj","1ql8j5s":"MXFsOGo1cw==","4vkzk0":"NHZremsw","1d9s0sg":"MWQ5czBzZw==",uejmrk:"dWVqbXJr","1pha5mo":"MXBoYTVtbw==",h334e8:"aDMzNGU4","1129vy8":"MTEyOXZ5OA==",nqtdkw:"bnF0ZGt3","1w50etc":"MXc1MGV0Yw==","2so16o":"MnNvMTZv","1b6v2f4":"MWI2djJmNA==",xvek1s:"eHZlazFz","1hulbls":"MWh1bGJscw==","9geadc":"OWdlYWRj","14j4t8g":"MTRqNHQ4Zw==",lnwf7k:"bG53Zjdr",s3cw:"czNjdw==",tpknb4:"dHBrbmI0",auc9a8:"YXVjOWE4",ptqby8:"cHRxYnk4","59bfgg":"NTliZmdn",xk60hs:"eGs2MGhz",eoxmgw:"ZW94bWd3",jypwqo:"anlwd3Fv","3vdgjk":"M3ZkZ2pr",rbf5ds:"cmJmNWRz",b82p6o:"YjgycDZv",nfku0w:"bmZrdTB3","8q6cqo":"OHE2Y3Fv",vh924g:"dmg5MjRn",gadaf4:"Z2FkYWY0",k67ls0:"azY3bHMw","1az7r4":"MWF6N3I0",uzrrpc:"dXpycnBj","9cnfuo":"OWNuZnVv",p10hz4:"cDEwaHo0","65s3y8":"NjVzM3k4",ygmozk:"eWdtb3pr",e7gc1s:"ZTdnYzFz",i3aneo:"aTNhbmVv",sihwcg:"c2lod2Nn",n8pm2o:"bjhwbTJv",wobt34:"d29idDM0",l5snpc:"bDVzbnBj",t7gvsw:"dDdndnN3",q838xs:"cTgzOHhz",y9rh1c:"eTlyaDFj",jadedc:"amFkZWRj",qn2n0g:"cW4ybjBn",o56akg:"bzU2YWtn",vvlz40:"dnZsejQw",l21t6o:"bDIxdDZv",uho074:"dWhvMDc0",oiwqgw:"b2l3cWd3",zcgwe8:"emNnd2U4",ihnke8:"aWhua2U4",rx9reo:"cng5cmVv",mnhh4w:"bW5oaDR3",ws2nls:"d3Mybmxz",lyihog:"bHlpaG9n",tndzi8:"dG5kemk4",prjo5c:"cHJqbzVj",xt7w8w:"eHQ3dzh3",jist1c:"amlzdDFj",rkh14w:"cmtoMTR3",nomps0:"bm9tcHMw",v8tngg:"djh0bmdn",kf9hj4:"a2Y5aGo0",ujuo00:"dWp1bzAw",pa2dq8:"cGEyZHE4"},a={"MWs5enJwYw==":.01,MzA1cTgw:.02,"MTJpcHI3aw==":.03,dG4ycXlv:.04,"MXQ1bXJ5OA==":.05,YnZzcWd3:.06,"MWJlY3JnZw==":.07,cDc5OHU4:.08,"MW9wdDl0cw==":.09,N2Z6OGNn:.1,"MTZ5ajljMA==":.11,eTJ3OTM0:.12,"MXhsZ2Eybw==":.13,Z2JtOGxj:.14,"MWZ1Njlrdw==":.15,aWppem5r:.16,"MWkyMzBuNA==":.17,"czh6NXM=":.18,"MTBhdDA1Yw==":.19,cmY1endn:.2,"MXF4cTB3MA==":.21,OW52emVv:.22,"MTk2ZzBlOA==":.23,bXpjaHMw:.24,"MW1od2lyaw==":.25,NTgyaGE4:.26,"MTRxbWk5cw==":.27,dnV6aTB3:.28,"MXZkamowZw==":.29,ZTNwaGo0:.3,"MWRtOWlpbw==":.31,bHZlNDh3:.32,"MWxkeTU4Zw==":.33,NDQ0M3I0:.34,"MTNtbzRxbw==":.35,dXIxNGhz:.36,"MXU5bDVoYw==":.37,Y3pyNDAw:.38,"MWNpYjR6aw==":.39,cWI3bWRj:.4,"MXB0cm5jdw==":.41,OGp4bHZr:.42,"MTgyaG12NA==":.43,ejZ1bW04:.44,"MXlwZW5scw==":.45,aGZrbTRn:.46,"MWd5NG40MA==":.47,am5oZDZv:.48,"MWo2MWU2OA==":.49,MXc3Y293:.5,"MTFlcmRvZw==":.51,c2o0ZGZr:.52,"MXMxb2VmNA==":.53,YXJ1Y3hz:.54,"MWFhZWR4Yw==":.55,bzNhdmI0:.56,"MW5sdXdhbw==":.57,NmMwdXRj:.58,"MTV1a3Zzdw==":.59,d3l4dmsw:.6,"MXdoaHdqaw==":.61,ZjdudjI4:.62,"MWVxN3cxcw==":.63,azdnank4:.64,"MWpxMGt4cw==":.65,Mmc2amdn:.66,"MTF5cWtnMA==":.67,dDMzazc0:.68,"MXNsbmw2bw==":.69,YmJ0anBj:.7,"MWF1ZGtvdw==":.71,b25hMjJv:.72,"MW81dTMyOA==":.73,NncwMWt3:.74,"MTZlazJrZw==":.75,eGl4MmJr:.76,"MXgxaDNiNA==":.77,ZnJuMXRz:.78,"MWZhNzJ0Yw==":.79,aHpqc3cw:.8,"MWhpM3R2aw==":.81,"ODlzZTg=":.82,enF0dGRz:.83,cXY2dDR3:.84,"MXFkcXU0Zw==":.85,OTN3c240:.86,"MThtZ3Rtbw==":.87,bWZkYjBn:.88,"MWx4eGMwMA==":.89,NG8zYWlv:.9,"MTQ2bmJpOA==":.91,dmIwYjlj:.92,"MXV0a2M4dw==":.93,ZGpxYXJr:.94,"MWQyYWJyNA==":.95,bGJleGhj:.96,"MWt0eXlndw==":.97,M2s0d3pr:.98,"MTMyb3h6NA==":.99,dTcxeHE4:1,"MXRwbHlwcw==":1.01,Y2ZyeDhn:1.02,"MWJ5Ynk4MA==":1.03,cHI4Zmxz:1.04,"MXA5c2dsYw==":1.05,N3p5ZjQw:1.06,"MTdpaWczaw==":1.07,eW12ZnVv:1.08,"MXk1Zmd1OA==":1.09,Z3ZsZmN3:1.1,"MWdlNWdjZw==":1.11,ajNpNmY0:1.12,"MWltMjdlbw==":1.13,MWM4NXhj:1.14,"MTB1czZ3dw==":1.15,cno1Nm8w:1.16,"MXJocDduaw==":1.17,YTd2NjY4:1.18,"MTlxZjc1cw==":1.19,bmpib2pr:1.2,"MW4xdnBqNA==":1.21,NXMxbzFz:1.22,"MTVhbHAxYw==":1.23,d2V5b3Nn:1.24,"MXZ4aXBzMA==":1.25,ZW5vb2Fv:1.26,"MWU2OHBhOA==":1.27,bDFmYzNr:1.28,"MWtqemQzNA==":1.29,M2E1Ymxz:1.3,"MTJzcGNsYw==":1.31,dHgyY2Nn:1.32,"MXRmbWRjMA==":1.33,YzVzYnVv:1.34,"MWJvY2N1OA==":1.35,cGg4dTgw:1.36,"MW96c3Y3aw==":1.37,N3B5dHE4:1.38,"MTc4aXVwcw==":1.39,eWN2dWd3:1.4,"MXh2ZnZnZw==":1.41,Z2xsdHo0:1.42,"MWc0NXV5bw==":1.43,aXRpbDFj:1.44,"MWljMm0wdw==":1.45,MTI4a2pr:1.46,"MTBrc2xqNA==":1.47,cnA1bGE4:1.48,"MXI3cG05cw==":1.49,OXh2a3Nn:1.5,"MTlnZmxzMA==":1.51,bjljMzVz:1.52,"MW1ydzQ1Yw==":1.53,NWkyMm8w:1.54,"MTUwbTNuaw==":1.55,dzR6M2Vv:1.56,"MXZuajRlOA==":1.57,ZWRwMnd3:1.58,"MWR3OTN3Zw==":1.59,bTVkcG1v:1.6,"MWxueHFtOA==":1.61,NGUzcDR3:1.62,"MTN3bnE0Zw==":1.63,djEwcHZr:1.64,"MXVqa3F2NA==":1.65,ZDlxcGRz:1.66,"MWNzYXFkYw==":1.67,cWw3N3I0:1.68,"MXEzcjhxbw==":1.69,OHR4Nzlj:1.7,"MThjaDg4dw==":1.71,emd1ODAw:1.72,"MXl6ZTh6aw==":1.73,aHBrN2k4:1.74,"MWg4NDhocw==":1.75,anhneWtn:1.76,"MWpnMHprMA==":1.77,MjY2eTJv:1.78,"MTFvcXoyOA==":1.79,c3QzeXRj:1.8,"MXNibnpzdw==":1.81,YjF0eWJr:1.82,"MWFrZHpiNA==":1.83,b2RhZ293:1.84,"MW52dWhvZw==":1.85,Nm0wZzc0:1.86,"MTY0a2g2bw==":1.87,eDh4Z3hz:1.88,"MXdyaGh4Yw==":1.89,ZmhuZ2cw:1.9,"MWYwN2hmaw==":1.91,a2hnNWMw:1.92,"MWswMDZiaw==":1.93,MnE2NHU4:1.94,"MTI4cTV0cw==":1.95,dGQzNWt3:1.96,"MXN2bjZrZw==":1.97,Ymx0NTM0:1.98,"MWI0ZDYybw==":1.99,b3g5bmdn:2,"MW9mdG9nMA==":2.01,NzV6bXlv:2.02,"MTZvam55OA==":2.03,eHN3bnBj:2.04,"MXhiZ29vdw==":2.05,ZzFtbjdr:2.06,"MWZrNm83NA==":2.07,aTlqZTlz:2.08,"MWhzM2Y5Yw==":2.09,"aTlkczA=":2.1,"MTAwdGVyaw==":2.11,cjU2ZWlv:2.12,"MXFucWZpOA==":2.13,OWR3ZTB3:2.14,"MTh3Z2YwZw==":2.15,bXBjd2U4:2.16,"MW03d3hkcw==":2.17,NHkydndn:2.18,"MTRnbXd3MA==":2.19,dmt6d240:2.2,"MXYzanhtbw==":2.21,ZHRwdzVj:2.22,"MWRjOXg0dw==":2.23,bGxlaXY0:2.24,"MWwzeWp1bw==":2.25,M3U0aWRj:2.26,"MTNjb2pjdw==":2.27,dWgxajQw:2.28,"MXR6bGszaw==":2.29,Y3ByaW04:2.3,"MWM4Ympscw==":2.31,cTE4MHpr:2.32,"MXBqczF6NA==":2.33,ODl5MGhz:2.34,"MTdzaTFoYw==":2.35,eXd2MThn:2.36,"MXlmZjI4MA==":2.37,aDVsMHFv:2.38,"MWdvNTFxOA==":2.39,amRocnN3:2.4,"MWl3MXNzZw==":2.41,MW03cmI0:2.42,"MTE0cnNhbw==":2.43,czk0czFz:2.44,"MXJyb3QxYw==":2.45,YWh1cmsw:2.46,"MWEwZXNqaw==":2.47,bnRiOXhj:2.48,"MW5idmF3dw==":2.49,NjIxOWZr:2.5,"MTVrbGFmNA==":2.51,d295YTY4:2.52,"MXc3aWI1cw==":2.53,ZXhvOW9n:2.54,"MWVnOGFvMA==":2.55,a21meTB3:2.56,"MWs0enowZw==":2.57,MnY1eGo0:2.58,"MTJkcHlpbw==":2.59,dGkyeTlz:2.6,"MXQwbXo5Yw==":2.61,YnFzeHMw:2.62,"MWI5Y3lyaw==":2.63,cDI5ZzVj:2.64,"MW9rdGg0dw==":2.65,N2F6Zm5r:2.66,"MTZ0amduNA==":2.67,eHh3Z2U4:2.68,"MXhnZ2hkcw==":2.69,ZzZtZndn:2.7,"MWZwNmd3MA==":2.71,aWVqNnlv:2.72,"MWh4Mzd5OA==":2.73,"bjk2Z3c=":2.74,"MTA1dDdnZw==":2.75,cmE2Nzdr:2.76,"MXFzcTg3NA==":2.77,OWl3NnBz:2.78,"MTkxZzdwYw==":2.79,bXVjcDM0:2.8,"MW1jd3Eybw==":2.81,NTMyb2xj:2.82,"MTRsbXBrdw==":2.83,dnB6cGMw:2.84,"MXY4anFiaw==":2.85,ZHlwb3U4:2.86,"MWRoOXB0cw==":2.87,bHFlYmsw:2.88,"MWw4eWNqaw==":2.89,M3o0YjI4:2.9,"MTNob2Mxcw==":2.91,dW0xYnN3:2.92,"MXU0bGNzZw==":2.93,Y3VyYmI0:2.94,"MWNkYmNhbw==":2.95,cTY3dG9n:2.96,"MXBvcnVvMA==":2.97,OGV4dDZv:2.98,"MTd4aHU2OA==":2.99,ejF1dHhj:3,"MWoxMWxoYw==":3.05,YW11azh3:3.1,"MTVwbDM0MA==":3.15,azJncjlj:3.2,"MXNnbnNocw==":3.25,NnIwOHcw:3.3,"MWY1N2E0Zw==":3.35,cXE3MGcw:3.4,"MWxzeGpiNA==":3.45,ZGVxaTJv:3.5,"MTJ4cDVhOA==":3.55,cG04bXd3:3.6,"MXkwZm81Yw==":3.65,MTc4ZDhn:3.7,"MTlsZmVndw==":3.75,dzl5dzNr:3.8,"MWtlemtlOA==":3.85,YzBzajVz:3.9,"MTczajIwdw==":3.95,aW9pc2Nn:4,"MXIycHRrdw==":4.05,NWQyOXo0:4.1,"MWRyOWI3aw==":4.15,dXcweDZv:4.2,"MXB5cmcxcw==":4.25,aGtrZXRj:4.3,"MTFqcjZkYw==":4.35,bzhhbzAw:4.4,"MXdtaHA4Zw==":4.45,Mmw2YzVj:4.5,"MWF6ZGRkcw==":4.55,eG53djBn:4.6,"MWhuM21rZw==":4.65,OTh3bGMw:4.7,"MTRibjQ3NA==":4.75,bGdlcTY4:4.8,"MXR1bHJlbw==":4.85,ODR5N3N3:4.9,"MWdqNTkxYw==":4.95,czQ0emN3:5,"MW42dmk4MA==":5.05,ZXNvZ3pr:5.1,"MTJnN3V2NA==":5.15,cDRyY2hz:5.2,"MXhpeWRxOA==":5.25,"cHIydGM=":5.3,"MTkzeTQxcw==":5.35,dnNobG9n:5.4,"MWxiZzh3MA==":5.45,Y3g5N25r:5.5,"MTd6enFpbw==":5.55,amt6Z3U4:5.6,"MXJ6Nmkybw==":5.65,NjlpeWd3:5.7,"MWVucHpwYw==":5.75,dDBsbnVv:5.8,"MW8zYzZwcw==":5.85,ZnA1NWhj:5.9,em9ieDFj:5.95,bWN2ZW8w:6,"MXVyMmZ3Zw==":6.05,M2huMG40:6.1,"MWJ2dTF2aw==":6.15,eWtkamk4:6.2,"MWlqa2IyOA==":6.25,YTVkOXRz:6.3,"MTU4M3Nvdw==":6.35,a3l4ZnI0:6.4,"MXRkNGd6aw==":6.45,N25neGRz:6.5,"MWcxbnltOA==":6.55,cm1ub3hz:6.6,"MW1wZTdzdw==":6.65,ZWI3Nmtn:6.7,"MTN1NXRzMA==":6.75,cWlwYmVv:6.8,"MXl3d2NuNA==":6.85,MjNwMXE4:6.9,"MWFodzJ5bw==":6.95,eDZma2xj:7,"MWp4aTl6NA==":7.05,YmpiOHFv:7.1,"MTZtMXJscw==":7.15,aTcxaHhj:7.2,"MXFsOGo1cw==":7.25,NHZremsw:7.3,"MWQ5czBzZw==":7.35,dWVqbXJr:7.4,"MXBoYTVtbw==":7.45,aDMzNGU4:7.5,"MTEyOXZ5OA==":7.55,bnF0ZGt3:7.6,"MXc1MGV0Yw==":7.65,MnNvMTZv:7.7,"MWI2djJmNA==":7.75,eHZlazFz:7.8,"MWh1bGJscw==":7.85,OWdlYWRj:7.9,"MTRqNHQ4Zw==":7.95,bG53Zjdr:8,"czNjdw==":8.5,dHBrbmI0:9,YXVjOWE4:9.5,cHRxYnk4:10,NTliZmdn:10.5,eGs2MGhz:11,ZW94bWd3:11.5,anlwd3Fv:12,M3ZkZ2pr:12.5,cmJmNWRz:13,YjgycDZv:13.5,bmZrdTB3:14,OHE2Y3Fv:14.5,dmg5MjRn:15,Z2FkYWY0:15.5,azY3bHMw:16,MWF6N3I0:16.5,dXpycnBj:17,OWNuZnVv:17.5,cDEwaHo0:18,NjVzM3k4:18.5,eWdtb3pr:19,ZTdnYzFz:19.5,aTNhbmVv:20,c2lod2Nn:21,bjhwbTJv:22,d29idDM0:23,bDVzbnBj:24,dDdndnN3:25,cTgzOHhz:26,eTlyaDFj:27,amFkZWRj:28,cW4ybjBn:29,bzU2YWtn:30,dnZsejQw:31,bDIxdDZv:32,dWhvMDc0:33,b2l3cWd3:34,emNnd2U4:35,aWhua2U4:36,cng5cmVv:37,bW5oaDR3:38,d3Mybmxz:39,bHlpaG9n:40,dG5kemk4:41,cHJqbzVj:42,eHQ3dzh3:43,amlzdDFj:44,cmtoMTR3:45,bm9tcHMw:46,djh0bmdn:47,a2Y5aGo0:48,dWp1bzAw:49,cGEyZHE4:50},d=e=>{const t=document.cookie.match(`(^|[^;]+)\\s*${e}\\s*=\\s*([^;]+)`);return t?t.pop():""},l=e=>{e=e.replace(/[\[\]]/g,"\\$&");const t=window.location.href,i=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return!!i&&(i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"")},c=()=>{const e={};return window.location.search.replace(/^\?/,"").split("&").forEach((t=>{const i=t.split("="),n=i[0],o=i[1];e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o})),e},p=e=>{if(window.ramp.forcePath)return window.ramp.forcePath;const t=[];for(let i=0;i<e.config.units.length;i++){const n=e.config.units[i].path??e.config.units[i].section,o=n.substr(3,n.length-4);-1===t.indexOf(o)&&n.indexOf("CP[/")>-1&&0===window.location.pathname.indexOf(o)&&t.push(o)}return t.length>0?t.reduce(((e,t)=>e.length>t.length?e:t)):null},g=()=>{try{return window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video}catch(e){return!1}},u=()=>{try{const e=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video.advertising.servers,t=location.hostname.replace("www.","");let i=!1,o=!1;const s=Object.keys(e);for(let n=0;n<s.length;n++){const r=s[n];if(!0===i)break;if(r.includes("generic-"))continue;const a=e[r].tags,d=Object.keys(a);for(let e=0;e<d.length;e++){const n=d[e];if(t===n){o=a[n],i=!0;break}}}if(o){const e=(0,n.Pf)();if(void 0!==typeof o.headerBidding&&o.headerBidding&&o.headerBidding[e]){const t={...o};return t.headerBidding=t.headerBidding[e],t}}return!1}catch(e){return!1}},w=()=>{try{return window.ramp.settings.config}catch(e){return!1}},m=async(e,t)=>{if(["SHA-1","SHA-256"].includes(t.toUpperCase())){const i=(new TextEncoder).encode(e),n=await crypto.subtle.digest(t,i);return{hashHex:Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join(""),hashBase64:btoa(String.fromCharCode.apply(null,new Uint8Array(n)))}}},h=e=>s()(e),f=()=>{let e;if(window.__pwpbjs__&&"function"==typeof window.__pwpbjs__.getUserIdsAsEids){e=window.__pwpbjs__?.getUserIdsAsEids();const t=[];return e.forEach((e=>{e.uids&&e.uids.length>0&&e.uids[0].id&&t.push(e.source)})),t}},y=e=>{const t=Array.isArray(e)?[]:{},i=Object.keys(e);for(let n=0;n<i.length;n++){const o=i[n],s=e[o];t[o]=s&&"object"==typeof s?y(s):s}return t},b=()=>window.ramp.settings?.config?.settings?.tpg_enabled&&window.ramp.settings?.config?.tpg_network,_=e=>{e=(e=e.replace("o_","")).replace("v_","");return a[r[e]]}},1106:function(){Object.values||(Object.values=e=>{const t=Object.keys(e);let i=t.length;const n=new Array(i);for(;i--;)n[i]=e[t[i]];return n}),Object.entries||(Object.entries=e=>{const t=Object.keys(e);let i=t.length;const n=new Array(i);for(;i--;)n[i]=[t[i],e[t[i]]];return n}),String.prototype.includes||(String.prototype.includes=(e,t)=>(e instanceof RegExp&&console.error("first argument must not be a RegExp"),void 0===t&&(t=0),-1!==this.indexOf(e,t)))},3070:(e,t,i)=>{"use strict";i.d(t,{HF:()=>n,zj:()=>o});const n=(e,t)=>{const i=document.createElement("script");i.innerHTML=`\n        (function () {\n            var _pw_${t}_xhr = new XMLHttpRequest();\n            _pw_${t}_xhr.onreadystatechange = () => {\n                if (_pw_${t}_xhr.readyState === 4) {\n                    if (_pw_${t}_xhr.status === 200) {\n                        window.PageOS.BUS.emit('${t}', _pw_${t}_xhr.responseText);\n                    } else {\n                        window.PageOS.BUS.emit('${t}', null);\n                    }\n                }\n            };\n            _pw_${t}_xhr.open('GET', '${e}', true);\n            _pw_${t}_xhr.send();\n        })();\n    `,document.body.appendChild(i)},o=(e,t)=>{const i=[],n=(e=(new DOMParser).parseFromString(e,"text/xml")).getElementsByTagName("item"),o=t.imageSelector,r=t.titleSelector?t.titleSelector:"<title>",a=t.linkSelector?t.linkSelector:"<link>";if(!n||0===n.length)return;const d=/<(.*?)>/g,l=/\[(.*?)\]/g,c=o.match(d),p=o.match(l),g=r.match(d),u=r.match(l),w=a.match(d),m=a.match(l);if(c&&g&&w){for(let e=0;e<n.length;e++){const o=n[e];let r=s(c,p,o);if(Array.isArray(window.ramp.RSS_IMAGES)&&window.ramp.RSS_IMAGES.length>0&&(r=window.ramp.RSS_IMAGES[e]),Array.isArray(t.imageUrls)&&t.imageUrls[e]&&(r=t.imageUrls[e]),!r)continue;const a=s(g,u,o);if(!a)continue;const d=s(w,m,o);if(!d)continue;const l={title:a,url:d,thumbnail:r};i.push(l)}return i}},s=(e,t,i)=>{let n=null;const o=new DOMParser;return e.forEach((e=>{const t=e.slice(1,e.length-1);i&&((i=i.getElementsByTagName(t)[0])&&0===i.innerHTML.trim().indexOf("<![CDATA")||i&&0===i.innerHTML.trim().indexOf("&"))&&(i=o.parseFromString(i.textContent,"text/html"))})),n=i?t&&t[0]?i.getAttribute(t[0].slice(1,t[0].length-1)):i.textContent:null,n}},5134:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(8125),o=i(5772),s=i(6624),r=i(9239);const a=e=>{const t=Object.keys(window.ramp.settings.slots);for(let i=0;i<t.length;i++){const n=t[i],o=window.ramp.settings.slots[n];if(o.slot===e)return o}const i=e.getSlotElementId(),n=window.ramp.settings.slots[i];if(n)return n};function d(e){if(window.ramp.settings.roadblockActive)return void window.PageOS.BUS.on("roadblock:removed",(()=>{d(e)}));e=Array.isArray(e)?e:[e],C(e),P(e),window.ramp.settings.onlyHBSlots=[];const t=[];for(let i=0;i<e.length;i++){const n=e[i];if(!n)continue;const s=a(n);if(!s)continue;"flex"===s.type&&l();const{skipGAM:d,disableGamFrequency:c}=(0,o.AV)(s);s.gamSkipped=d,d?(r.E$.info(`[${s.id}] Requests to GAM is disabled for this slot ${c?"(by frequency)":""}`),window.ramp.settings.onlyHBSlots.push(n)):t.push(n)}window.ramp.settings.onlyHBSlots.length>0&&h(window.ramp.settings.onlyHBSlots);let i={},n={};(0,s.Fz)()&&(k(e),_(e,i,!0),b(n,!0)),window.googletag?.pubads()?.refresh&&window.googletag.pubads().refresh(t),(0,s.Fz)()&&(_(e,i,!1),b(n,!1))}const l=()=>{const e=window.top;window.ramp.flexUnitServed=!1,c(e),p(e),g(e)},c=e=>{const t=e.document.querySelector("#bgdiv");t&&t.remove();const i=e.document.querySelector("body");["flex-skin-active","flex-skin-docked","flex-leaderboard-active","flex-leaderboard-docked"].forEach((e=>{i.classList.remove(e)}))},p=e=>{const t=e.document.querySelector("#pw-oop-flex_container");t&&t.removeAttribute("style");const i=e.document.querySelector("div.notranslate iframe");if(i){debug.info("Flex CeltraIframe found, dismissing"),i.contentWindow.postMessage("dismissCeltraAd","*");const n=window.ramp.settings.slots["pw-oop-flex"];if(!n)return;const o=n.element,s={childList:!0,subtree:!0};new MutationObserver(((i,o)=>{for(let o=0;o<i.length;o++){const s=i[o];if("childList"===s.type&&s.removedNodes.length>0){if(!e.document.querySelector("#pw-oop-flex")){debug.info("pw-oop-flex element not found, creating it ");const e=document.createElement("div");e.id="pw-oop-flex",e.classList.add("pw-tag"),t.appendChild(e),n.element=e}}}})).observe(o,s)}},g=e=>{e.document.body.removeAttribute("style");["[jpx-object-id]","style.jpx-product-styles",'div[class*="jpx"]'].forEach((t=>{e.document.querySelectorAll(t).forEach((e=>{e.remove()}))}));["jpx_ad_config","jpx_template_id","jp_creative_vars","jpCreativeVars","_jpx_loaded","jPAM","Jpa","Jpx","Jcl"].forEach((t=>{void 0!==e[t]&&delete e[t]}))},u=e=>{const t=window.__pwpbjs__.getHighestCpmBids(e);return!(!t||!t.length)&&t},w=e=>{const t=window.ramp.settings.amazonSlots.find((t=>t.slotID===e));if(t){if((t.bidResponse?.amzniid??!1)&&t.bidResponse?.amznbid){t.bidResponse.obfuscatedAmznbid=t.bidResponse.obfuscatedAmznbid||t.bidResponse.amznbid,t.bidResponse.amznbid=(0,s.W2)(t.bidResponse.obfuscatedAmznbid||t.bidResponse.amznbid);const e=t.bidResponse;return e.hasBid=!0,e}}return!1},m=(e,t)=>{if(!e&&!t)return!1;const i=!!e[0]&&parseFloat(e[0].cpm),n=!!t&&parseFloat(t.amznbid);switch(!0){case!i&&n&&n>0:case i&&n&&n>i:return"amazon";case!n&&i&&i>0:case i&&n&&i>=n:return"prebid";default:return!1}},h=e=>{for(let t=0;t<e.length;t++){const i=e[t],o=i.getSlotElementId(),s=i.getAdUnitPath(),a=u(o),d=w(o),l=m(a,d)||!1;if(!l){(0,n.nV)(o,l,{});continue}const c=window.ramp.settings.slots[o].element,p=`pw_ads_iframe_${l}_${o}_${s}`;y(c,p,o,l);const g=document.getElementById(p).contentWindow.document;c.classList.contains("pw-in-article_hidden")&&(c.classList.remove("pw-in-article_hidden"),c.classList.add("pw-in-article")),r.E$.info(`[${o}] Requesting ad using ${l}`),(0,n.dM)(window.ramp.settings.slots[o]),"prebid"===l?window.__pwpbjs__.renderAd(g,a[0].adId):"amazon"===l&&f(o,l,d,g),r.E$.info(`[${o}] Rendered using ${l}`)}},f=(e,t,i,o)=>{"video"===i.mediaType?window.ramp.renderAmzOutstream(e,i.amzniid,i.obfuscatedAmznbid):window.PageOS.apstag.renderImp(o,i.amzniid).then((o=>{o===i.amzniid&&(0,n.nV)(e,t,i)}))},y=(e,t,i,o)=>{const s=document.createElement("iframe");if(s.id=t,s.setAttribute("frameborder","0"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("scrolling","no"),s.setAttribute("marginheight","0"),s.setAttribute("marginwidth","0"),s.setAttribute("topmargin","0"),s.setAttribute("leftmargin","0"),e.innerHTML="",e.appendChild(s),"prebid"===o&&(s.setAttribute("src",""),s.addEventListener("load",(()=>{(0,n.qj)(window.ramp.settings.slots[i]);(0,n.rI)(i).observe(s)}))),"amazon"===o){const e=setInterval((()=>{const t=s.contentWindow.document.querySelectorAll("iframe");t.length>0&&t.forEach((t=>{if(t.src.includes("amazon-adsystem.com")){(0,n.qj)(window.ramp.settings.slots[i]);(0,n.rI)(i).observe(s),clearInterval(e)}}))}),10);setTimeout((()=>{clearInterval(e)}),8e3)}},b=(e,t)=>{let i,n;(t?window.googletag.pubads().getTargetingKeys():Object.keys(e)).forEach((o=>{n=t?window.googletag.pubads().getTargeting(o):e[o],t&&(e[o]=n);const s=v(o);i=s?S(o):A(o),window.googletag.pubads().setTargeting(t?i:o,n),window.googletag.pubads().clearTargeting(t?o:i)}))},_=(e,t,i)=>{let n,o;e.forEach((e=>{o=e.getSlotElementId();const s=i?e.getTargetingKeys():Object.keys(t[o]);i&&(t[o]={}),s.forEach((s=>{const r=i?e.getTargeting(s):t[o][s];i&&(t[o][s]=e.getTargeting(s)),n=A(s),e.setTargeting(i?n:s,r),e.clearTargeting(i?s:n)}))}))},v=e=>e.startsWith("pw_custom_"),S=e=>e.replace("pw_custom_",""),A=e=>{let t=`pw_${e}`;return t.length>20&&(t=t.slice(0,20)),t},k=e=>{e.forEach((e=>{e.getTargetingKeys().forEach((t=>{if("price_floor"===t){const i=E(e.getTargeting(t));e.setTargeting(t,i)}}))}))},E=e=>{const t=parseFloat(e);if("number"!=typeof t||isNaN(t))return e;let i;switch(!0){case t>=8:i=8;break;case t>=4:i=4;break;case t>=3.5:i=3.5;break;default:i=Math.round(10*t)/10}return i.toFixed(2)},I=e=>{const t=window.ramp?.settings.config.hbParams;return t&&t[e]&&!0===t[e].publisher_demand},P=e=>{for(let t=0;t<e.length;t++){if(!e[t])return;I(e[t].getTargeting("hb_bidder"))?e[t].setTargeting("publisher_demand","true"):e[t].getTargeting("publisher_demand").length&&e[t].clearTargeting("publisher_demand")}},O=e=>Object.keys(window.ramp.settings.slots).filter((t=>window.ramp.settings.slots[t].type===e.type)).sort(((e,t)=>e-t)).indexOf(e.id)+1,x=(e,t)=>{const i=e.config.path??e.config.section;return"ROS"===i?t.ros||t.ROS:"HP"===i?t.hp||t.HP:t[i]},C=e=>{const t=window.ramp.adSlotTagging||window.PageOS.adSlotTagging;if(t)for(let i=0;i<e.length;i++){let n=null;const o=e[i].getSlotElementId(),s=window.ramp.settings.slots[o];if(!s)continue;const r=O(s),a=x(s,t);if(!a)continue;const d=a[s.config.code];d&&("object"==typeof d&&d[r]?n=d[r]:"string"!=typeof d&&"number"!=typeof d||(n=d)),n&&e[i].setTargeting("position",`${encodeURIComponent(n)}`)}}},5591:(e,t,i)=>{"use strict";i.d(t,{F:()=>o});const n=new WeakMap;function o(e,t,i){e||console.warn("Cannot load script without URL"),i||(i=document);const o=s(i,e);if(o)return t&&"function"==typeof t&&(o.loaded?t():o.callbacks.push(t)),o.tag;const r=n.get(i)||{},a={loaded:!1,tag:null,callbacks:[]};return r[e]=a,n.set(i,r),t&&"function"==typeof t&&a.callbacks.push(t),function(e,t,i){i||(i=document);const n=i.createElement("script");n.type="text/javascript",n.async=!0;const o=s(i,e);o&&(o.tag=n);n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()};return n.src=e,function(e,t,i){let n;t=t||document,n=t.getElementsByTagName("head");try{if(n=n.length?n:t.getElementsByTagName("body"),n.length){n=n[0];const t=i?null:n.firstChild;return n.insertBefore(e,t)}}catch(e){console.error("Cannot insert element",e)}}(n,i),n}(e,(()=>{a.loaded=!0;try{for(let e=0;e<a.callbacks.length;e++)a.callbacks[e]()}catch(e){console.error("Error happened during requesting script",e)}}),i)}function s(e,t){const i=n.get(e);return i&&i[t]?i[t]:null}},912:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>p,cy:()=>g,ev:()=>w,hk:()=>u});var n=i(5988),o=i(1697),s=i(5772),r=i(8900),a=i(9239),d=i(8125),l=i(6288);const c=e=>{const t=e.slot.getTargetingMap();return t.slot_id?t.slot_id[0]:null};function p(e,t,i,l){const p=window.ramp.settings;window.googletag.cmd.push((()=>{(0,s.aE)("time_to_load_dfp",e),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices();const m=window.ramp.privacy,h=m?.flags;!0!==h?.rdp&&!1!==m?.advertisementCookiesEnabled||window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),!0!==h?.npa&&!1!==m?.advertisementCookiesEnabled||window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0}),!0===h?.tfua&&window.googletag.pubads().setPrivacySettings({underAgeOfConsent:!0}),(void 0===h?.tfcd&&!0===p.isCoppa||!0===h?.tfcd)&&window.googletag.pubads().setPrivacySettings({childDirectedTreatment:!0}),window.googletag.pubads().addEventListener("slotOnload",(e=>{const t=c(e);if(!t)return;const i=window.ramp.settings.slots[t];i&&(w(i),(0,n.A)(e))}));let f=!1,y=!1;window.document.body.addEventListener("gumgum-inscreen-load",(()=>{f=!0,window.PageOS.BUS.emit("gumgumAdHeight",window.GUMGUM?.isad?.data?.height||0)})),window.document.body.addEventListener("gumgum-inscreen-close",(()=>{y=!0,f=!1})),window.googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{const t=c(e);t&&("pw-oop-bottom_rail"===t&&(y||f)?((0,r.XV)(t,100),y=!1,f=!1):(0,r.XV)(t,e.inViewPercentage))})),window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{const n={...e};delete n.slot;const s=c(e);if(!s)return;(0,o.h)({e,adRequestStart:t,tycheStartTime:i});const r=p.slots[s];if(!r)return;const a=r.size?r.size.join("x"):null;g(e,s,a,r,n),r.pbjsRefreshes>=0&&r.pbjsRefreshes++})),window.googletag.pubads().addEventListener("slotRequested",(e=>{const t=e.slot.getSlotElementId(),i=window.ramp.settings.slots[t];u(i,e)})),window.googletag.pubads().addEventListener("impressionViewable",(e=>{a.HU.info("Slot Impression Viewable"),window.ramp.settings.slots.web_interstitial&&e.slot===window.ramp.settings.slots.web_interstitial.slot&&a.HU.info("Web Interstitial Slot Viewable",{slot:"web_interstitial"})})),window.googletag.pubads().addEventListener("rewardedSlotGranted",(()=>{window.PageOS.BUS.after("grvSlotRenderEndedData",(e=>{window.PageOS.dataStream.handleEvent("displayAdImpression",{slotId:e?.slotId,impressionData:e?.impressionData,amznBid:e?.amznBid,size:e?.size,targeting:e?.targeting,slotData:e?.slotData})}))}),{once:!0}),(0,d.Ay)(t,i),p.dfpReady=!0,a.Ay.debug("DFP Configured"),l&&l()}))}const g=(e,t,i,n,o)=>{a.HU.info("Slot Response: "+(e.isEmpty?"Fail":"Success")),a.HU.info("Slot Render End",{slot:t,data:o}),n.targeting||(n.targeting={...(0,l.TM)(),...(0,l.A6)(n.slot)}),e.isEmpty||window.performance?.mark("slotCreativeCodeInserted",{detail:{source:"pw_page_analytics_events",type:"slotCreativeCodeInserted",ad_details:{unit_type:n.type,slot_id:n.id,refresh_count:n.refreshes,size_delivered:e.size}}});const r={slotId:t,impressionData:n.pbjsBid,amznBid:n.amazonBid,size:i,targeting:n.targeting,slotData:o};if("rewarded_ad_video"===n.type)window.PageOS.BUS.emit("grvSlotRenderEndedData",r);else if("web_interstitial"===t)if(e.isEmpty){const e=localStorage.getItem("pw_last_interstitial_imp_event");e&&!(0,s.De)(parseInt(e,10))||(window.PageOS.dataStream.handleEvent("displayAdImpression",r),localStorage.setItem("pw_last_interstitial_imp_event",Date.now()))}else window.PageOS.BUS.emit("webInterstitialSloRenderEndedData",r);else window.PageOS.dataStream.handleEvent("displayAdImpression",r)},u=(e,t)=>{let i,n,o;if(console.log(t),t?(o=(0,l.A6)(t.slot),i=t.slot.getSlotElementId(),n="function"==typeof t.slot.getSizes?t.slot.getSizes():null):(o=e.slot?(0,l.A6)(e.slot):{},i=e.id,n=e.slot&&e.slot.getSizes()?e.slot.getSizes():null),e){e.adFetchCount=e.adFetchCount+1,e.pbjsBid=null,e.amazonBid={hasBid:!1},e.amazonMediaType="",a.HU.info("Slot Request");const t={slot:i,slotTargeting:o,pageTargeting:(0,l.TM)()};a.HU.info("Slot Request for",t),e.targeting={...t.pageTargeting,...t.slotTargeting},window.performance?.mark("slotAdRequestStart",{detail:{source:"pw_page_analytics_events",type:"slotAdRequestStart",ad_details:{unit_type:e.type,slot_id:e.id,refresh_count:e.refreshes,size_requested:n}}})}e&&"pw-oop-bottom_rail"===e.id&&e.adFetchCount>1&&window.GUMGUM&&window.GUMGUM.isad&&window.GUMGUM.removeISAd()},w=e=>{(e=>{const t=e.id;try{if(e.element.firstChild.id){const i=window.top.document.getElementById(e.element.firstChild.id)&&window.top.document.getElementById(e.element.firstChild.id).firstChild.contentWindow.document;i&&(i.getElementById("common_15click_overlay")||i.getElementById("common_15click_anchor"))&&(a.Ay.info(`Detected Click Confirmed: ${t}`),window.PageOS.dataStream.handleEvent("clickConfirmed",t))}}catch(e){a.Ay.info(`Error ${t} Detecting Google Confirmed Click:  + ${e}`)}})(e),window.performance?.mark("slotCreativeCodeLoaded",{detail:{source:"pw_page_analytics_events",type:"slotCreativeCodeLoaded",ad_details:{unit_type:e.type,slot_id:e.id,refresh_count:e.refreshes}}})}},6396:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(8900);let o="50px";try{o=window.ramp.isMobile?"0px 0px 50px 0px":"0px 0px 100px 0px"}catch(e){}const s=new IntersectionObserver((e=>{e.forEach((e=>{const t=Math.floor(100*e.intersectionRatio);window.ramp.settings.slots[e.target.id]&&(0!==t||document.getElementById(e.target.id)||s.unobserve(e.target),(0,n.XV)(e.target.id,0===t?0:50))}))}),{rootMargin:o,threshold:[0]}),r=s},2876:(e,t,i)=>{"use strict";i.d(t,{yR:()=>h,Tz:()=>f});var n=i(9239),o=i(6238),s=i(1811),r=i(5919),a=i(5772);var d=i(1447),l=i(449),c=i(8662),p=i(3525),g=i(653),u=i(6405);var w=i(5134);const m=(e,t,i,l)=>{window.PageOS.tyche.findUnitsBySection(t).then((()=>{!window.ramp.passiveMode&&(window.PageOS.tyche.createVideoUnit("trendi_video"),window.ramp.settings.slots.trendi_video||(window.PageOS.tyche.createVideoUnit("trendi_slideshow"),window.ramp.settings.slots.trendi_slideshow)),n.Ay.info("Path Changed: Units Updated",e.units);const t=e.isMobile?"mobi":"desk";return e.tags=(0,r.VS)(t),n.Ay.info("Path Changed. Tags Found",e.tags),(0,r.nk)()})).then((()=>(n.Ay.info("Path Changed: Slots Updated",e.slots),(0,o.Ay)()))).then((t=>{const n=(0,a.v9)();(0,d.Ay)("in_content"),(0,d.Ay)("sidebar"),(0,d.Ay)("sticky_sidebar"),(0,d.Ay)("corner_ad_video"),(0,d.Ay)("precontent_ad_video"),(0,d.Ay)("rewarded_ad_video");const o=[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros].find((e=>"relevant_article"===e.unit));if(o){new s.A(o).init()}window.googletag.pubads().setTargeting("sitecont_cat",(0,a.iG)(e.config.settings)),n.utm_source&&window.googletag.pubads().setTargeting("utm_source",n.utm_source),n.utm_medium&&window.googletag.pubads().setTargeting("utm_medium",n.utm_medium),n.utm_campaign&&window.googletag.pubads().setTargeting("utm_campaign",n.utm_campaign),n.utm_template&&window.googletag.pubads().setTargeting("utm_template",n.utm_template),n.utm_content&&window.googletag.pubads().setTargeting("utm_content",n.utm_content),n.utm_referrer&&window.googletag.pubads().setTargeting("utm_referrer",n.utm_referrer),n.utm_subid&&window.googletag.pubads().setTargeting("utm_subid",n.utm_subid),n.utm_term&&window.googletag.pubads().setTargeting("utm_term",n.utm_term),t&&(0,a.mq)(t),e.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(Object.keys(e.slots)),e.hasFocus&&window.googletag.cmd.push((()=>{(e=>{const t=[],i=Object.keys(e.slots);for(let n=0;n<i.length;n++){const o=i[n];void 0===e.slots[o].videoType&&!1===e.slots[o].lazy&&!1===e.slots[o].queued&&"int"!==e.slots[o].pos&&(e.slots[o].oop&&e.slots[o].slot.setTargeting("in_view","true"),t.push(e.slots[o].slot))}(0,w.A)(t)})(e)})),i()})).catch((e=>{n.Ay.error("Change Path promise error:",e),l(e)}))},h=e=>{const t=window.ramp.settings;return new Promise(((i,n)=>{if(!e)return void n("No Path Specified");if(t.cp===e)return void n("Path provided is same as current path.");t.cp=e,t.atHome=!1,"/"===e&&(t.atHome=!0,t.cp=null),(0,l.A)(),(0,c.destroySidebar)(),(0,p.destroyStickySidebar)(),t.selectorBasedAdUnits&&(()=>{for(let e=0;e<u.kk.length;e++){const t=u.kk[e];(0,g.e)(`${t}_atf`),(0,g.e)(`${t}_btf`)}const e=Object.keys(window.ramp.settings.slots);for(let t=0;t<e.length;t++){const i=e[t],n=window.ramp.settings.slots[i];u.kk.includes(n.type)&&f(n)}})();const o=Object.keys(t.slots);for(let e=0;e<o.length;e++){const i=o[e];"precontent_ad_video"!==i&&(void 0===t.slots[i].videoType?("flex_leaderboard"!==t.slots[i].type&&"flex"!==t.slots[i].type||t.slots[i].element.parentElement.remove(),f(t.slots[i])):(t.slots[i].destroyUnit&&t.slots[i].destroyUnit(),"function"==typeof window.ramp.closeInterstitial&&window.ramp.closeInterstitial()))}t.tagsProcessed=!1,m(t,e,i,n)}))},f=e=>{e&&(e.refreshTimeout&&clearTimeout(e.refreshTimeout),e.auctionTimeout&&clearTimeout(e.auctionTimeout),n.Ay.info("Destroying Slot",e),window.googletag.cmd.push((()=>{(e=>{const t=window.ramp.settings;if(e.slot&&window.googletag.destroySlots([e.slot]),t.amazonSlots=t.amazonSlots.filter((t=>t.slotID!==e.id)),t.hbEnabled&&window[window.ramp.pbKey].removeAdUnit(e.id),e.adContainerElement&&e.adContainerElement.remove(),e.oop||t.selectorBasedAdUnits&&u.kk.includes(e.type))e.element.remove();else{const t=document.getElementById(e.id);t&&(t.removeAttribute("class"),t.removeAttribute("id"))}delete t.slots[e.id]})(e)})))}},2326:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});const n=(e,t,i)=>window.PageOS.tyche.checkRules(e,t,i)},8804:(e,t,i)=>{"use strict";i.d(t,{$E:()=>y,P3:()=>m,R:()=>f});var n=i(5772),o=i(5664),s=i(2140),r=i(2326),a=i(9239),d=i(2344),l=i(8900),c=i(653),p=i(5919),g=i(5134),u=i(884),w=i(1971);const m=(e,t,i,n=!1,o=!1,s=void 0)=>new Promise((r=>h(e,t,i,r,n,o,s))),h=(e,t,i,s,g=!1,m=!1,h=void 0)=>{e.id&&e.removeAttribute("id");const f=!1!==g;if(f&&(!g.rules||!g.config||g.rules&&void 0===g.rules.locationSelector))return"function"==typeof s?s(!1):void 0;const y=window.ramp.settings;let b,_,v,S,A=g?g.config:void 0,k=g?g.rules:void 0,E={},I=null,P=[];if(f){if(!(h=h||document.querySelector(k.locationSelector)))return s(!1);for(let e=0;e<h.childNodes.length;e++){const t=h.childNodes[e];if(t.classList?.contains("pw-tag"))return s(!1)}e.startsWith("standard_iab")?_=(0,c.A)(`${e}`):(b=(0,l.Sp)(h)>70?"atf":"btf",_=(0,c.A)(`${e}_${b}`)),v=e}else b=t?"oop":(0,p.Ot)(e),_=t?`pw-oop-${e}`:(e=>e.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`).toLowerCase())(e),v=t?e:(0,p.aM)(e);const O=v&&v.startsWith("standard_iab");_=_.replace("sky","160x600"),_="video_backfill"===e?e:_;const x=window.location.href.indexOf("abcya.com")>-1;if(y.isMobile&&!t&&"leaderboard"===v&&(v="320x50",_=`pw-320x50_${b}`,x&&(_=`320x50_${b}`)),"sky"===v&&(v="160x600",_=`pw-160x600_${b}`,x&&(_=`160x600_${b}`)),A=A||(0,p.FL)(v),!A)return"function"==typeof s?s(!1):void 0;if(!1===A.on)return"function"==typeof s?s(!1):void 0;if(k=k||(0,r.M)(y,A,b),!1===k)return"function"==typeof s?s(!1):void 0;if(m&&m.sizes?P=m.sizes:(void 0!==A.sizes&&null!==A.sizes&&(P=A.sizes.slice(0)),void 0!==k.sizes&&null!==k.sizes&&(P=k.sizes.slice(0))),S=void 0!==k.lazyLoad&&!0===k.lazyLoad,f){let t=e=document.createElement("div");!0===k.adContainer&&(t=((e,t,i,n=!1)=>{e.classList.add("pw-sticky");const o=(0,w._Q)(t,i,n),s=(0,w.gK)(t);!0===t.maxHeightEnabled&&n&&e.classList.add("pw-standardIAB--size-logic");const r=(0,u.A)({height:o,showLoader:t.showLoader,backgroundColor:s});return r.appendChild(e),r})(e,k,P,O));let i="afterbegin";switch(k.placementRelativeToSelector){case"belowSelector":i="afterend";break;case"aboveSelector":i="beforebegin"}h.insertAdjacentElement(i,t)}if("left_rail"===v||"right_rail"===v){const e=(0,o.xp)(_,v,k);P=(0,n.Tm)(_,P,e),1===P.length&&1===P[0][0]&&(P=[])}if("bottom_rail"===v){const e=y.isMobile?window.innerWidth:window.innerWidth-100;P=(0,n.W$)(P,e)}if("leaderboard"===v&&y.observerMode&&(P=(0,n.W$)(P,window.innerWidth)),i){const e=[],{width:t,height:n}=i.parentElement.getBoundingClientRect();for(let i=0;i<P.length;i++)P[i][0]<=t&&P[i][1]<=n&&e.push(P[i]);P=e}const C=74075===window.ramp.settings.config.id||74114===window.ramp.settings.config.id,M="CP[pdp]"===A.path||"CP[unpaid-pdp]"===A.path;if(C&&M&&(P=((e,t,i)=>("atf"!==t||("leaderboard"===e?i=[[944,250],[1020,250]]:"320x50"===e?i=[[320,200],[360,200]]:"med_rect"===e&&(i=[[300,118]])),i))(v,b,P)),0===P.length&&"flex_leaderboard"!==v&&"flex"!==v&&"left_rail"!==v&&"right_rail"!==v)return a.Ay.warn("No sizes available for slot ",v),"function"==typeof s?s(!1):void 0;document.getElementById(_)&&(_=(e=>{let t=2;for(;document.getElementById(e+t.toString());)t++;return e+t.toString()})(_)),"pw-oop-left_rail2"!==_&&"pw-oop-right_rail2"!==_||(P=P.filter((e=>!(1===e[0]&&7===e[1])))),y.slots[_]&&y.slots[_].slot&&(void 0!==y.slots[_].refreshTimeout&&clearTimeout(y.slots[_].refreshTimeout),window.googletag.cmd.push((()=>{window.googletag.destroySlots([y.slots[_].slot])})),delete window.ramp.settings.slots[_]),((e,t,i)=>{if("atf"!==t&&"btf"!==t)return!1;let n=void 0!==i.instance_limit?i.instance_limit:1;n="atf"===t?1:n,Object.keys(window.ramp.settings.slots).filter((i=>{const n=window.ramp.settings.slots[i];return n.type===e&&n.pos===t})).length>=n&&console.warn(`Tyche Warning: Found more than ${n} slots of type: ${e}, pos: ${t.toUpperCase()}.`)})(v,b,k);let T=0,B=0,z=!1;if(P.forEach((e=>{"fluid"===e[0]?z=!0:(e[0]>T&&(T=e[0]),e[1]>B&&(B=e[1]))})),t){if((e=document.createElement("div")).id=_,e.classList.add("pw-tag"),"pw-oop-relevant_article"===e.id||"bottom_rail"===v||"left_rail"===v||"right_rail"===v||i||e.classList.add("pw-oop-tag"),i?i.appendChild(e):document.body.appendChild(e),"flex_leaderboard"===v||"flex"===v){const t=document.createElement("div");t.id=`${e.id}_container`,t.appendChild(e),document.body.insertBefore(t,document.body.firstChild)}}else e.id=_,e.classList.contains("pw-tag")||e.classList.add("pw-tag"),O&&e.classList.add("pw-standardIAB-tag");"med_rect"!==v&&"sky"!==v&&"160x600"!==v&&"right_rail"!==v&&"left_rail"!==v||(e.style.maxHeight=`${B}px`,e.style.maxWidth=`${T}px`),"leaderboard"!==v&&"bottom_rail"!==v||(e.style.maxHeight=`${B}px`),z&&T>0&&(e.style.maxWidth=`${T}px`,e.style.margin="auto"),E={adFetchCount:0,type:v,element:e,firstView:!1,pos:b,id:_,imps:0,inView:!1,viewability:0,refreshes:0,pbjsRefreshes:0,refreshBlocked:!1,on:!0,oop:t,slot:I,status:0,config:A,rules:k,queued:!1,sticky:null,lazy:S,pbjsBid:null,amazonBid:{hasBid:!1},lastRefresh:Date.now()},a.TH.info("Create Tyche Tag",E,null);let D=b;return t&&(D="FIXED","pw-oop-relevant_article"===_&&(D="BTF")),y.slots[E.id]=E,window.googletag.cmd.push((()=>{I=((e,t,i,s,r=!1)=>{const d=(()=>{const[n]=t.length>0?t[0]:[];if("OOP"===n||"flex"===e.unit)return window.googletag.defineOutOfPageSlot(e.code,i);let s=!1;t.forEach((e=>{"video"===e[0]&&(s=!0)})),s&&t.push([7,7]);let d=e.code;if(r){let e="";r.unitCode&&(d=(0,o.u1)(r.unitCode,i),e+=` Custom unitCode: ${d}`),r.sizes&&(e+=" Custom sizes (filtered): ",t.forEach((t=>{e+=`[${t}]`}))),a.TH.info(`Defining customized GAM slot ${i} | ${e}`)}return window.googletag.defineSlot(d,t,i)})();d.setTargeting("pos",s),d.setTargeting("slot_id",i),d.setTargeting("refresh","false"),d.setTargeting("amazonBid","false");const l=e.path??e.section;d.setTargeting("custom_path",l.replace(/CP\[|\]/g,""));const c=!(!e.path||!e.section)&&e.section;return c&&d.setTargeting("section",c),d.setTargeting("lld_id",(0,n.t3)()),("leaderboard"===e.unit&&"atf"===s||"med_rect"===e.unit&&"atf"===s||"standard_iab"===e.unit&&"atf"===s||"site_skin"===e.unit||"flex"===e.unit)&&d.setTargeting("takeover","true"),d.addService(window.googletag.pubads()),d})(A,P,_,D,m),E.slot=I,(0,d.H)(E),"function"==typeof s&&s(E),window.googletag.display(_)})),E},f=(e,t,i)=>{const n=h(e,t,i);n&&(window.ramp.settings.slots[n.id]=n)},y=(e,t,i)=>m(e.unit,!0,t).then((e=>{if(!e)return;const o=window.ramp.settings,r=e.id;o.slots[r]=e,e.element.dataset.pwInArticle=!0,t.insertAdjacentElement(i,e.element),a.Ay.info("Inserting in-article ad",r),!1===e.lazy?(e.lazyLoad=!1,(0,s.A)(o,r,t).then((t=>{t&&(0,n.mq)(t),window.googletag.cmd.push((()=>{o.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(r),o.slots[r].slot.setTargeting("refresh","false"),(0,g.A)([e.slot])}))})).catch((e=>{a.Ay.error(`Error in Prebid auction for ${r}`,e)}))):e.lazyLoad=!0})).catch((e=>{a.Ay.error("Create Tyche Tag",{message:e.message,stack:e.stack})}))},6238:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>v,Ix:()=>g,mH:()=>_});var n=i(9239),o=i(6405),s=i(5772),r=i(5664),a=i(2326),d=i(2384),l=i(3804),c=i(6288);const p=["relevant_article","video_backfill","web_interstitial"],g=(e,t)=>{const i=t.config.hbParams;if(i){let t=!1,n=!1;for(let o=0;o<e.bids.length;o++)t=e.bids[o].params,"string"==typeof t&&(n=e.bids[o].bidder,e.bids[o].params=i[n][t])}},u=(e,t)=>{const i=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const r=e[n[s]],d=o.Tz.indexOf(r.unit)>-1;if(g(r.headerBids,t),"in_content"!==r.unit&&"sidebar"!==r.unit&&"sticky_sidebar"!==r.unit&&"corner_ad_video"!==r.unit&&"precontent_ad_video"!==r.unit&&"rewarded_ad_video"!==r.unit)if(d)i.push({type:r.unit,positions:{oop:(0,a.M)(t,r,"oop")},unit:r});else{const e=r.alias??r.unit;"standard_iab"!==r.unit?i.push({type:e,positions:{atf:(0,a.M)(t,r,"atf"),btf:(0,a.M)(t,r,"btf")},unit:r}):i.push({type:e,positions:{standard:(0,a.M)(t,r,"standard")},unit:r})}}return i},w=e=>{const t=[];return e?(e.forEach((e=>{"indexExchange"===e.bidder&&void 0!==e.params.id&&delete e.params.id,t.push(e)})),t):t},m=e=>{const t={};return[...e.units.sec,...e.units.ros].forEach((e=>{const i=e.alias??e.unit;p.includes(i)||void 0!==e.headerBids&&Array.isArray(e.headerBids.bids)&&void 0===t[i]&&(t[i]=e)})),t},h=(e,t)=>"oop"===e?`pw-oop-${t}`:"160x600"===t||"320x50"===t?`pw-${t}_${e}`:`${t}_${e}`,f=(e,t,i)=>{let n=void 0!==e.sizes?e.sizes.slice(0):t.unit.sizes.slice(0),o=!1;if(n.forEach((e=>{"video"===e[0]&&(o=!0)})),"left_rail"===t.type||"right_rail"===t.type){const o=(0,r.xp)(t.unit,t.type,e,i);n=(0,s.Tm)(t.unit,n,o)}else if("bottom_rail"===t.type){const e=window.ramp.settings.isMobile?window.innerWidth:window.innerWidth-100;n=(0,s.W$)(n,e)}return n=n.filter((e=>"fluid"!==e[0]&&1!==e[0]&&"video"!==e[0])),{sizes:n,isVideoAllowed:o}},y=(e,t)=>{t?void 0!==typeof e.leaderboard&&delete e.leaderboard:void 0!==typeof e["320x50"]&&delete e["320x50"]},b=(e,t)=>{const i=[];for(let n=2;n<e+1;n++){const e=(0,l.Go)(t);e.code&&(e.code=e.code+n),e.slotID&&(e.slotID=e.slotID+n),i.push(e)}return i},_=e=>{try{const t=e.unit.unit;return"flex"!==t&&"flex_leaderboard"!==t}catch(e){return!0}};function v(){const e=window.ramp.settings;return new Promise((t=>{let i=null,o=[],r=[],a=[];if(!e.hbEnabled)return void t(i);const l=e.headerBidding.order,p=e.headerBidding.timeout||700,g=m(e);y(g,e.isMobile);const v=u(g,e);for(let e=0;e<v.length;e++){const t=v[e],i=Object.keys(t.positions);for(let e=0;e<i.length;e++){const n=i[e],a=t.positions[n];if(!1!==a){const{sizes:e,isVideoAllowed:i}=f(a,t,v);if(!e||0===e.length)continue;const c=t.unit.alias??t.unit.unit,p=t.unit.alias??h(n,c),g=(0,s.Os)({bids:t.unit.headerBids.bids,order:l,unitSizes:e,isVideoAllowed:i});let u=w(g,e);const m={code:p,bids:u,mediaTypes:{banner:{sizes:e}}};if(m.ortb2Imp=(0,s.IR)(m.code,!1,n),i)if(window.pwEdgeFlags&&window.pwEdgeFlags.multiFormatUnitSplit){u=(0,s.Gb)(u);const i={code:p,bids:u,mediaTypes:{}};(0,d.ty)({data:i,type:t.type,bannerSizes:e}),i.ortb2Imp=(0,s.IR)(i.code,!1,n),o.push(i),m.bids=(0,s.ZD)(m.bids)}else(0,d.ty)({data:m,type:t.type,bannerSizes:e});let y={};const S=!(!1===window.ramp.privacy?.advertisementCookiesEnabled)&&(0,s.MV)(l)&&_(t);if(S&&(y={slotID:p,slotName:t.unit.code,sizes:e},i&&(0,d.dk)({data:y,bannerSizes:e}),"atf"===n&&m.bids.forEach(((e,t)=>{"rubicon"===e.bidder&&(m.bids[t]={...e},m.bids[t].params={...e.params},m.bids[t].params.position="atf")})),r.push(y)),"btf"===n)if(window.ramp.passiveMode||window.ramp.settings.adsPerformance){const e=Object.entries(window.ramp.settings.slots).filter((([e])=>e.includes(p))).length;e>0&&(S&&(r=r.concat(b(e,y))),o=o.concat(b(e,m)))}else a.instance_limit&&a.instance_limit>1&&(S&&(r=r.concat(b(a.instance_limit,y))),o=o.concat(b(a.instance_limit,m)));o.push(m)}}}if(window.ramp.passiveMode&&(r=r.filter((t=>e.slots[t.slotID]&&-1===e.amazonSlots.map((e=>e.slotID)).indexOf(t.slotID))),o=o.filter((t=>e.slots[t.code]&&-1===window[window.ramp.pbKey].adUnits.map((e=>e.code)).indexOf(t.code)))),0!==r.length||0!==o.length){if(window.performance.timing&&!window.ramp.passiveMode&&(0,s.aE)("domLoading_to_getBids",window.performance.timing.domLoading),e.apstagLoaded){r.forEach((e=>{window.ramp.settings.amazonSlots.push(e),window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionStart",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes})}));const e=Date.now();window.PageOS.apstag.fetchBids(r,p).then((t=>{n.GE.info("Amazon Refresh Bids Back",{time:Date.now()-e,bids:t}),i=t,r.forEach((e=>{(0,c.f3)(i,e),window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionEnd",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes})}))}))}0!==o.length?(a=o.map((e=>e.code)),window[window.ramp.pbKey].que.push((()=>{window[window.ramp.pbKey].addAdUnits(o),window[window.ramp.pbKey].requestBids({adUnitCodes:a,timeout:p,labels:[e.uuid],bidsBackHandler:()=>{t(i)}})}))):t(!1)}else t()}))}},8125:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>d,dM:()=>l,nV:()=>g,qj:()=>c,rI:()=>p});var n=i(1697),o=i(5988),s=i(8900),r=i(9239),a=i(912);function d(e,t){const i=(e,t,i)=>!i||("prebid"===i?!(("banner"!==e.mediaType||t&&!t.documentURI.includes("about:blank"))&&("video"!==e.mediaType||e.vastXml||e.vastUrl)):"amazon"===i?!e.amzniid||!e.amznbid:void 0),o=e=>{if(e.mediaTypes&&!e.mediaTypes.banner&&e.mediaTypes.video&&e.isEmpty)return{};return{advertiserId:e.meta?.advertiserId??null,creativeId:e.creativeId??null,isEmpty:e.isEmpty,size:e.size?e.size.split("x").map(Number):null,gam_skipped:!0}};document.addEventListener("pw_adRenderSucceeded",(s=>{let r=!1;if(!s.detail)return;if(r=s.detail.slotId,!r)return;let d=!1;window.ramp.settings.onlyHBSlots&&window.ramp.settings.onlyHBSlots.length>0&&(d=window.ramp.settings.onlyHBSlots.find((e=>e.id||e.getSlotElementId()===r)));let l=!1;window.ramp.settings.onlyHBVideoSlots&&window.ramp.settings.onlyHBVideoSlots.length>0&&(l=window.ramp.settings.onlyHBVideoSlots.find((e=>e.id===r||"function"==typeof e.getSlotElementId&&e.getSlotElementId()===r))),(d&&d.getSlotElementId()===r||l&&l.id===r)&&((e,t,s,r)=>{if(!e.detail||!e.detail.bid)return;const d=e.detail.bidder,l=e.detail.doc??!1,c=e.detail.bid;c.isEmpty=i(c,l,d);const p=o(c),g=window.ramp.settings.slots[t];g&&(c.slot=g.slot,e=c,"corner_ad_video"!==t&&"precontent_ad_video"!==t?(g.size=c.size?c.size.split("x").map(Number):null,(0,n.h)({e,adRequestStart:s,tycheStartTime:r})):g.size=c.size?c.size:null,g.amazonBid="amazon"===d?c:null,g.pbjsBid="prebid"===d?c:null,(0,a.cy)(c,t,g.size,g,p),g.pbjsRefreshes>=0&&g.pbjsRefreshes++)})(s,r,e,t)})),document.addEventListener("pw_adRenderFailed",(e=>{r.E$.error("adRenderFailed:",e)}))}const l=e=>{r.E$.info(`[${e.id}] HB slotRequested`),(0,a.hk)(e,!1)},c=e=>{r.E$.info(`[${e.id}] HB slotLoaded`),(0,a.ev)(e);const t={slot:e.slot};(0,o.A)(t)},p=e=>{const t={root:null,rootMargin:"0px",threshold:Array.from({length:11},((e,t)=>t/10))};return new IntersectionObserver((t=>{window.ramp.settings.hasFocus&&t.forEach((t=>{e&&(0,s.XV)(e,100*t.intersectionRatio)}))}),t)},g=(e,t,i)=>{const n=new CustomEvent("pw_adRenderSucceeded",{detail:{bidder:t,slotId:e,bid:i},bubbles:!0});document.dispatchEvent(n)}},1620:(e,t,i)=>{"use strict";i.d(t,{UM:()=>c,Zx:()=>u,rA:()=>w});var n=i(5772),o=i(9239),s=i(2140),r=i(2344),a=i(6396),d=i(4988),l=i(5134);const c=(e,t=!1,i=!1)=>{if(window.ramp.settings.roadblockActive)return void window.PageOS.BUS.on("roadblock:removed",(()=>{c(e,t,i)}));if("corner_ad_video"===e||"precontent_ad_video"===e||"rewarded_ad_video"===e)return;const r=window.ramp.settings,d=r.hbEnabled&&r.headerBidding.order,l=r.slots[e];if(l.isEmpty&&0===l.imps&&(!e.includes("_rail")&&l.element&&a.A.observe(l.element),e.includes("_rail")&&(l.inView=!0,l.viewability=100)),!0===l.recalculateStickySidebar&&"sticky_sidebar"===l.type){l.recalculateStickySidebar=!1,window.ramp.settings.amazonSlots.forEach((t=>{t.slotID===e&&(t.sizes=l.filteredSizes)})),r.hbEnabled&&window[window.ramp.pbKey].adUnits.forEach((t=>{t.code===e&&(t.mediaTypes.banner.sizes=l.filteredSizes,t.bids=(0,n.Os)({bids:l.config.headerBids.bids,order:d,unitSizes:l.filteredSizes,isVideoAllowed:l.isVideoAllowed}))}));const t=window.googletag.sizeMapping().addSize([1,1],l.filteredSizes).build();l.slot.defineSizeMapping(t)}if(o.VB.info(`Refresh rules for ${e}`,l.rules.refresh),void 0!==l.rules.refresh){if(void 0!==l.rules.refresh.type&&"Triggered"===l.rules.refresh.type)return;if(!0===l.rules.refresh.enabled){if(!0===l.refreshBlocked)return;if(l.refreshes<l.rules.refresh.limit){const a=1e3*l.rules.refresh.rate;if(r.hbEnabled){(0,n.j)(l.slot);const d=window.__pwpbjs__.getConfig("timeoutBuffer")||0,c=window.__pwpbjs__.getConfig("userSync.auctionDelay")||0,g=r.headerBidding.timeout||0;let u=a-(d+c+g);u<0&&(u=0),l.auctionTimeout&&clearTimeout(l.auctionTimeout),l.auctionTimeout=setTimeout((()=>{l.pbjsBid=null,l.amazonBid={hasBid:!1};const d=Math.round(Date.now());(0,s.A)(r,e).then((o=>{const s=Math.round(Date.now())-d;o&&(0,n.mq)(o);let r=a-(u+s);r<0&&(r=0),p(e,t,i,r)})).catch((e=>{o.GE.error("Prebid Auction Error: ",e)}))}),t?0:u)}else p(e,t,i,a)}else l.rules.refresh.enabled=!1}}},p=(e,t,i,n)=>{const o=window.ramp.settings,s=o.slots[e];s.refreshTimeout&&clearTimeout(s.refreshTimeout),s.refreshTimeout=setTimeout((()=>{s.isHidden?c(e,!1):document.getElementById(s.id)?!1===s.inView&&"inViewOnly"===s.rules.refresh.condition&&o.hasFocus&&void 0!==o.inViewDelayedRegistry?o.inViewDelayedRegistry[e]=!0:!0!==s.refreshBlocked&&g(e,i):clearTimeout(s.refreshTimeout)}),t?0:n)},g=(e,t)=>{const i=window.ramp.settings,n=i.slots[e];if(i.hasFocus){const o=n.rules.refresh.type;"Scroll"!==o&&"Click"!==o||"Scroll"===o&&i.scrollTriggered||"Click"===o&&i.clickTriggered?m(n,i.hbEnabled,e,true,t):"Scroll"===o?i.scrollDelayedSlots.push(n):i.clickDelayedSlots.push(n)}else"Always"===n.rules.refresh.condition&&m(n,i.hbEnabled,e,true,t),"inViewOnly"===n.rules.refresh.condition&&void 0!==i.inViewDelayedRegistry&&(i.inViewDelayedRegistry[e]=!0)},u=e=>{const t=window.ramp.settings,i=t.slots[e];o.VB.info(`Refresh rules for ${e}`,i.rules.refresh),t.hbEnabled?((0,n.j)(i.slot),i.pbjsBid=null,i.amazonBid=!1,i.amazonMediaType="",(0,s.A)(t,e).then((o=>{o&&(0,n.mq)(o),m(i,t.hbEnabled,e,!1)})).catch((e=>{o.GE.error("Prebid Auction Error: ",e)}))):m(i,t.hbEnabled,e,!1)},w=(e,t,i="")=>{const n=window.ramp.settings,o=n.slots[e];if("corner_ad_video"===o.type)return void o.__softRefreshSlot(i);const s=o.slot.getTargetingMap();let r,a="";if(t){const e=Object.keys(s);for(let i=0;i<e.length;i++){const n=e[i];n.startsWith("hb_adid_")&&s[n][0]===t&&(a=n.slice(8))}}a&&(r=[`hb_adid_${a}`,`hb_adomain_${a}`,`hb_bidder_${a}`,`hb_format_${a}`,`hb_pb_${a}`,`hb_size_${a}`,`hb_source_${a}`],r=r.map((e=>e.length<=20?e:e.slice(0,20)))),a||(r=["amznbid","amzniid","amznp","amznsz"],o.slot.setTargeting("amazonBid","false")),r.forEach((e=>{o.slot.clearTargeting(e)})),m(o,n.hbEnabled,e,!1)},m=(e,t,i,s=!0,a=!1)=>{if((0,r.H)(e),s&&e.refreshes++,e.slot.setTargeting("refresh","true"),e.slot.setTargeting("refresh_count",e.refreshes),e.slot.setTargeting("tfre",a?"true":"false"),e.slot.setTargeting("lld_id",(0,n.t3)()),t&&window[window.ramp.pbKey].setTargetingForGPTAsync(i),void 0!==e.rules.refresh.type&&e.slot.setTargeting("refresh_type",e.rules.refresh.type),window.location.hash.toLowerCase().includes("blankaddebug")){const t=Object.keys(e.slot.getTargetingMap());for(let i=0;i<t.length;i++){const n=t[i];(n.includes("hb_")||n.includes("amzn"))&&e.slot.clearTargeting(n)}e.slot.setTargeting("refresh","true"),e.slot.setTargeting("price_floor","30.00")}o.Yp.info(`Slot "${i}" - Time elapsed since rendered: ${Math.round(Date.now())-e.lastRenderedTime} ms.`);(0,d.h)(i,"Ad request"),!t&&(0,l.A)([e.slot]),t&&window[window.ramp.pbKey].que.push((()=>{(0,l.A)([e.slot])})),o.VB.info(`Slot: ${i} refreshed`,{hbEnabled:t,countRefresh:s})}},1709:(e,t,i)=>{"use strict";i.d(t,{KV:()=>o,PQ:()=>r,XC:()=>d,ec:()=>s,oy:()=>a});var n=i(9239);const o=e=>{if(void 0===e.config.headerBidding)return!1;if(!1===window.ramp.privacy?.advertisementCookiesEnabled)return!1;return void 0!==(r(e.config.headerBidding)||a(e.config.headerBidding))[e.isMobile?"mobile":"desktop"]&&!("DFP_COPPA"===e.config.server&&(!e.config.headerBidding||0===Object.keys(e.config.headerBidding).length))},s=e=>{if(void 0!==e.headerBidding)return e.headerBidding;const t=r(e.config.headerBidding)||a(e.config.headerBidding);let i;if(void 0===e.hbEnabled&&(e.hbEnabled=o(e)),e.hbEnabled&&(i="tablet"===e.device&&void 0===t.tablet?t.mobile:t[e.device],void 0===i.order)){const t=i,o=Object.keys(t),s=Math.floor(Math.random()*o.length),r=i[o[s]];e.hbTest=o[s],i=r,window.kinesis.headerBiddingABTest(e.hbTest),n.fB.info("Header Bidding AB Test",{name:e.hbTest})}return i},r=e=>{if(e)return e.display?e.display:e.video?null:e},a=e=>{if(e)return e.video?e.video:e.display?null:e},d=e=>{if(!e)return;const t=window.ramp.settings.device;let i;return i="tablet"===t&&void 0===e.tablet?e.mobile:e[t],i}},5772:(e,t,i)=>{"use strict";i.d(t,{$8:()=>h,AV:()=>M,Cf:()=>T,De:()=>C,Gb:()=>k,IR:()=>x,MV:()=>y,Os:()=>b,Tm:()=>A,UR:()=>m,Uq:()=>I,W$:()=>p,Xb:()=>w,ZD:()=>E,ZM:()=>R,aE:()=>l,al:()=>g,dl:()=>P,iG:()=>_,j:()=>c,mG:()=>O,mq:()=>v,su:()=>B,t3:()=>S,u6:()=>D,v9:()=>u,xu:()=>d});var n=i(9239),o=i(6405),s=i(1709);const r=["corner_ad_video","trendi_video","precontent_ad_video"],a=["bottom_rail","left_rail","right_rail"],d=()=>{if(document.getElementById("pwCSSstyling"))return!1;const e=o.Oq,t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="pwCSSstyling",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)},l=(e,t,i=Date.now())=>{const n=setInterval((()=>{if(void 0===window.kinesis)return;clearInterval(n);const o=i-t;o<0||o>3e4||window.kinesis.newBenchmark(e,o)}),1)},c=e=>{if(null===e)return;const t=["kbackfill","hb_container","hb_size","hb_val","hb_adid","hb_bidder","amznbid","amzniid","amznp","amznsz","size","slotID"];for(let i=0;i<t.length;i++)window.googletag.cmd.push((()=>{e?.getTargeting(t[i]).length&&e.clearTargeting(t[i])}));e.setTargeting("amazonBid","false")},p=(e,t)=>{for(let i=e.length-1;i>=0;i--)e[i][0]>t&&e.splice(i,1);return e},g=e=>{e=e.replace(/[\[\]]/g,"\\$&");const t=window.location.href,i=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return!!i&&(i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"")},u=()=>{const e={};return window.location.search.replace(/^\?/,"").split("&").forEach((t=>{const i=t.split("="),n=i[0],o=i[1];e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o})),e},w=e=>a.includes(e.type)||"Bolt Player"===e.videoType,m=e=>!!r.includes(e.id)||"Bolt Player"===e.videoType,h=(e,t)=>{if(!t||!e.slots[t])return;const i=e.slots[t];i.refreshBlocked=!0,(i.type.indexOf("_rail")>-1||i.element.classList.contains("pw-sticky")||0===i.imps)&&(i.element.style.display="none",window.googletag.cmd.push((()=>{window.googletag.destroySlots([e.slots[t].slot])})))},f=e=>["trendi_video","prebid_video","corner_ad_video","precontent_ad_video","rewarded_ad_video"].includes(e),y=(e,t)=>{let i=e;const n=f(t)?"video":"display";return window.ramp?.settings?.mlHeaderBidding?.headerBiddingModel&&!window.pwEdgeYieldOptions?.bidShapingSkipPredictions&&(i=window.ramp.settings.mlHeaderBidding[n]),(i||[]).includes("amazon")},b=({bids:e,order:t,unitSizes:i,isVideoAllowed:o,unitId:s})=>{if(window.ramp?.settings?.mlHeaderBidding?.headerBiddingModel&&!window.pwEdgeYieldOptions?.bidShapingSkipPredictions){const e=window.ramp.settings.mlHeaderBidding;f(s)&&e.video&&!e.testRecordVideo?t=window.ramp.settings.mlHeaderBidding.video:f(s)||!e.display||e.testRecordDisplay||(t=window.ramp.settings.mlHeaderBidding.display)}if(!e||!Array.isArray(t)||!Array.isArray(i))return n.Ay.error("reSort helper method missing params!"),e;const r=[],a=JSON.stringify(i.map((e=>e.join("x"))));return t.forEach((t=>{e.forEach((e=>{const i={...e};if(!(!1===o&&i.size&&i.size.length>0&&"video"===i.size[0])){if(Array.isArray(i.size)&&i.size.length>0&&"ANY"!==i.size[0]&&"video"!==i.size[0]){if(!i.size.every((e=>a.indexOf(e)>-1)))return}i.bidder===t&&r.push(i)}}))})),(r||[]).forEach((e=>{e&&e.size&&e.size.length>0&&e.size.includes("video")&&e.size.splice(e.size.indexOf("video"),1)})),"precontent_ad_video"===s&&r.forEach((e=>{const t=i[0][0],n=i[0][1];switch(e.bidder){case"openx":e.params=e.params||{},e.params.video={vht:n,vrw:0,vwd:t};break;case"triplelift":case"pubmatic":e.params=e.params||{},e.params.video=e.params.video||{},e.params.video.w=t,e.params.video.h=n}})),r},_=e=>{let t=[];const i=e.pathCategories;if(t=t.concat(e.categories?e.categories:[],e.category?e.category:[],e.keywords?e.keywords:[]),i)for(let n=0;n<i.length;n++){const o=i[n];if(0===window.location.pathname.indexOf(o.path)||o.path===e.cp){t=t.concat(o.categories?o.categories:[],o.keywords?o.keywords:[]);break}}return window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.addCategories(t),t},v=e=>{for(let t=0;t<e.length;t++){const i=e[t],n=window.ramp.settings.slots[i.slotID],{amznbid:o,amznp:s,amzniid:r}=i;void 0!==n&&o.length>1&&s.length>1&&window.googletag.cmd.push((()=>{n.slot.setTargeting("amznbid",o),n.slot.setTargeting("amznp",s),n.slot.setTargeting("amzniid",r),n.slot.setTargeting("amazonBid","true")}))}},S=()=>{const e=window.PageOS.dataStream.randomUuid().split("_");return e[1].replace(/-/g,"")+e[2].slice(-8)},A=(e,t,i)=>{const o=t.filter((e=>e[0]<=i.width&&e[1]<i.height||"fluid"===e[0]));return 0===o.length?n.Ay.info(`No available sizes for ${e}`):n.Ay.info(`Available sizes for ${e}`,o),o},k=e=>e.filter((e=>e&&e.size&&"video"===e.size[0])),E=e=>e.filter((e=>!(e&&e.size&&"video"===e.size[0]))),I=()=>Math.max(document.documentElement.clientHeight,window.innerHeight||0),P=()=>Math.max(document.documentElement.clientWidth,window.innerWidth||0),O=()=>P()*I(),x=(e,t=!1,i=!1)=>{const n=t||window.ramp.settings.slots[e];return{ext:{data:{pos:i||(n?.pos?n.pos:void 0),in_view:n?.inView?n.inView:void 0,sitecont_cat:_(window.ramp.settings.config.settings),adunit:e}}}},C=e=>Date.now()-e>=36e5,M=e=>{const t=e.adFetchCount||0,i=!!e?.rules?.disableGam?.enabled&&e?.rules?.disableGam;let n=i&&!i.fetchInst||i&&t>=i.fetchInst;const o=i&&i.frequency;if(n&&o){n=Math.round(100*Math.random())<o}return{skipGAM:n,disableGamFrequency:o}},T=e=>{const t={amazon:"0",appnexus:"1",appnexusAst:"2",criteo:"3",grid:"4",gumgum:"5",ix:"6",openx:"7",other:"8",pubmatic:"9",rise:"a",rubicon:"b",s2s_33across:"c",s2s_appnexus:"d",s2s_gumgum:"e",s2s_ix:"f",s2s_kargo:"g",s2s_openx:"h",s2s_pubmatic:"i",s2s_rise:"j",s2s_rubicon:"k",s2s_sharethrou:"l",s2s_sharethrough:"m",s2s_triplelift:"n",s2s_undertone:"o",sharethrough:"p",triplelift:"q",ttd:"r",vidazoo:"s",google:"t",appnexusast:"u",s2s_grid:"v",adx:"w",teads:"x",ozone:"y",s2s_sonobi:"z"};return(e||[]).map((e=>t[e]||e))},B=(e,t)=>{const i=[];if(z(e).includes("amazon")&&i.push("amazon"),t._prebidBiddersCalled&&t._prebidBiddersCalled[e]){const n=new Set(t._prebidBiddersCalled[e]);i.push(...Array.from(n))}return i},z=(e,t)=>{const i=f(e);if(!t&&window.ramp?.settings?.mlHeaderBidding?.headerBiddingModel){if(i&&window.ramp?.settings?.mlHeaderBidding?.video)return window.ramp.settings.mlHeaderBidding.video;if(!i&&window.ramp?.settings?.mlHeaderBidding?.display)return window.ramp.settings.mlHeaderBidding.display}return i?(0,s.XC)((0,s.oy)(window.ramp?.settings.config.headerBidding))?.order||[]:(0,s.XC)((0,s.PQ)(window.ramp?.settings.config.headerBidding))?.order||[]},D=(e,t)=>{const i=[],n=t.slots[e].config.headerBids;if(!n)return i;const o=z(e,!0);o.includes("amazon")&&i.push("amazon");const s=new Set;return n.bids.forEach((e=>{o.includes(e.bidder)&&s.add(e.bidder)})),i.push(...Array.from(s)),i},R=(e,t)=>{const i=[],n=t.slots[e];return n.amazonBid&&n.amazonBid.hasBid&&i.push("amazon"),t._prebidReceivedBids&&t._prebidReceivedBids[e]&&i.push(...t._prebidReceivedBids[e]),i}},5285:()=>{Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;var o,s,r=0|t,a=Math.max(r>=0?r:n-Math.abs(r),0);for(;a<n;){if((o=i[a])===(s=e)||"number"==typeof o&&"number"==typeof s&&isNaN(o)&&isNaN(s))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var s=t[o];if(e.call(n,s,o,t))return s;o++}}}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,n=new Array(i);i--;)n[i]=[t[i],e[t[i]]];return n})},6170:(e,t,i)=>{"use strict";function n({src:e,async:t,defer:i,onload:n,onerror:o}){const s=document.createElement("script");s.type="text/javascript",s.src=e,"boolean"==typeof t&&(s.async=t),"boolean"==typeof i&&(s.defer=i),n&&"function"==typeof n&&(s.onload=n),o&&"function"==typeof o&&(s.onerror=o),document.head.appendChild(s)}i.d(t,{A:()=>n})},4988:(e,t,i)=>{"use strict";i.d(t,{h:()=>n});const n=(e,t)=>{const i=window.ramp.settings,n=i.slots[e],o=i.isMobile;window.PageOS.metrics.sendScroll(e,t),window.PageOS.metrics.sendViewportHeight(e,t),window.PageOS.metrics.sendAdHeight(e,n,t,o),window.PageOS.metrics.sendAdViewability(e,t,n.viewability)}},9239:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>v,E$:()=>_,GE:()=>a,HU:()=>c,Sc:()=>g,TH:()=>l,VB:()=>w,Yp:()=>m,dL:()=>f,dd:()=>d,fB:()=>r,ft:()=>u,kR:()=>y,mU:()=>b,nJ:()=>p});const n={build_timestamp:"2025-04-02 14:15:12.388",name:"tyche",version:"V.2.4.34",variant:{}},o=window.location.hash.toLowerCase().indexOf("tychedebug")>-1,s=e=>{const t=window.PageOS.logger.get(e,{app:n});return o&&t.setLevel(t.TRACE),t},r=s("AB_TEST"),a=s("PREBID"),d=s("GDPR"),l=s("AD_UNIT"),c=(s("AD_REQUEST"),s("AD_RESPONSE"),s("AD_EVENT")),p=(s("KINESIS"),s("STICKY_VIDEO"),s("TRENDI_SLIDESHOW"),s("RELEVANT_ARTICLE")),g=s("PASSIVE_MODE"),u=(s("ADLIGHTNING"),s("COPPA")),w=s("REFRESH_TYPE"),m=s("HB_TIMING"),h=s("DISPLAY_VIDEO"),f=s("CORNER_AD_VIDEO"),y=s("PRECONTENT_AD_VIDEO"),b=s("REWARDED_AD_VIDEO"),_=s("SKIP_GAM");window.ramp._loggers=window.ramp._loggers||[],window.ramp._loggers.push({name:"DISPLAY_VIDEO",logger:h}),window.ramp._loggers.push({name:"AD_EVENT",logger:c});const v=s("DEBUG")},2344:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,H:()=>n});const n=e=>window.PageOS.adUtils.calculateFloor(e);function o(){return new Promise((e=>{window.PageOS.BUS.after("userData_ready",(()=>{e()}))}))}},1811:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(2326),o=i(8804),s=i(4113);class r{constructor(e){if(this.validRules=void 0!==e,!this.validRules)return;const{precontentUrl:t}=e.video;this.rules=e,this.boltConfig=t,this.playerType="undefined"!=typeof playlistId?"playlist":"precontent",this.adUnitType="in_article",this.device=window.ramp.settings.device;const i="tablet"===this.device?"desktop":this.device;this.size=this.rules.video.size[i],this.containerDiv=this.buildContainer(),this.dockInArticleVideo=this.dockInArticleVideo.bind(this)}init(e,t,i,n){void 0!==n&&(this.adUnitType=n);const r=this;return r.item=e,r.position=t,new Promise(((n,a)=>{if(!r.validRules)return void a("Rules are missing");const d=(0,s.AJ)({boltConfig:r.boltConfig,id:"tyche_in_article_video",onReady:"window.ramp.handleBoltEvents.inArticleVideo",playerType:r.playerType,adUnitType:r.adUnitType});d.id="tyche_in_article_video_script",(0,s.E9)(r.device),r.containerDiv.appendChild(d),e.insertAdjacentElement(t,r.containerDiv),r.rules.video.sticky&&(window.ramp.settings.slots.sticky_video=r.rules.video,window.ramp.settings.slots.sticky_video.isDocked=!1,window.ramp.settings.slots.sticky_video.videoType="Bolt Player",window.ramp.settings.slots.sticky_video.pwIframeId="zIframe_tyche_in_article_video"),window.ramp.handleBoltEvents=window.ramp.handleBoltEvents||{},window.ramp.handleBoltEvents.inArticleVideo=()=>{window.Bolt.playMedia("tyche_in_article_video"),window.Bolt.on("tyche_in_article_video",window.Bolt.BOLT_AD_COMPLETE,(()=>{r.removeBolt(),i&&(0,o.$E)(window.inArticleVideo.unit,e,t)})),window.Bolt.on("tyche_in_article_video",window.Bolt.BOLT_AD_STARTED,(()=>{r.containerDiv.style.height=r.containerDivHeight,r.rules.video.sticky?r.observer=(0,s.G3)(r.containerDiv,s.Mj,r.dockInArticleVideo):r.observer=(0,s.G3)(r.containerDiv,r.playVideo,r.pauseVideo),n()})),window.Bolt.on("tyche_in_article_video",window.Bolt.BOLT_AD_ERROR,(()=>{r.removeBolt(),i&&(0,o.$E)(window.inArticleVideo.unit,e,t),a("BOLT_AD_ERROR Fired")}))}}))}playVideo(){window.Bolt.playMedia("tyche_in_article_video")}pauseVideo(){window.Bolt.pauseMedia("tyche_in_article_video")}buildContainer(){const e=document.createElement("div");return e.id="tyche_in_article_video_container",e.style.margin="20px auto",e.style.width=`${this.size[0]}px`,e.style.height=0,e.style.overflow="hidden",this.containerDivHeight=`${this.size[1]}px`,e}dockInArticleVideo(e){(0,s.lC)({player:e,location:"right-bottom",stickyW:this.size[0]})}removeBolt(){window.Bolt.removeVideo("tyche_in_article_video",!0),document.getElementById("tyche_in_article_video_container").remove(),window.inArticleVideo.video=void 0}}var a=i(9239);class d{constructor(e){if(this.unit=e,this.rules=(0,n.M)(window.ramp.settings,e,"any"),this.adUnitType="relevant_article",!this.rules)return this.isValid=!1,void a.nJ.error("No valid rules found for unit.",{unit:e});this.rules.video&&(this.rules.video.size={desktop:[300,180],mobile:[300,180]}),window.ramp.isMobile||(this.unit.sizes=[[300,250]],this.rules.sizes=[[300,250]]),this.refreshes=0,this.RSS_URL=window.ramp.RSSURL||this.rules.RSSURL;const t="null"===this.rules.paragraphContainer.toLowerCase()?document.body:document.querySelector(this.rules.paragraphContainer);try{const e=0===this.rules.paragraphStart?0:this.rules.paragraphStart-1;if(this.anchorDiv=t.querySelectorAll(this.rules.paragraphRecognition)[e],!this.anchorDiv)throw new Error;this.isValid=!0}catch(e){this.isValid=!1,a.nJ.error("No matching element found",{paragraphContainer:this.rules.paragraphContainer,paragraphRecognition:this.rules.paragraphRecognition,paragraphStart:this.rules.paragraphStart})}}appendStyles(){if(document.getElementById("pwRelArticleCSS"))return!1;const e=`\n            #pwRelArticles {\n                width: 100%;\n                min-width: 320px;\n                max-width: 640px;\n                text-align: center;\n                margin: 0 auto;\n            }\n            #pwRelArticles > .pw_left,\n            #pwRelArticles > .pw_right {\n                width: 50%;\n                min-width: ${window.ramp.isMobile?"320px;":"300px;"}\n                display: inline-block;\n                border: 1px #acacac solid;\n                vertical-align: top;\n            }\n            #pwRelArticles > .pw_right {\n                padding: 25px 0;\n            }\n            #pwRelArticles > .pw_left {\n                padding: 20px 20px 10px 20px;\n            }\n            #pwRelArticles > div.pw_left > h1.pw_headline {\n                font-size: 16px;\n                margin:0;\n                padding:0;\n                padding-bottom: 20px;\n                line-height: normal;\n                font-family: "Open Sans",arial, sans-serif;\n                text-align: left;\n                color: black;\n                font-weight: 600;\n            }\n            #pwRelArticles > div.pw_left > p.pw_tagline {\n                font-size: 10px;\n                color: #b2b2b2;\n                margin:0;\n                padding:0;\n                text-align: center;\n                font-family: "Open Sans",arial, sans-serif;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item {\n                position: relative;\n                margin:0 0 10px 0;\n                padding:0 0 15px 0;\n                border-bottom: 1px #eeeeee solid;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item > a.pw_link {\n                display: block;\n                position: absolute;\n                width: 100%;\n                height: 60px;\n                top: 0;\n                left: 0;\n                z-index: 10;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item > img.pw_thumb {\n                width:60px;\n                height:60px;\n                margin:0;\n                padding:0;\n                border: 1px #acacac solid;\n                float: left;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item > p.pw_title {\n                font-size: 15px;\n                color: #777777;\n                text-align: left;\n                margin: 0;\n                padding: 0 10px 0 20px;\n                display: -webkit-box;\n                -webkit-line-clamp: 4;\n                -webkit-box-orient: vertical;\n                max-width: calc(100% - 60px);\n                overflow: hidden;\n                text-overflow: ellipsis;\n                height:60px;\n                line-height: 1.2;\n                font-family: "Open Sans",arial, sans-serif;\n            }\n        `,t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="pwRelArticleCSS",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)}fillContainerDiv(e){const t=document.createElement("div"),i=document.createElement("div");t.classList.add("pw_left"),i.classList.add("pw_right"),window.ramp.isMobile||(t.style.height="353px",i.style.height="353px",i.style.borderLeft="none"),this.adSlot=document.createElement("div"),i.appendChild(this.adSlot);const n=document.createElement("h1");n.classList.add("pw_headline"),n.innerText="Read More On This Topic",t.appendChild(n),this.insertItems(this.items,t);const o=document.createElement("p");o.classList.add("pw_tagline"),o.innerText="Powered by Playwire",t.appendChild(o),e.appendChild(t),e.appendChild(i)}getVideoRules(e){let t=!1,i=!1;for(let n=0;n<e.rules.length;n++){const o=e.rules[n].rule;if(void 0!==o.video&&(t=o.video),void 0!==o.refresh&&(i=o.refresh),t&&i)break}return{video:t,refresh:i}}handleLazy(e){this.observer=new IntersectionObserver((t=>{t[0].isIntersecting&&(this.placeInDom(e),this.observer.unobserve(this.anchorDiv))}),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.anchorDiv)}init(e=this.RSS_URL){if(!this.isValid||this.rules.loaded)return;a.nJ.info("Init method",this.rules);const t="relevant_artricle_RSS",i=document.createElement("div");i.id="pwRelArticles",window.PageOS.BUS.on(t,(e=>{if(!e)return;this.items=window.PageOS.tyche.getRSSdata(e,this.rules);const t=window.ramp.isMobile?2:3;this.items.length<t||(this.items=this.items.slice(0,t),this.rules.loaded=!0,this.appendStyles(),this.fillContainerDiv(i),this.rules.lazyLoad?this.handleLazy(i):this.placeInDom(i))})),window.PageOS.tyche.fetchRSS(e,t)}insertItems(e,t){e.forEach((e=>{const{thumbnail:i,title:n,url:o}=e,s=document.createElement("div");s.classList.add("pw_list_item");const r=document.createElement("a");r.classList.add("pw_link"),r.href=o,r.setAttribute("target","_blank");const a=document.createElement("img");a.classList.add("pw_thumb"),a.src=i;const d=document.createElement("p");d.classList.add("pw_title"),d.innerText=n,s.appendChild(r),s.appendChild(a),s.appendChild(d),t.appendChild(s)}))}insertVideo(){if(void 0===window.inArticleVideo&&!window.ramp.settings.stickyVideoOn){const e=this.getVideoRules(this.unit);window.inArticleVideo={rules:e,position:"afterbegin",adType:this.rules.adType,unit:this.unit,refreshes:0}}void 0!==window.inArticleVideo&&void 0===window.inArticleVideo.video&&0===this.refreshes||this.refreshes<window.inArticleVideo.rules.refresh.limit?(window.inArticleVideo.video=new r(window.inArticleVideo.rules),window.inArticleVideo.video.init(this.adSlot,window.inArticleVideo.position,"DisplayAndVideo"===this.rules.adType,this.adUnitType).then((()=>{window.inArticleVideo.refreshes++})).catch((()=>{(0,o.$E)(this.unit,this.adSlot,"afterend")}))):(0,o.$E)(this.unit,this.adSlot,"afterend")}placeAd(){"DisplayAndVideo"===this.rules.adType||"VideoAdsOnly"===this.rules.adType?this.insertVideo():(0,o.$E)(this.unit,this.adSlot,"afterend")}placeInDom(e){const t=0===this.rules.paragraphStart?"beforebegin":"afterend";this.anchorDiv.insertAdjacentElement(t,e),this.placeAd()}}},6108:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(9239),o=i(5772),s=i(1811),r=i(791),a=i(1447),d=i(2326),l=i(2344),c=i(5134);const p="web_interstitial";function g(e){const t=Date.now(),g=window.ramp.settings,u=new r.A;e&&(0,o.mq)(e),g.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(Object.keys(g.slots)),window.ramp.passiveMode||((0,o.aE)("getBidsEnd_to_adRequest",t),window.performance.timing&&(0,o.aE)("domLoading_to_adRequest",window.performance.timing.domLoading));let w={};"object"==typeof window.ramp.observerMode&&(w=window.ramp.observerMode,w.isMobile=g.isMobile),g.adRequestStart||(g.adRequestStart=Date.now());const m=[],h=Object.keys(g.slots);for(let e=0;e<h.length;e++){const t=h[e],i=g.slots[t];void 0===i.videoType&&(0===i.adFetchCount&&!1===i.lazy&&!1===i.queued&&"int"!==i.pos&&(i.oop&&i.slot.setTargeting("in_view","true"),i.queued=!0,m.push(i.slot)))}window.googletag.cmd.push((()=>{window.location.hash.toLowerCase().includes("blankaddebug")&&m.forEach((e=>{const t=e.getTargetingMap(),i=Object.keys(t);for(let t=0;t<i.length;t++){const n=i[t];(n.includes("hb_")||n.includes("amzn"))&&e.clearTargeting(n)}e.setTargeting("refresh","true"),e.setTargeting("price_floor","30.00")})),(0,c.A)(m)})),window.ramp.passiveMode||((0,a.Ay)("in_content"),(0,a.Ay)("sidebar"),(0,a.Ay)("sticky_sidebar"),(0,a.Ay)("precontent_ad_video"),(0,a.Ay)("rewarded_ad_video"));const f=[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros],y=f.find((e=>"web_interstitial"===e.unit));y&&function(e){window.ramp.settings.slots=window.ramp.settings.slots||{};const t=window.ramp.settings,i=t.slots,s=(0,d.M)(t,e,"ANY");if(!1===s)return;i[e.unit]={};const r=i[e.unit];if(r.config=e,r.rules=s,r.slot=window.googletag.defineOutOfPageSlot(e.code,window.googletag.enums.OutOfPageFormat.INTERSTITIAL),r.slot){n.TH.info("Interstitial is loading.");const e=r.config.path??r.config.section;window.googletag.cmd.push((()=>{(0,l.H)(r),t.slots[p].slot.setTargeting("pos","FIXED"),t.slots[p].slot.setTargeting("slot_id",p),t.slots[p].slot.setTargeting("refresh","false"),t.slots[p].slot.setTargeting("custom_path",e.replace(/CP\[|\]/g,"")),t.slots[p].slot.setTargeting("lld_id",(0,o.t3)()),r.slot.addService(window.googletag.pubads())})),window.googletag.cmd.push((()=>{(0,c.A)([r.slot])}))}}(y);const b=f.find((e=>"web_rewarded_video"===e.unit));if(b&&(n.Ay.info("Loading rewarded module"),i.e(538).then(i.bind(i,5898)).then((({default:e})=>{const t=new e(b);t&&t.init()}))),74640===window?.ramp?.settings?.config?.id&&(0,a.Ay)("rewarded_ad_video"),!window.ramp.passiveMode){const e=f.find((e=>"relevant_article"===e.unit));if(e){new s.A(e).init()}}g.slotReadyTime||(u.startSpying(),g.slotReadyTime=new Date),!0===w.enabled&&"string"==typeof w.selector&&!0!==window.ramp.passiveMode&&i.e(768).then(i.bind(i,852)).then((e=>{new e.ObserverMode(w).init()})),void 0!==g.config.features.video&&void 0!==g.config.features.video.interstitial&&(g.isMobile?n.Ay.info("Interstitial Unit not available on mobile"):(n.Ay.info("Loading interstitial module"),i.e(610).then(i.bind(i,9138)).then((({default:e})=>{const t=new e;t&&t.init()}))))}},2288:(e,t,i)=>{"use strict";i.d(t,{A:()=>p,M:()=>c});var n=i(2140),o=i(5772),s=i(8804),r=i(8900),a=i(9239),d=i(2876),l=i(5134);const c=e=>{const t=`${e.id}2`;if(e.isWaitingForPush)return;e.isWaitingForPush=!0;const i=window.ramp.settings;e.visibleMoreThan2Seconds&&e.visibleMoreThan2Seconds.then((()=>(a.TH.info(`Waiting for scrolling to ${t} is created.`),new Promise((e=>{window.addEventListener("scroll",(()=>{e()}),{once:!0})}))))).then((()=>{(0,s.R)(e.type,!0),(0,n.A)(i,t).then((n=>{const s=window.ramp.settings.slots[t];i.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(t),n&&(0,o.mq)(n),s.pushAdStart=()=>{((e,t)=>{a.TH.info(`Transition for slots ${e} and ${t} started.`);const i=document.getElementById(e),n=document.getElementById(t);i.addEventListener("transitionend",(()=>{const t=window.ramp.settings.slots[e];t&&(0,d.Tz)(t)})),i.classList.add("pw_rail_push_hide"),n.classList.add("pw_rail_push_show")})(e.id,t),delete s.pushAdStart},(0,l.A)([s.slot])})).catch((e=>{a.GE.error("Prebid Auction Error: ",e)}))})).catch((e=>{a.TH.error("Error:",e)}))},p=e=>new Promise((t=>{let i,n,o=0;const s=s=>{i=Date.now()-o,n=setTimeout((()=>{a.TH.info(`2 seconds in view for ${e.id}`);const i=100===(0,r.Sp)(e.element);t(i)}),1e3*s)};document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState?s(2-o/1e3-o/1e3):(clearTimeout(n),o=Date.now()-i)})),s(2)}))},6288:(e,t,i)=>{"use strict";i.d(t,{A6:()=>o,TM:()=>n,f3:()=>s});const n=()=>window.googletag.pubads().getTargetingKeys().reduce(((e,t)=>(e[t]=window.googletag.pubads().getTargeting(t)[0],e)),{}),o=e=>{const t={},i=e.getTargetingMap(),n=Object.keys(i);for(let e=0;e<n.length;e++){const o=n[e];i[o].length&&(t[o]=i[o][0])}return t},s=(e,t)=>{try{if(!e||0===e.length)return;e.forEach((e=>{t.slotID===e.slotID&&(t.bidResponse=e)}))}catch(e){}}},5988:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9239),o=i(2288);function s(e){const t=e=>{Object.keys(e).forEach((t=>{const i=e[t];"left_rail"!==i.type&&"right_rail"!==i.type||window.ramp.hideSlot(i.id)}))},i=()=>!window.ramp.isMobile&&window.innerHeight<900,s=e=>{Object.keys(e).forEach((t=>{const i=e[t];"bottom_rail"===i.type&&window.ramp.hideSlot(i.id)}))},a=()=>{const e=(e,t=window)=>t.ramp?.settings?.slots?.[e]&&(void 0===t.ramp.settings.slots[e].on||!1!==t.tyche.settings.slots[e].on);return window.ramp.isMobile&&(e("corner_ad_video")||e("trendi_video"))},d=()=>{"function"==typeof window.ramp.closeCornerVideo&&window.ramp.closeCornerVideo(),window.ramp.destroyCornerAdVideo()},l=window.ramp.settings,c=e.slotId||e.slot.getSlotElementId().toLowerCase(),p=l.slots[c];if(l.slots.web_interstitial&&e.slot===l.slots.web_interstitial.slot&&(n.HU.info("Web Interstitial loaded."),r()),void 0===p)return!1;!0===p.oop&&p.element.setAttribute("data-pw-status","loaded"),"site_skin"!==p.type&&"behind_page"!==p.type&&"skin"!==p.type.toLowerCase()||t(l.slots),"flex"===p.type&&(window.ramp.flexUnitServed=!0,t(l.slots),i()&&s(l.slots),a()&&d()),"pw-oop-left_rail"!==p.id&&"pw-oop-right_rail"!==p.id&&"bottom_rail"!==p.type||window.ramp.flexUnitServed&&(t(l.slots),i()&&s(l.slots),a()&&d());const{minimumBeforePush:g=1}=p?.rules?.refresh||{};("pw-oop-left_rail"===p.id||"pw-oop-right_rail"===p.id)&&p.refreshes>=g?(0,o.M)(p):p.pushAdStart&&p.id&&p.id.includes("_rail2")&&p.pushAdStart(),"bottom_rail"===p.type&&window.PageOS.BUS.emit("bottom_rail_loaded");try{p.element.querySelector("iframe").ariaLabel="ad"}catch(e){}}const r=()=>{const e=document.querySelector('ins[id*="web_interstitial"]');if(!e)return;new MutationObserver((function(t,i){for(let o=0;o<t.length;o++){const s=t[o];if("attributes"===s.type&&"style"===s.attributeName){const t=s.target.style.visibility;"visible"===t&&(window.PageOS.BUS.after("webInterstitialSloRenderEndedData",(e=>{window.PageOS.dataStream.handleEvent("displayAdImpression",{slotId:e.slotId,impressionData:e.impressionData,amznBid:e.amznBid,size:"1x1",targeting:e.targeting,slotData:e.slotData}),localStorage.setItem("pw_last_interstitial_imp_event",Date.now())})),i.disconnect(e)),n.HU.info(`Web Interstitial visibility change observed: ${t}`)}}})).observe(e,{attributes:!0,childList:!1,subtree:!1})}},2140:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(5772),o=i(5664),s=i(9239),r=i(6238),a=i(4988),d=i(2384),l=i(6288);function c(e,t,i){return new Promise((c=>{const p=e.slots[t],g=e.slots[t].config.headerBids,u=e.headerBidding;e.slots[t].pbjsBid=null,e.slots[t].amazonBid={hasBid:!1};let w=700,m=null,h=null,f=!1;if(!1===e.hbEnabled||!g)return void c();u&&(h=u.order),w=u.timeout,p.config.initialSizes&&(p.config.sizes=p.config.initialSizes);const y=void 0!==p.rules.sizes?p.rules.sizes.slice(0):p.config.sizes.slice(0);let b=!1,_=y.filter((e=>("video"===e[0]&&(b=!0),"fluid"!==e[0]&&"video"!==e[0])));if("left_rail"===p.type||"right_rail"===p.type){_=_.filter((e=>"fluid"!==e[0]&&"video"!==e[0]));const e=(0,o.xp)(p.id,p.type,p.rules);_=(0,n.Tm)(p.id,_,e)}else"sticky_sidebar"===p.type&&(_=p.filteredSizes);if(i){const e=[],{width:t,height:n}=i.parentElement.getBoundingClientRect();for(let i=0;i<_.length;i++)_[i][0]<=t&&_[i][1]<=n&&e.push(_[i]);_=e}if(e.apstagLoaded&&(0,n.MV)(h)&&(0,r.mH)(p)){const i=e.amazonSlots.filter((e=>e.slotID===t)),n=Date.now();if(!i.length&&_.length){const e={};e.sizes=_,e.slotID=t,e.slotName=p.config.code,b&&(0,d.dk)({data:e,bannerSizes:_}),i.push(e),window.ramp.settings.amazonSlots.push(e)}else if("left_rail"===p.type||"right_rail"===p.type)for(let e=0;e<i.length;e++)i[e].sizes=_;i.forEach((e=>{window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionStart",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes+1})})),window.PageOS.apstag.fetchBids(i,w).then((e=>{s.GE.info("Amazon Refresh Bids Back",{time:Date.now()-n,bids:e}),f=e,i.forEach((e=>{(0,l.f3)(f,e),window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionEnd",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes+1})}))}))}for(let e=0;e<window[window.ramp.pbKey].adUnits.length;e++)if(window[window.ramp.pbKey].adUnits[e].code===t){m=window[window.ramp.pbKey].adUnits[e];break}if(null===m&&_.length){(0,r.Ix)(g,e);const i={code:t,mediaTypes:{banner:{sizes:_}},bids:(0,n.Os)({bids:g.bids,order:h,unitSizes:_,isVideoAllowed:b})};b&&(0,d.ty)({data:i,type:p.type,bannerSizes:_}),window[window.ramp.pbKey].addAdUnits([i])}else if(null!==m&&("left_rail"===p.type||"right_rail"===p.type)){p.config.initialSizes=p.config.sizes,p.config.sizes=_,m.mediaTypes.banner.sizes=_,m.bids=(0,n.Os)({bids:g.bids,order:h,unitSizes:_,isVideoAllowed:b});const e=window.googletag.sizeMapping().addSize([1,1],_).build();p.slot.defineSizeMapping(e)}(0,a.h)(t,"Request bids"),m&&m.code&&(m.ortb2Imp=(0,n.IR)(m.code)),window[window.ramp.pbKey].que.push((()=>{window[window.ramp.pbKey].requestBids({adUnitCodes:[t],timeout:w,labels:[e.uuid],bidsBackHandler:()=>{(0,a.h)(t,"Bids back"),c(f)}})}))}))}},1697:(e,t,i)=>{"use strict";i.d(t,{h:()=>M});var n=i(9239),o=i(5772),s=i(1620),r=i(3711);const a=(e,t,i)=>{try{if(l(e),e.element.classList.contains("pw-tps"))return;const n=e.type.split("_")[0];let s=2147483644;"left_rail"!==e.type&&"right_rail"!==e.type||(s=e.rules?.zIndex??s);const r=e.element.style.maxHeight?`max-height: ${e.element.style.maxHeight}`:"",a=e.element.style.maxWidth?`max-width: ${e.element.style.maxWidth}`:"",d="content",c="center",p="edge",g=(e,t,i)=>{const n=e.rules.contentWidth,s=((0,o.dl)()-n)/2,r=e.rules.offset??0,a=s-i;let l=0,p="";switch(e.rules.xAlignment){case d:n&&i&&i+r<=s&&(l=a,p=`margin-${t}: ${0-r}px;`);break;case c:n&&i&&(l=a/2);break;default:i+r<=s&&(p=`margin-${t}: ${r}px;`)}return{placement:l,margin:p}},{placement:u,margin:w}=g(e,n,t);if(e.element.setAttribute("style",`position:fixed;width:auto;height:${i}px;\n            ${n}:${u}px;${w}top:50%;margin-top: -300px;z-index: ${s};\n            border-bottom: 1px solid rgba(55,55,55,0.9);border-top: 1px solid rgba(55,55,55,0.9);\n            border-right:1px solid rgba(55,55,55,0.9);border-left:1px solid rgba(55,55,55,0.9);${r};${a}`),e.rules.xAlignment===p&&("left"===n?e.element.style.borderLeft="none":"right"===n&&(e.element.style.borderRight="none")),void 0===e.rules.closeButton||!0===e.rules.closeButton){const t=document.createElement("div"),i=document.createElement("div");t.classList.add(`pw-siderail-${n}-close`),t.onclick=()=>{e.element.remove(),delete e.width,delete e.height},i.innerHTML=" &times; Close Ad ",i.style.pointerEvents="none",t.appendChild(i),e.element.appendChild(t)}}catch(e){console.error(e)}},d=(e,t=!1)=>{c(e.element,t)&&((0,r.Ub)(e.id),(0,r.ry)([{type:e.type}]).then((()=>{const t=1e3*e.rules.refresh?.rate,i=e.lastRefresh,n=(t||0)-(Date.now()-i);setTimeout((()=>{(0,r.EX)()}),n>0?n:0)})).catch((()=>{(0,r.EX)()})))},l=e=>{window.PageOS.BUS.on("trendi_video_ad_started",(()=>{d(e)}),!0),window.PageOS.BUS.after("corner_video_first_render",(()=>{d(e,!0)}),!0),window.PageOS.BUS.on("rail_position_updated",(()=>{d(e,!0)}),!0)},c=(e,t=!1)=>{const i=t?"corner_ad_video":"tyche_trendi_video_container",n=document.getElementById(i);if(!n||!e)return!1;const o=n.getBoundingClientRect(),s=e.querySelector("iframe[id^='google_ads_iframe_']"),r=s?s.getBoundingClientRect():e.getBoundingClientRect();return!(o.top>r.bottom||o.right<r.left||o.bottom<r.top||o.left>r.right)};var p=i(704),g=i(8861);const u=e=>{const t=window.ramp.settings.slots.trendi_video,i=document.getElementsByClassName("pw-pos-top")[0];void 0!==t&&t.loaded&&"top"===t.mobileLocation&&void 0!==i&&(i.classList.remove("is-docked"),w(e),!e.isSticky&&t.isDocked?(e.element.insertAdjacentElement("afterend",i),i.style.top=0,i.style.position="relative"):("tyche_trendi_parent_container"!==i.parentNode.id&&document.getElementById("tyche_trendi_parent_container").appendChild(i),t.isDocked&&(i.style.top="70px",i.style.position="fixed")))},w=e=>{const t=document.getElementsByClassName("pw-close-btn-top")[0];void 0!==t&&(e.isSticky?(t.classList.remove("pw-close-btn-top--flex"),t.classList.add("pw-close-btn-top--flex-docked"),t.style.position="fixed"):(t.classList.remove("pw-close-btn-top--flex-docked"),t.style.position="absolute"))},m=(e,t)=>{if(window.ramp.settings.roadblockActive)return!1;if(e.config.houseAds){const i=((window.ramp.isMobile?t.rules.mobileSizes:t.rules.desktopSizes)||t.rules.sizes||t.config.sizes).sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let t=0;t<i.length;t++){const n=i[t],o=`${n[0]}x${n[1]}`;if(e.config.houseAds[o])return o}return!1}},h=(e,t)=>{const i=window.ramp.settings,{clickUrl:o,imageSrc:s}=i.config.houseAds[t],r=document.createElement("img");if(r.src=s,r.style.margin="0 auto",r.alt="Playwire House Ad",e.element.innerHTML="",o){const n=document.createElement("a");n.href=i.config.houseAds[t].clickUrl,n.setAttribute("target","_blank"),n.appendChild(r),e.element.appendChild(n)}else e.element.appendChild(r);n.Ay.info("Serving house ad.",{slot:e.id,size:t})};var f=i(884);const y=window.PageOS.dataStream,b=(e,t,i)=>{const n=i,o=e.lineItemId||e.sourceAgnosticLineItemId,s=t.slots[i].pbjsBid?.bidderCode;return`adUnitCode=${n}&creativeId=${t.slots[i].pbjsBid?t.slots[i].pbjsBid?.creativeId:e.creativeId||e.sourceAgnosticCreativeId}&lineItemId=${o}&bidderCode=${s}`},_=e=>{const t=window.ramp.settings,i=e.slot.getSlotElementId().toLowerCase(),o=t.slots[i],s=o&&o.rules.adLabel&&!0===o.rules.adLabel.enabled,r=o&&o.rules.reportAdLink&&!0===o.rules.reportAdLink.enabled,a=!1==!o.rules.pwBranding,d="topAndBottom"===o.rules.background?.styling,l="transparent"===o.rules.background?.styling||!1===o.rules.background,c="in_content"===o.type||"sidebar"===o.type;let p;if((d||l)&&(p=document.createElement("div"),p.className="pw-footer-container-incontent"),s||r){const l="in_content"===o.type||"sidebar"===o.type||"corner_ad_video"===o.type||"precontent_ad_video"===o.type,g=document.createElement("div"),u=document.createElement("span"),w=document.createElement("a"),m='\n                    font-size:10px !important;\n                    font-family:"Open Sans",arial,sans-serif !important;\n                    font-weight: normal !important;\n                    font-style: normal !important;\n                    text-decoration: none !important;\n                ';if(g.setAttribute("class","pw_report_ad_container"),g.setAttribute("style","line-height:normal;display:block;justify-content:center;height:20px"),o.element){let e=o.element,t="beforeend";if(l||o.type.startsWith("standard_iab")){if(!0===o.rules.adContainer&&!0===o.rules.maxHeightEnabled){l&&(e=o.element.parentNode);e.getElementsByClassName("pw_report_ad_container").length>0&&e.getElementsByClassName("pw_report_ad_container").forEach((e=>e.remove()))}t="afterbegin"}const i=v(t,l||o.type.startsWith("standard_iab"),o);e.insertAdjacentElement(i,g),p&&e.insertAdjacentElement("beforeEnd",p)}const h=e=>{let t=!!e.rules?.adLabel?.position&&e.rules.adLabel.position;window.ramp?.override?.settings?.units[e.type]?.adLabelPosition&&(t=window.ramp.override.settings.units[e.type].adLabelPosition);const i=!!e.rules?.reportAdLink?.position&&e.rules.reportAdLink.position;return t&&i},y=h(o),_=o.rules?.reportAdLink?.position,A=o.rules?.adLabel?.position,k=e=>{if(y){const t=window.ramp?.override?.settings?.units[e.type]?.adLabelPosition||e.rules?.adLabel?.position,i=e.rules?.reportAdLink?.position;return t===i}return!1},E=r&&s&&k(o);if(s&&(u.innerHTML=s&&r&&!_||!A&&"bottom"===_||E||a&&!d?"Advertisement&nbsp;|&nbsp;":"Advertisement",u.setAttribute("style",`color: ${o.rules.adLabel.color};${m};user-select:none;`),g.appendChild(u),g.style.display="block",g.style.textAlign="center","bottom_rail"===o.type&&!o.element.hasAttribute("data-ad-label-height-loaded"))){const e=g.querySelector("span").offsetHeight,t=parseInt(o.element.style.maxHeight,10)+e+parseInt(o.element.style.paddingTop,10);o.element.style.maxHeight=`${t}px`,o.element.setAttribute("data-ad-label-height-loaded","true")}if(a&&!d&&c){const e=(0,f.K)(!0);if(g.insertAdjacentElement("beforeend",e),r){const t=document.createElement("span");t.innerHTML="&nbsp;|&nbsp;",t.setAttribute("style",`color: ${o.rules.adLabel.color};${m};user-select:none;`),e.insertAdjacentElement("afterend",t)}}if(r){if(t.config.settings.adLightning&&!0===t.config.settings.adLightning){n.Ay.info(`AdLighting enabled for ${i}`);const t=`adl_${i}`,s=document.createElement("div"),r={adlAction:"createUserReportButton",selector:`#${t}`,uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:i};document.getElementById(t)&&g.remove(),g.id=t,g.appendChild(s),s.className="adl-report-ad-container",s.setAttribute("style","display:inline;"),o.element&&window.postMessage(r,"*"),((e,t)=>{(t=e.createElement("style")).innerHTML=`.adl-report-ad-container > button {\n                                color: red !important;\n                                ${m};\n                                display: inline !important;\n                                margin: 0 !important;\n                                padding: 0 !important;\n                                color: ${o.rules.reportAdLink.color} !important;\n                            }\n                            #adl-ad-report-modal {\n                                z-index: 2147483646 !important;\n                            }`,e.head.appendChild(t)})(document),!o.oop||l||_||S(g,o,!0)}else{w.id=`report_ad_${i}`,w.href="#",w.setAttribute("class","playwire_report_ad_link"),w.innerHTML="Report Ad",w.setAttribute("style",`color: ${o.rules.reportAdLink.color} !important; ${m}`),w.onclick=e=>{e.preventDefault(),((e,t)=>{e.slots[t].formInView=!0,void 0!==e.slots[t].newSrc&&!1!==e.slots[t].newSrc&&(document.getElementById(`report_form_${t}`).setAttribute("src",e.slots[t].newSrc),e.slots[t].newSrc=!1),document.getElementById(`report_modal_${t}`).setAttribute("class","report_ad_modal report_ad_modal_show")})(t,i)};if(window.location.href.toLowerCase().indexOf("coolmathgames")>-1&&w.setAttribute("role","button"),g.appendChild(w),_)if(y&&!E||!s){const e=o.rules?.reportAdLink?.position;w.style.display="block",o.element.getElementsByClassName("playwire_report_ad_link").forEach((e=>e.remove())),"bottom"===e?o.element.insertAdjacentElement("beforeend",w):o.element.insertAdjacentElement("afterbegin",w)}else g.appendChild(w);!o.oop||l||_||S(g,o),null!==o.element.querySelector(".pw_report_ad_container")||o.rules.maxHeightEnabled||o.element.appendChild(g),((e,t,i)=>{const n="https://cdn.intergient.com/pageos/V.2.4.34/adReport/",o=`${n}form.html?${b(e,t,i)}`;let s=document.getElementById(`report_form_${i}`);if(null!==s){if(void 0!==t.slots[i].formInView&&!1!==t.slots[i].formInView)return void(t.slots[i].newSrc=o)}else{s=document.createElement("iframe");const e=document.createElement("link"),t=document.createElement("div"),o=document.createElement("div"),r=document.createElement("span"),a=document.createElement("img");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",`${n}form.css`),document.head.appendChild(e),t.setAttribute("id",`report_modal_${i}`),t.setAttribute("class","report_ad_modal"),o.setAttribute("class","report_ad_modal-content"),t.appendChild(o),r.setAttribute("class","report_ad_close"),o.appendChild(r),a.setAttribute("src",`${n}close-button.svg`),r.appendChild(a),s.setAttribute("width","320px"),s.setAttribute("height","492px"),s.setAttribute("scrolling","no"),s.setAttribute("id",`report_form_${i}`),o.appendChild(s),document.body.appendChild(t)}t.slots[i].newSrc=o,document.getElementById(`report_modal_${i}`).addEventListener("click",(e=>{e.preventDefault(),document.getElementById(`report_modal_${i}`).setAttribute("class","report_ad_modal"),t.slots[i].formInView=!1}))})(e,t,i)}l&&(g.style.width="100%",g.style.textAlign="center",g.dataset.pwInArticle=!0)}if(c&&d){const e=o.rules?.background?.weight||"1px",t=o.rules?.background?.color||"#122043";g.style.display="flex",g.style.alignItems="center",g.style.lineHeight="unset";const i=document.createElement("div");i.classList.add("pw-border-incontent-after"),i.style.height=e,i.style.backgroundColor=t;const n=i.cloneNode(!0);a||(n.style.marginLeft="0"),g.appendChild(i);const s=document.createElement("div");s.classList.add("pw-border-incontent-before"),s.style.height=e,s.style.backgroundColor=t;const r=s.cloneNode(!0);a||(r.style.marginRight="0"),g.insertBefore(s,g.firstChild),a&&p.appendChild((0,f.K)(!0)),p.appendChild(n),p.insertBefore(r,p.firstChild)}if(("leaderboard"===o.type||"med_rect"===o.type)&&0===o.refreshes){const e=g.offsetHeight,t=g.parentNode,i=parseInt(t.style.maxHeight.replace(/px/g,""),10);t.style.maxHeight=`${i+e}px`}const I=r&&_,P=s&&A;if("left_rail"===o.type||"right_rail"===o.type){let e=0;if(P&&I&&!E)e=40;else if(P||I){e=20;const t=P?o.element.getElementsByClassName("playwire_report_ad_link")[0]:o.element.getElementsByClassName("pw_report_ad_container")[0];t&&(t.style.height=0)}const t=parseFloat(o.element.style.maxHeight)||0,i=parseFloat(o.element.style.height)||0;o.element.style.maxHeight=`${t+e}px`,o.element.style.height=`${i+e}px`}}},v=(e,t,i)=>{if(!0===i.rules.adContainer)e=t?"afterbegin":"beforebegin";else switch(i.type){case"in_content":case"sidebar":e="beforeend";break;case"sticky_sidebar":e=t?"afterbegin":"beforebegin"}let n=e,o=i.rules?.adLabel?.position?i.rules.adLabel.position:"";switch(window.ramp?.override?.settings?.units&&window.ramp.override.settings.units[i.type]?.adLabelPosition&&(o=window.ramp.override.settings.units[i.type].adLabelPosition),o){case"top":n="afterbegin";break;case"bottom":n="beforeend"}return n},S=(e,t,i)=>{"bottom_rail"===t.type&&(e.style.top=i?"0":"3px",e.style.left="0",e.style.right="0",e.style.position="absolute",e.style.textAlign="left",e.style.display="block",e.style.width=`${t.width}px`,e.style.margin="0 auto",t.element.style.paddingTop="20px",t.element.style.height=`${parseInt(t.height,10)+20}px`,t.element.style.boxSizing="border-box"),"left_rail"!==t.type&&"right_rail"!==t.type||(e.style.position="absolute",e.style.left="0px",e.style.bottom=i?"-20px":"-16px",e.style.width="100%")};window.addEventListener("message",(e=>{try{const{type:t,data:i}=JSON.parse(e.data);"reportAdLink"===t&&(e=>{e.report_ad_id=y.randomUuid("reportAdLink"),y.handleEvent("reportAdForms",e)})(i)}catch(e){}}));var A=i(2288),k=i(6396),E=i(4988),I=i(8900);const P=e=>{try{const t=e.rules.dockAndStick;if(void 0===t||!0!==t.enabled)return;const i=t.stickDuration,o=(new Date).getTime();null===e.sticky&&(e.sticky={time:0,top:t.topOffset,stickyTimer:null,on:!!e.element.classList.contains("pw-sticky")}),n.Ay.info("Sticky Debug",e.sticky),e.sticky.stickyTimer=setInterval((()=>{!0!==e.rules.dockAndStick&&clearInterval(e.sticky.stickyTimer),e.inView&&(e.sticky.time=(new Date).getTime()-o),!1===e.inView&&!1===e.sticky.on&&e.sticky.time<i&&(e.sticky.on=!0,e.element.classList.add("pw-sticky")),!1===e.inView&&!0===e.sticky.on&&e.sticky.time>=i&&(e.sticky.on=!1,e.rules.dockAndStick=!1,e.element.classList.remove("pw-sticky")),!0===e.inView&&!0===e.sticky.on&&e.sticky.time>=i&&(e.sticky.on=!1,e.rules.dockAndStick=!1,e.element.classList.remove("pw-sticky"))}),25),n.Ay.info(`Sticky Event: Sticky Activated For ${e.id}`,e.sticky)}catch(e){console.error(e)}},O=e=>(window.location.href.toLowerCase().indexOf("redfin")>-1||74075===window.ramp.settings.config.id||74114===window.ramp.settings.config.id)&&e.size&&0===e.size[0]&&0===e.size[1],x=(e,t)=>!!window.ramp.settings.roadblockActive||(!!e||(!(!t.refresh||!0!==t.refresh.blankAdRefresh)||!(!t.refresh||!t.refresh.blankAdSetting)&&"never"!==t.refresh.blankAdSetting)),C=e=>e.refresh&&e.refresh.blankAdSetting?e.refresh.blankAdSetting:"immediately";function M({e,adRequestStart:t,tycheStartTime:i}){try{(0,o.aE)("domLoading_to_firstSlotsRendered",window.performance.timing.domLoading),(0,o.aE)("firstSlotsRequested_to_firstSlotsRendered",t),(0,o.aE)("tycheStart_to_firstSlotsRendered",i);let r=!1;const d=window.ramp.settings,l=e.slot.getSlotElementId(),c=d.slots[l],f=(0,o.al)("blank"),y=parseInt((0,o.al)("refresh"),10),b=window.location.href.toLowerCase().indexOf("coolmathgames")>-1;if(void 0===c)return!1;"bottom_rail"===c.type&&window.PageOS.BUS.emit("bottom_rail_rendered"),c.isEmpty=e.isEmpty,!e.isEmpty&&c.element&&k.A.unobserve(c.element),c.rules.heightReport=c.rules.adLabel?.enabled||c.rules.reportAdLink?.enabled?20:0,c.lastRenderedTime=Math.round(Date.now());const v=x(b,c.rules),S="immediately"===C(c.rules);d.slotsRendered++;const M=window.PageOS.dmp||{};if(M.ready&&M.addImpressionEventId&&e.lineItemId){const t=M.addImpressionEventId(e.lineItemId);t&&window.googletag.pubads().setTargeting("dmp_ids",t.join(","))}if(!0===c.rules.showLoader){const e=c.element.parentElement.querySelector("div.pw-loading-spinner");e&&(e.style.display="none")}if(f&&!isNaN(y)&&c.id===f&&c.refreshes===y&&(e.isEmpty=!0),e.isEmpty&&(n.Ay.warn("Blank ad",{slot:l}),r=m(d,c)),!1===e.isEmpty||r){if(c.blankRefreshed=!1,e.isEmpty&&r&&(h(c,r),v||(c.refreshBlocked=!0)),c.imps++,e.size){if(c.size=e.size,"sticky_sidebar"===c.type&&c.pwLogoElement){c.pwLogoElement.style.display="block";const e=c.element.querySelector("iframe[id^='google_ads_iframe_'], iframe[id^='pw_ads_iframe_']");if(e){let t=e.clientWidth;const i=c.element.clientWidth;let n=i/2-t/2;new MutationObserver((o=>{o.forEach((o=>{"width"===o.attributeName&&(t=e.clientWidth,n=i/2-t/2,n<i&&(c.pwLogoElement.style.right=`${parseInt(n,10)}px`))}))})).observe(e,{attributes:!0}),n<i&&(c.pwLogoElement.style.right=`${parseInt(n,10)}px`)}}}else r&&(c.size=r.split("x"));if(!1===e.isEmpty&&O(c))try{n.Ay.info("Native Ad: Styles are applied"),c.refreshBlocked=!0,["med_rect_atf","med_rect_btf","med_rect_btf2"].includes(l)&&window._rfAdManager&&window._rfAdManager.getAdUnitByRampPlacementId(l)&&window._rfAdManager.getAdUnitByRampPlacementId(l).setState({isNative:!0})}catch(e){n.Ay.error(`Native Ad Error: ${e}`)}const t=window.PageOS.userData;if(t&&t.ready){t.updateUserTrackingData("adImpressions");const e=t.getUserBehavior();0!==e.adClickRate&&window.googletag.pubads().setTargeting("ad_click_rate",e.adClickRate.toString())}c.element.classList.contains("pw-ph-leaderboard")&&c.element.classList.remove("pw-ph-leaderboard");const i=window.PageOS.adUtils?window.PageOS.adUtils.getAdLocation(c.element):{};if(i.abs_dist_left&&c.slot.setTargeting("abs_dist_left",i.abs_dist_left),i.abs_dist_top&&c.slot.setTargeting("abs_dist_top",i.abs_dist_top),i.rel_dist_bottom&&c.slot.setTargeting("rel_dist_bottom",i.rel_dist_bottom),i.rel_dist_left&&c.slot.setTargeting("rel_dist_left",i.rel_dist_left),void 0!==c.rules.sticky&&!0===c.rules.sticky&&"med_rect"===c.type&&(0,g.Kv)(c),"in_content"===c.type){c.originalStyles&&(c.element.parentElement.style.width=c.originalStyles.width,c.element.parentElement.style.marginLeft=c.originalStyles.marginLeft,c.element.style.width=c.originalStyles.width);let e=c.pbjsBid?c.pbjsBid.size:c.size;if(e=Array.isArray(e)?e:e.split("x"),Array.isArray(e)&&e[0]>c.element.clientWidth){c.originalStyles={width:c.element.parentElement.style.width,marginLeft:c.element.parentElement.style.marginLeft};const t=e[0]-c.element.clientWidth;c.element.parentElement.style.width=`${e[0]}px`,c.element.parentElement.style.marginLeft=`-${t}px`,c.element.style.width=`${e[0]}px`}}if("standard_iab"===c.type&&P(c),"bottom_rail"===c.type&&(0,p.q5)(c,c.size[0],c.size[1]),"left_rail"===c.type||"right_rail"===c.type){const e=c.element.querySelector("iframe[id^='google_ads_iframe_'], iframe[id^='pw_ads_iframe_']");(e=>{new MutationObserver((()=>{window.PageOS.BUS.emit("rail_position_updated")})).observe(e,{attributes:!0,childList:!0,subtree:!0})})(c.element);const t=e?e.clientWidth:c.size[0],i=e?e.clientHeight:c.size[1];if(a(c,t,i),"pw-oop-left_rail"===c.id||"pw-oop-right_rail"===c.id){const{minimumBeforePush:e=1}=c?.rules?.refresh||{};c.refreshes>=e&&(c.visibleMoreThan2Seconds=(0,A.A)(c))}}"flex_leaderboard"!==c.type&&"flex"!==c.type||function(e){try{const t=window.ramp.settings.device,i=e.rules.reportAdLink&&!0===e.rules.reportAdLink.enabled,n=window.matchMedia("(max-width: 654px)"),o=Math.max(document.documentElement.clientWidth,window.innerWidth||0);e.isSticky=!1;let s="desktop"===t&&o>654?100:147,r="desktop"===t&&o>654?350:210,a="desktop"===t&&o>654?100:70;s=i?s+14:s,e.element.style.height=e.isSticky?`${a}px`:`${r}px`,e.element.parentNode.style.height=i?`${r+14}px`:`${r}px`,e.element.setAttribute("style","width: 100%;z-index: 9999999999;height: auto;position: relative;"),u(e),window.PageOS.BUS.on("trendi_video_top_docked",(()=>{u(e)}),!1),window.PageOS.BUS.on("corner_ad_video_top_docked",(()=>{u(e)}),!1),window.PageOS.BUS.on("close_btn_built",(()=>{w(e)}),!1);const d=t=>{t.matches?(r=210,a=70,s=147):(r=350,a=100,s=100),s=i?s+14:s,e.element.style.height=e.isSticky?`${a}px`:`${r}px`,e.element.firstChild.style.height=e.isSticky?`${a}px`:`${r}px`,e.element.parentNode.style.height=i?`${r+14}px`:`${r}px`,e.heightSticky=a,window.PageOS.BUS.emit("flex_leaderbaord_resized",a)};let l;n.addListener(d);const c=e.rules.secondsBeforeCollapse,p={root:null,rootMargin:`-${s}px`},g=new IntersectionObserver((t=>{t[0].isIntersecting?(clearTimeout(l),e.element.style.position="relative",e.element.firstChild.style.height=`${r}px`,e.element.style.height=`${r}px`,e.element.style.maxHeight=`${r}px`,e.isSticky=!1,u(e)):l=setTimeout((()=>{e.element.style.position="fixed",e.element.firstChild.style.height=`${a}px`,e.element.style.height=`${a}px`,e.element.style.maxHeight=`${a}px`,e.isSticky=!0,u(e)}),c),e.heightSticky=a,window.PageOS.BUS.emit("flex_leaderbaord_resized",a)}),p);return g.observe(e.element.parentNode),g}catch(e){console.error(e)}}(c),c.element.classList.contains("pw-in-article_hidden")&&(c.element.classList.remove("pw-in-article_hidden"),c.element.classList.add("pw-in-article"));const o="Ad response";(0,E.h)(l,o),_(e),(0,s.UM)(l),"flex"===c.type&&(c.element.parentElement.classList.remove("gumgum-accommodate"),c.pbjsBid&&"gumgum"===c.pbjsBid.bidderCode&&c.element.parentElement.classList.add("gumgum-accommodate"))}else if(v){if(!c.blankRefreshed&&S)return c.slot.setTargeting("bbaar","true"),c.blankRefreshed=!0,n.VB.debug("Refreshing on blank ad",{slot:l,rules:c.rules}),void(0,s.Zx)(l);c.slot.setTargeting("bbaar","false"),c.blankRefreshed=!1,"in_content"===c.type&&T(c),(0,s.UM)(l)}else{const e=d.slots[l],t=e.size,i=e.viewability,n=window.PageOS.metrics.getStandardSlotSize(e.type,d.isMobile);if(n){e.size=n;const t=(0,I.Sp)(e.element);e.viewability=t}const s="Blank ad";(0,E.h)(l,s),n&&(e.size=t,e.viewability=i),"in_content"===e.type&&T(e),(0,o.$8)(d,l)}!0===c.oop&&"bottom_rail"!==c.type&&c.element.setAttribute("data-pw-status","rendered"),d.hbEnabled&&window[window.ramp.pbKey].triggerUserSyncs()}catch(e){console.error(e)}}const T=e=>{let t=e.element;e.element.parentElement?.classList.contains("pw-ad-scroll-container")&&(t=e.element.parentElement),t.classList.contains("pw-hide-in-content-out-of-view")&&t.classList.remove("pw-hide-in-content-out-of-view");const i=(0,I.Sp)(t);0===i||isNaN(i)?(n.Ay.info(`Hidding slot ${e.id}, viewability is ${i} after blank ad`),t.classList.add("pw-hide-in-content-out-of-view")):n.Ay.info(`Don't hide slot ${e.id}, viewability is ${i} after blank ad`)}},791:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(8900),o=i(7350),s=i.n(o),r=i(5134);class a{constructor(){this.settings=window.ramp.settings}handleViewable(e){"pw-oop-left_rail2"!==e&&"pw-oop-right_rail2"!==e&&window.googletag.cmd.push((()=>{this.settings.slots[e].slot.setTargeting("in_view","true"),(0,r.A)([this.settings.slots[e].slot])}))}lazySpy(){const e=this.settings,t=Object.keys(e.slots);for(let i=0;i<t.length;i++){const o=t[i],s=e.slots[o];if(void 0===s.videoType&&!0===s.lazy){(0,n.Mo)(s)&&(s.lazy=!1,s.queued=!0,this.handleViewable(o))}}}startSpying(){window.addEventListener("scroll",s()(this.lazySpy.bind(this),16.67),!0),this.lazySpy()}}},8861:(e,t,i)=>{"use strict";i.d(t,{Kv:()=>a,Rk:()=>r});var n=i(9239),o=i(7350),s=i.n(o);const r=e=>{!0===e.rules.sticky&&!1===e.firstView&&"med_rect"!==e.type&&(e.firstView=!0,l(e))},a=e=>{n.Ay.info("Sticky Sidebar Init");try{if(e.element.offsetHeight>250)return;const t=d(e),i=e.element.getBoundingClientRect().left,o=e.element.offsetTop,r=()=>{if(!1===e.rules.sticky)return;const i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(e.viewability<50&&!e.element.classList.contains("pw-sticky")&&(n.Ay.info("Sticky Sidebar: Out of View."),e.element.classList.add("pw-sticky"),e.element.style.top=null===a?"0px":`${a.offsetHeight}px`),t.getBoundingClientRect().bottom-e.element.offsetHeight<=0){const i=t.getBoundingClientRect().bottom-e.element.offsetHeight;e.element.style.top=`${i}px`}i<=o+e.element.offsetHeight&&(e.element.style.top="0px",e.element.classList.remove("pw-sticky"))};let a=null,l=null;if(!1===t)return;if(e.element.style.left=`${i}px`,n.Ay.info("Sticky Sidebar Debug: Rules",e.rules),l=e.rules.nav,void 0!==l&&""!==l&&document.querySelectorAll(l).length>0){n.Ay.info("Sticky Sidebar DEBUGGER"),a=document.querySelectorAll(l)[0];const t=""===window.getComputedStyle(a).zIndex?2147483647:parseInt(window.getComputedStyle(a).zIndex,10)-1;e.element.style.zIndex=t,e.element.style.top=`${a.offsetHeight}px`,n.Ay.info("Sticky Sidebar Debug: Nav Style",`${a.offsetHeight}px`)}window.addEventListener("scroll",s()(r,16.67))}catch(e){n.Ay.info("STICKY Sidebar Error",e)}},d=e=>{const t=e.rules.container;if(void 0!==t&&""!==t){let e=!1;if("#"===t.charAt(0))e=document.getElementById(t.substr(1))||!1;else if("."===t.charAt(0)){const i=document.getElementsByClassName(t.substr(1));i.length>0&&(e=i[0])}return!1===e&&n.Ay.info("Sticky Unit Error: No Container Found For Selector",t),e}return n.Ay.info("Sticky Unit: No Container Specified"),!1},l=e=>{try{const t=4e3,i=(new Date).getTime(),o=d(e);if(null===e.sticky&&(e.sticky={time:0,top:e.element.offsetTop,left:o?o.getBoundingClientRect().left:e.element.getBoundingClientRect().left,stickyTimer:null,on:!!e.element.classList.contains("pw-sticky"),contain:o},"med_rect"===e.type&&(e.element.style.left=e.sticky.left-10+"px")),"med_rect"===e.type&&!1===o)return;n.Ay.info("Sticky Debug",e.sticky),e.sticky.stickyTimer=setInterval((()=>{if(!0!==e.rules.sticky&&clearInterval(e.sticky.stickyTimer),e.inView){const t=(new Date).getTime();e.sticky.time=t-i}!1===e.inView&&!1===e.sticky.on&&e.sticky.time<t&&(e.sticky.on=!0,e.element.classList.add("pw-sticky")),!1===e.inView&&!0===e.sticky.on&&e.sticky.time>=t&&(e.sticky.on=!1,e.rules.sticky=!1,e.element.classList.remove("pw-sticky")),!0===e.inView&&!0===e.sticky.on&&e.sticky.time>=t&&(e.sticky.on=!1,e.rules.sticky=!1,e.element.classList.remove("pw-sticky"))}),25),n.Ay.info(`Sticky Event: Sticky Activated For ${e.id}`,e.sticky)}catch(e){console.error(e)}}},6405:(e,t,i)=>{"use strict";i.d(t,{N7:()=>o,Oq:()=>d,Os:()=>a,Tz:()=>n,_y:()=>r,kk:()=>s});const n=["behind_page","in_image","above_page","top_rail","bottom_rail","right_rail","left_rail","INIMG","SKIN","flex_leaderboard","site_skin","flex"],o=["behind_page","in_image","above_page","top_rail","bottom_rail","right_rail","left_rail","INIMG","SKIN","flex_leaderboard","flex"],s=["leaderboard","med_rect","sky","320x50"],r=["tyche_af829a9c-fa98-4b60-b61b-f930e2cd5fcb","tyche_c955b8f4-a911-4eff-b20f-d4c64b53c7e9","tyche_2ce70a28-2179-4dbf-b77a-f9342a82399c","tyche_b61bf930-e2cd-4fcb-8307-59010ad5913c"],a=/widget server|googlebot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub\.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum\.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail\.RU_Bot|discobot|heritrix|findthatfile|europarchive\.org|NerdByNature\.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net\.com\.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler\.com|siteexplorer\.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e\.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf\.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive\.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis/i,d='.pw-tag { text-align: center; opacity: 1}.pw-oop-tag {width: 1px; height: 1px; line-height:1px; position: fixed}.pw-tag-hidden { visibility: hidden; opacity: 0}.pw-in-article { padding: 20px 0; }.pw-in-article--size-logic__container { padding: 20px 0; }.pw-in-article--size-logic__container .pw-in-article { padding: 0; }.pw-in-article--size-logic {max-height: 500px;overflow: hidden;position:relative;} .pw-standardIAB-tag { margin: 10px 0; padding-bottom: 10px!important;}.pw-standardIAB--size-logic {max-height: 400px;overflow: hidden;position: relative;} .pw-in-article--size-logic::-webkit-scrollbar {display: none;} .pw-in-article_hidden { visibility: hidden; height:0; }.pw-sticky { position: sticky; top: 0; padding: 0 }.pw-sticky-corner #pw-close-video-container { display: none!important} .pw-sticky-corner { margin: 10px auto!important; top: 0px; z-index: unset!important; }div.pw-loading-spinner {text-align:center;width:100%;position: absolute;top: 0;left: 0;height: 100%;display: flex;justify-content: center;align-items: center;}div.pw-loading-spinner-gif {height: 100px;width: 100px;background-image:url(https://cdn.intergient.com/assets/pw_loading_icon.gif);background-repeat: no-repeat;background-size: contain;}div.pw-ad-container-logo {margin: 0 5px 5px 0;}.pw-fixed-mobile-leaderboard{ position: fixed;bottom: 0px;left: 50%;width: 320px;height:50px;margin-left:-160px;z-index: 2147483645;text-align: center;padding: 2px 0;background: rgba(0, 0, 0, 0.8);transition: opacity .6s ease-in}.fixed-mobile-close { cursor: pointer;border-top: 1px solid rgba(0,0,0,0.35);border-left: 1px solid rgba(0,0,0,0.35);border-right: 1px solid rgba(0,0,0,0.35);border-radius: 4px 4px 0 0; padding: 3px 6px 3px 6px;position: absolute; top: -22px; right: -1px; z-index: -1;background-color: rgba(0,0,0,0.55);box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2);color: rgba(255,255,255,0.75);line-height: 1.2;font-size: 12px;font-family: Helvetica,Arial,sans-serif;-webkit-transition: all .5s ease-out;-moz-transition: all .5s ease-out;-o-transition: all .5s ease-out;transition: all .5s ease-out;}.pw-siderail-left-close { cursor: pointer;border-top: 1px solid rgba(0,0,0,0.35);border-left: 1px solid rgba(0,0,0,0.35);border-right: 1px solid rgba(0,0,0,0.35);border-radius: 4px 4px 0 0; padding: 3px 6px 3px 6px; position: absolute;top: -22px; left: -1px; z-index: -1; background-color: rgba(0,0,0,0.55);box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2);color: rgba(255,255,255,0.75);line-height: 1.2;font-size: 12px;font-family: Helvetica,Arial,sans-serif;-webkit-transition: all .5s ease-out;-moz-transition: all .5s ease-out;-o-transition: all .5s ease-out;transition: all .5s ease-out;}.pw-siderail-right-close { cursor: pointer;border-top: 1px solid rgba(0,0,0,0.35);border-left: 1px solid rgba(0,0,0,0.35);border-right: 1px solid rgba(0,0,0,0.35);border-radius: 4px 4px 0 0; padding: 3px 6px 3px 6px; position: absolute;top: -22px; right: -1px; z-index: -1; background-color: rgba(0,0,0,0.55);box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2);color: rgba(255,255,255,0.75);line-height: 1.2;font-size: 12px;font-family: Helvetica,Arial,sans-serif;-webkit-transition: all .5s ease-out;-moz-transition: all .5s ease-out;-o-transition: all .5s ease-out;transition: all .5s ease-out;}div[data-pw-desk="leaderboard_atf"].pw-sticky,div[data-pw-mobi="leaderboard_atf"].pw-sticky { z-index: 2147483645;position: fixed; top:0px; left:0px; width: 100%; padding: 20px 0;background: rgba(0,0,0,.2);overflow:hidden;transition: 750ms opacity ease-out;opacity: 1;border-bottom: 1px solid rgba(238, 238, 238, 0.4)}div[data-pw-desk="med_rect_atf"].pw-sticky { z-index: 2147483644;position: fixed; width: 300px; padding: 0; background: transparent;overflow:hidden;transition: 750ms opacity ease-out;opacity: 1;border-bottom: 20px solid #fff;border-top: 20px solid #fff}.pws-sticky:before {z-index: -1;-webkit-filter: blur(34px);width: 100%;height: 100%;content: "";position: absolute;top: 0px;left: 0px;background: rgba(0,0,0,.5);}.pw-sticky-hide{opacity: 0%;}#pw-oop-behind_page { z-index: 0}#pw-oop-site_skin { z-index: 0}#pw-oop-above_page { z-index: 2147483647}#pw-oop-top_rail { top: 0px; left:0px}#pw-oop-left_rail, #pw-oop-left_rail2  { left: 0px; top: 0px; position: fixed; box-sizing: content-box;height:600px}#pw-oop-right_rail, #pw-oop-right_rail2 { right: 0px; top: 0px; position: fixed; box-sizing: content-box;height:600px}.pw-tps{ display: none }#pw-oop-left_rail2, #pw-oop-right_rail2 {opacity: 0; }#tycheConsole{ background-color: #fff; border-top: 1px solid;font-family: Arial, Helvetica, sans-serif; font-size: 12px;position: fixed; bottom: 0; width: 100%; padding: 0 2% 2% 2%;z-index: 9999999999; box-sizing: border-box}#tycheConsole a:visited{ color: rgb(52, 152, 219) }#tycheConsole li:hover{background: rgba(52, 152, 219,.26)}.ad__name{ display:inline-block; width: 15%; font-weight:bold;}div[data-pw-desk="leaderboard_atf"] > div > iframe { margin:auto; }#pw-oop-bottom_rail > div > iframe { margin:auto; }.pw_rail_push_hide {transform: translateY(-250%); transition: 2s; }.pw_rail_push_show { opacity: 1; animation: showDiv 1s forwards; }@keyframes showDiv { 0% {transform: translateY(1000%); } 100% { transform: translateY(0);  opacity: 1; } }#video_backfill {position: relative; top: 50%; transform: translateY(-50%); -ms-transform: translateY(-50%);z-index: 11}#video_backfill > .pw_report_ad_container { display: block}.pw-ad-container-hidden { background-image: none !important; }.pw-corner-ad-video.pw-hide {display: none}.pw-top-docked .pw-custom-ima-container {border-radius: 0!important;}#pw-oop-bottom_rail.pw-tag.pointer-modifier {pointer-events: none; border-top: unset !important;}.pw-corner-ad-video-container {width: 100%;height:100%;max-height:100%}.pw-clearfix{clear:both}.pw-border-incontent-before { flex-grow: 1; margin-right: 10px; }.pw-border-incontent-after { flex-grow: 1; margin-left: 10px; } .pw-footer-container-incontent { display: flex; align-items: center; position: absolute; bottom: 0; width: 100%; height: 1px;}.pw-precontent-ad-video {background: rgba(0,0,0,0);position: relative;top: 0;left: 0;border-radius:8px;}#precontent_ad_video {left: 50%;transform: translate(-50%, 0);margin: 0!important}.pw-precontent-ad-video.pw-hide {display: none!important}.pw-precontent-ad-video-container {width: 100%;height:100%;max-height:100%}.pw-precontent-ad-video-loader {position: relative!important;border-radius:8px;}.pw-three-bounce,.pw-three-bounce:before,.pw-three-bounce:after {animation: load7 1.8s infinite ease-in-out;border-radius: 50%;height: 30px!important;-webkit-animation-fill-mode: both;animation-fill-mode: both;-webkit-animation: load7 1.8s infinite ease-in-out;width: 30px!important;}.pw-three-bounce {font-size: 10px;position: absolute!important;top: 50%;left: 50%;transform: translate(-50%, -50%);text-indent: -9999em;-webkit-transform: translateZ(0);-ms-transform: translateZ(0);transform: translateZ(0);-webkit-animation-delay: -0.16s;animation-delay: -0.16s;}.pw-three-bounce:before,.pw-three-bounce:after {content: "";position: absolute;top: 0;}.pw-three-bounce:before {left: -42px;-webkit-animation-delay: -0.32s;animation-delay: -0.32s;}.pw-three-bounce:after {left: 42px;}@-webkit-keyframes load7 {0%,80%,100% { box-shadow: 0 30px 0 -15px; }40% { box-shadow: 0 30px 0 0; }}@keyframes load7 {0%,80%,100% { box-shadow: 0 30px 0 -15px; }40% { box-shadow: 0 30px 0 0; }}.pw-rotating-plane {width: 40px;height: 40px;position: absolute!important;top: 50%;left: 50%;transform: translate(-50%, -50%);-webkit-animation: sk-rotateplane 1.2s infinite ease-in-out;animation: sk-rotateplane 1.2s infinite ease-in-out}@-webkit-keyframes sk-rotateplane {0% { -webkit-transform: perspective(120px) }50% { -webkit-transform: perspective(120px) rotateY(180deg) }100% { -webkit-transform: perspective(120px) rotateY(180deg)  rotateX(180deg) }}@keyframes sk-rotateplane {0% {transform: perspective(120px) rotateX(0deg) rotateY(0deg);-webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg)} 50% {transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);-webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg)} 100% {transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);}}.pw-rectangle-bounce {width: 60px;height: 60px;text-align: center;font-size: 10px;position: absolute!important;top: 50%;left: 50%;transform: translate(-50%, -50%);}.pw-rectangle-bounce > div {height: 100%;width: 8px;margin-right: 4px;display: inline-block;-webkit-animation: stretchdelay 1.2s infinite ease-in-out;animation: stretchdelay 1.2s infinite ease-in-out;}.pw-rectangle-bounce #rect2 {-webkit-animation-delay: -1.1s;animation-delay: -1.1s;}.pw-rectangle-bounce #rect3 {-webkit-animation-delay: -1.0s;animation-delay: -1.0s;}.pw-rectangle-bounce #rect4 {-webkit-animation-delay: -0.9s;animation-delay: -0.9s;}.pw-rectangle-bounce #rect5 {-webkit-animation-delay: -0.8s;animation-delay: -0.8s;}@-webkit-keyframes stretchdelay {0%, 40%, 100% { -webkit-transform: scaleY(0.4) }20% { -webkit-transform: scaleY(1.0) }}@keyframes stretchdelay {0%, 40%, 100% {transform: scaleY(0.4);-webkit-transform: scaleY(0.4);}  20% {transform: scaleY(1.0);-webkit-transform: scaleY(1.0);}}.pw-hide-in-content-out-of-view {display: none; visibility: hidden}.pw-ignore-content-width-restrictions {overflow: visible!important}.playwire_report_ad_link {height: 20px;}#corner_top-docked_parent_container {background-color: #000000;width: 100vw; margin-left: calc(-50vw + 50%); border-radius: unset!important; z-index: 99999999999;}.pw-top-docked {margin:0!important; background-color: rgba(0, 0, 0, 0.9);height:100%!important;width:100%!important; position: relative; max-width: 100%;}#corner_top-docked_parent_container.pw-sticky-video-wrapper {z-index: 99999999999; display: flex; justify-content: center; width: 100%!important; height: auto!important; margin: 0!important; left: 0;}#corner_top-docked_parent_container .pw-sticky-video {width: 100%; transition: opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000);-webkit-transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);box-shadow: 0px 0px 25px 0px rgba(50, 50, 50, 0.75);border-radius: unset; height:100%!important;}#corner_top-docked_parent_container.pw-docked {top: 0px!important; left: 0px!important; display: flex; justify-content: center;}#corner_top-docked_parent_container.pw-undocked {background-color: #000000;}.pw-undocked .pw-sticky-video {height:auto!important;}#corner_top-docked_parent_container.pw-hide {display: none}.pw-corner-ad-video.pw-top-docked {margin: 0!important; background-color: rgba(0, 0, 0, 0.9); width: 100vw !important;}.pw-top-docked #pw-close-video-container {display: none!important;}.pw-corner-ad-video.pw-sticky-video #pw-close-video-container {top: 0!important; left: unset!important; right: -18px!important;}#pw-oop-flex_container.gumgum-accommodate {height: 0! important; display: block! important;}#pw-oop-flex_container.gumgum-accommodate #pw-oop-flex, #pw-oop-flex_container.gumgum-accommodate #pw-oop-flex > div, #pw-oop-flex_container.gumgum-accommodate #pw-oop-flex > div > iframe {height: 0! important;}'},5919:(e,t,i)=>{"use strict";i.d(t,{FL:()=>c,Ot:()=>p,VS:()=>l,aM:()=>g,nk:()=>m,op:()=>w,qP:()=>h,vU:()=>u});var n=i(5772),o=i(8804),s=i(9239),r=i(6405),a=i(2326),d=i(8900);const l=e=>{let t=[];return e&&(t=Array.from(document.querySelectorAll(`div[data-pw-${e.toLowerCase()}]`))),t.filter((e=>!(0,d.RP)(e)))},c=e=>{const t=window.ramp.settings;if(t.units.sec.length>0)for(let i=0;i<t.units.sec.length;i++){const n=t.units.sec[i],o=n.alias?"alias":"unit";if(void 0!==n[o]&&n[o].toLowerCase()===e.toLowerCase())return n}for(let i=0;i<t.units.ros.length;i++){const n=t.units.ros[i],o=n.alias?"alias":"unit";if(void 0!==n[o]&&n[o].toLowerCase()===e.toLowerCase())return n}return!1},p=e=>{const t=e.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`).split("_");return t.length>1&&t[t.length-1].toLowerCase()},g=e=>{const t=e.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`);if(t.startsWith("standard_iab"))return t;const i=t.split("_");let n=i[0];if(i.length>2)for(let e=1;e<i.length-1;e++)n+=`_${i[e]}`;return n=n.toLowerCase(),n},u=e=>new Promise(((t,i)=>{if(null!==e.tags)return void i("Tags already scraped");window.performance.timing&&(0,n.aE)("domLoading_to_findTags",window.performance.timing.domLoading);const o=e.isMobile?"mobi":"desk";e.interactive=!0,e.selectorBasedAdUnits||(e.tags=l(o)),0===e.tags.length?(s.TH.warn(`No Playwire tags found in DOM for ${o}`),i("Tags scraped. No Tags Found.")):(s.TH.info(`Playwire DOM tags found for ${o}`,e.tags),t())})),w=(e,t,i=!1)=>{const n=window.ramp.settings;let o,s;i?(o="",s=e):(o=t?"oop":p(e),s=t?e:g(e)),s="sky"===s?"160x600":s;const r=c(s);return{type:s,pos:o,oop:t,config:r,rules:!!r&&(0,a.M)(n,r,o)}},m=(e,t=!1)=>{const i=window.ramp.settings,n=e||i.selectorBasedAdUnits;return new Promise((e=>{const a=[];if(!window.ramp.settings.adsPerformance&&!n)for(let e=0;e<i.tags.length;e++)a.push((0,o.P3)(i.tags[e],!1));if(n){s.Ay.info("Selector based ad units found.",null,"color:black;background:orange;");const e=[...r.kk,...i.selectorBasedIabUnits];for(let t=0;t<e.length;t++){const i=w(e[t],!1,!0);if(!i.rules.locationSelector)continue;const n=!!i.rules&&i.rules.locationSelector.split(",");if(n)for(let s=0;s<n.length;s++){i.rules=Object.assign({},i.rules),i.rules.locationSelector=n[s];if(!0===window.ramp.override?.settings?.multiSelect){const n=document.querySelectorAll(i.rules.locationSelector),s=!1;n.forEach((n=>{a.push((0,o.P3)(e[t],!1,!1,i,s,n))}))}else a.push((0,o.P3)(e[t],!1,!1,i))}}}if(!t){const e=window.ramp.settings.adsPerformance?r.N7:r.Tz;for(let t=0;t<e.length;t++)a.push((0,o.P3)(e[t],!0))}Promise.all(a).then((()=>{i.tagsProcessed=!0,e()})).catch((e=>{s.TH.error("Could not process tags.",e)}))}))},h=(e,t,i={})=>new Promise(((n,s)=>{(0,o.P3)(t,!1,!1,!1,i).then((t=>{t&&(e.slots[t.id]=t,n(t)),n()})).catch((e=>{s(`Could not process tag: ${e}`)}))}))},4234:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});let n=!1;const o={tyche_trendi_video:"precontent_ad_video"},s=(e,t,i)=>{o[e]&&(e=o[e]),window.PageOS.BUS.on(`${e}:${t}`,i,!1)};function r(){n||(n=!0,window.Bolt=window.Bolt||{},window.Bolt.BOLT_AD_REQUEST_START="boltAdRequestStart",window.Bolt.BOLT_AD_IMPRESSION="boltAdImpression",window.Bolt.BOLT_AD_STARTED="boltAdStarted",window.Bolt.BOLT_FIRST_QUARTILE="boltFirstQuartile",window.Bolt.BOLT_MIDPOINT="boltMidPoint",window.Bolt.BOLT_THIRD_QUARTILE="boltThirdQuartile",window.Bolt.BOLT_AD_COMPLETE="boltAdComplete",window.Bolt.BOLT_AD_SESSION_COMPLETE="boltAdSessionComplete",window.Bolt.BOLT_AD_ERROR="boltAdError",window.Bolt.BOLT_AD_PAUSED="boltAdPaused",window.Bolt.BOLT_AD_CLICKED="boltAdClicked",window.Bolt.SHOW_HIDDEN_CONTAINER="showHiddenContainer",window.Bolt.on=window.Bolt.on||s)}},9559:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>J,nextElementInlineIdx:()=>re,renameTargetingKeysMap:()=>fe});var n=i(9239),o=i(5591),s=i(2384);const r=({rules:e,size:t,contentVideo:i,fullscreen:o,topMobilePlacementHandler:s})=>{const r=document.querySelector(".pw-corner-ad-video");if(!r)return void n.dL.error("adWrapper is not found");const a=window.ramp.settings.isMobile?e.mobileLocation:e.desktopLocation,l=p(e);l&&l.x&&l.y||"top"===a?d(a,l,r,t,e,i.enabled,o,s):n.dL.error("unit position config is not supported",l)},a=(e,t)=>{if(t){const t=e.getElementsByClassName("pw-corner-ad-video-container")[0],i=e.getElementsByClassName("pw-custom-ima-container")[0];t?.requestFullscreen(),t&&(t.style.width="100%",t.style.height="100%"),i&&(i.style.width="100%",i.style.height="100%")}else document.fullscreenElement&&document.exitFullscreen()},d=(e,t,i,o,s,r,d,c)=>{const p=d?"%":"px";o=d?[100,100]:o;const g=window.ramp.settings.expandableBottomRail?.served;switch(e){case"corner":i.style.width=`${o[0]}${p}`,i.style.height=`${o[1]}${p}`,i.style.position="fixed",i.style[t.x]="0",i.style[t.y]=!0===g?"60px":"0",i.style.zIndex=t.z,i.style.borderRadius="8px",i.style.background="#000000",window.ramp.settings.expandableBottomRail?.videoPosition&&(i.style[window.ramp.settings.expandableBottomRail.videoPosition]="",window.ramp.settings.expandableBottomRail.videoPosition=!1,window.ramp.settings.expandableBottomRail.expanded=!1),r&&a(i,d),d||l(i,s);break;case"top":i.style.width=`${o[0]}${p}`,i.style.height=`${o[1]}${p}`,r&&a(i,d),d||(l(i,s),c?.unitInfo&&(c.unitInfo.slot.rampSlot.isDocked?c.dockVideo():c.undockVideo()));break;default:return void n.dL.error(`unit location is not support - "${e}"`)}},l=(e,t)=>{const i=g(t),n=u(t),o=p(t)||{},s=n>=0?n:10;let r=i>=0?i:5;const a=window.ramp.settings.expandableBottomRail?.served,d=w();"number"!=typeof i&&(d||a)&&"bottom"===o.y&&(r+=d>0?d:a?60:0),"right"===o.x?e.style.marginRight=s+"px":"left"===o.x&&(e.style.marginLeft=s+"px"),"bottom"===o.y?e.style.marginBottom=r+"px":"top"===o.y&&(e.style.marginTop=r+"px")},c=e=>{if(e&&(e.setAttribute("style",""),e.firstChild))for(;e.firstChild;)e.removeChild(e.firstChild)},p=e=>window.ramp.settings.isMobile?e.mobilePosition:e.desktopPosition,g=e=>window.ramp.isMobile?e.mobileOffsetY:e.desktopOffsetY,u=e=>window.ramp.isMobile?e.mobileOffsetX:e.desktopOffsetX,w=()=>{const e=[0];return window.PageOS.BUS.after("gumgumAdHeight",(t=>{if(t>0){t+=window.ramp.isMobile?5:10,e.push(t)}})),Object.keys(window.ramp.settings.slots).forEach((t=>{const i=window.ramp.settings.slots[t];"bottom_rail"===i.type&&i.on&&i.element&&i.element.parentElement&&e.push(i.element.offsetHeight)})),Math.max(...e)};var m=i(653),h=i(6238),f=i(5772),y=i(1709),b=i(2326);const _=(e,{unit:t,rules:i,size:n})=>{const o=document.createElement("div");return o.id=e,o.classList.add("pw-tag","pw-corner-ad-video-container"),{adFetchCount:0,type:t.unit,element:o,pos:"FIXED",id:e,imps:0,inView:!0,viewability:100,refreshes:0,refreshBlocked:!1,on:!0,config:t,rules:i,pbjsBid:null,amazonBid:!1,lastRefresh:Date.now(),playerSize:n,closeButtonEnabled:!0}},v=(e,{unit:t,size:i,amazonSlotId:n})=>{const o=(0,y.XC)((0,y.oy)(window.ramp.settings.config.headerBidding));if(!(0,f.MV)(o?.order,e))return!1;if(!1===window.ramp.privacy?.advertisementCookiesEnabled)return!1;const s={slotID:n,slotName:t.code,mediaType:"video",sizes:[i],rampSlotId:e};return window.ramp.settings.amazonSlots.push(s),s},S=(e,{unit:t,size:i,contentVideo:n})=>{const o=(0,y.oy)(window.ramp.settings.config.headerBidding),r=(0,y.XC)(o);if(!r)return!1;if(!1===window.ramp.privacy?.advertisementCookiesEnabled)return!1;(0,h.Ix)(t.headerBids,window.ramp.settings);const a="desktop"===window.ramp.settings.device||"tablet"===window.ramp.settings.device,d=A(t),{placement:l,plcmt:c}=(0,s.q2)(d),p={code:e,mediaTypes:{video:{useCacheKey:!0,context:"outstream",playerSize:i,mimes:["video/mp4","video/webm","video/ogg","application/x-mpegURL","application/javascript"],protocols:a?[2,3,5,6,7,8,13,14]:[2,3,5,6],maxduration:30,linearity:1,api:a?[1,2]:[2],minduration:1,startdelay:0,placement:l,plcmt:n.enabled?2:c,ext:{},skip:1,skipmin:0,skipafter:0,minbitrate:250,maxbitrate:4e3,playbackmethod:[2]}},bids:(0,f.Os)({bids:t.headerBids.bids,order:r.order,unitSizes:[i],isVideoAllowed:!0,unitId:e}),renderer:{url:(0,s.yw)(),render:s.CX,backupOnly:!1}};return window.location.hash.toLowerCase().includes("videobiddersoverride")&&p.bids.forEach((e=>{"appnexus"!==e.bidder&&"appnexusAst"!==e.bidder||(e.params=e.params||{},e.params.placementId=13232385)})),window[window.ramp.pbKey].addAdUnits([p]),p},A=e=>{if("corner_ad_video"!==e.unit)return!1;const t=(0,b.M)(window.ramp.settings,e,"any");if(!t)return!1;let i=!1;const n=window.ramp.settings.isMobile;if(!n&&t.desktopCutoff&&t.desktopCutoff.screenWidthCutoff&&t.desktopCutoff.sizeAboveCutoff&&t.desktopCutoff.sizeAboveCutoff.length&&t.desktopCutoff.sizeBelowCutoff&&t.desktopCutoff.sizeBelowCutoff.length)i=!0;else{const e=n?t.size?.mobile:t.size?.desktop;e&&e.length&&(i=!0)}return!!i&&t};var k=i(6288);const E=e=>{const t=(0,y.oy)(window.ramp.settings.config.headerBidding),i=(0,y.XC)(t);return e.slot&&i?new Promise((t=>{const o=i.timeout||700,s=e.slot.amazonSlot,r=e.slot.prebidSlot;if(!s&&!r)return void t();let a;const d=new Promise((e=>{a=e}));if(s){window.performance?.mark("amzSlotAuctionStartCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"amzSlotAuctionStartCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}});const t=Date.now();window.PageOS.apstag.fetchBids([s],o).then((i=>{n.GE.info("[video] Amazon Bids Back",{time:Date.now()-t,bids:i}),window.performance?.mark("amzSlotAuctionEndCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"amzSlotAuctionEndCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}}),e.amazonBids=i,(0,k.f3)(e.amazonBids,s),a()})).catch((()=>{a()}))}else a();let l;const c=new Promise((e=>{l=e}));if(r){r.ortb2Imp=(0,f.IR)(r.code,e.slot.rampSlot),window.performance?.mark("slotAuctionStartCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"slotAuctionStartCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}});const t=Date.now();window[window.ramp.pbKey].requestBids({adUnitCodes:[r.code],timeout:o,labels:[window.ramp.settings.uuid],bidsBackHandler:i=>{n.GE.info("[video] Prebid Bids Back",{time:Date.now()-t,bids:i}),window.performance?.mark("slotAuctionEndCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"slotAuctionEndCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}}),e.prebidAllBids=i&&i[e.slotId]&&i[e.slotId].bids,l()}})}else l();Promise.any([Promise.all([d,c]),I(o)]).then((()=>{t()}))})):Promise.resolve()},I=function(e){return new Promise((t=>{setTimeout(t,e)}))};var P=i(5664);var O=i(2876),x=i(2344),C=i(6624);const M=e=>{if(e.inline)return e.inlineSize&&e.width&&e.height?[e.width,e.height]:[640,480]};let T=!1;const B=e=>{const t=e.containerElement;if(t.style.position="relative",!e.slot.rampSlot.isDocked){t.classList.add("pw-hide-close-button"),t.style.width=`${e.slot.rampSlot.playerSizeInline[0]}px`,t.style.height=`${e.slot.rampSlot.playerSizeInline[1]}px`;const i=e.slot.rampSlot.element;i.style.width=`${e.slot.rampSlot.playerSizeInline[0]}px`,i.style.height=`${e.slot.rampSlot.playerSizeInline[1]}px`,t.classList.add("pw-sticky-corner")}if(e.slot.rampSlot.isDocked){t.classList.remove("pw-hide-close-button"),t.classList.remove("pw-sticky-corner");const i=window.ramp.settings.isMobile?e.rules.mobilePosition:e.rules.desktopPosition;t.style.width=`${e.size[0]}px`,t.style.height=`${e.size[1]}px`;const n=e.slot.rampSlot.element;n.style.width=`${e.size[0]}px`,n.style.height=`${e.size[1]}px`,t.style.position="fixed",t.style[i.x]="0",t.style[i.y]="0",t.style.zIndex=i.z,t.style.borderRadius="8px",t.style.background="#000000"}return t};var z=i(5358),D=i(1971),R=i(7130),U=i(4234),L=i(884),j=i(704);const N=["mp4","webm","ogg"],W=e=>`https://config.playwire.com/${window.ramp.settings.config.settings.publisherId}/videos/v2/${e}/manifest.f4m`,V=({rules:e})=>{const t=(e=>e.playList)(e);return t.length>0?(e=>e.map((e=>W(e))))(t):[]},$=e=>{const t=H(e),i=t.mediaGroups;let n;i.mp4?n=i.mp4:i.webm?n=i.webm:i.ogg&&(n=i.ogg);return window.ramp.settings.isMobile?n.hd&&n.mobile?(n.sd=n.mobile,delete n.mobile):!n.hd&&n.sd&&n.mobile&&(n.hd=n.sd,n.sd=n.mobile,delete n.mobile):n.hd&&n.sd&&n.mobile?delete n.mobile:n.sd&&n.mobile?(n.hd=n.sd,n.sd=n.mobile,delete n.mobile):n.hd&&n.mobile&&(n.sd=n.mobile,delete n.mobile),n.duration=t.duration,n},H=e=>{const t=(new DOMParser).parseFromString(e,"application/xml"),i=t.getElementsByTagName("baseURL")[0].textContent.trim();let o,s=t.getElementsByTagName("duration")[0].textContent.trim();s=F(s);let r=t.getElementsByTagName("media");if(r.length>1)try{const e=[];for(o=0;o<r.length;o++)e.push(r[o]);r=e.sort(((e,t)=>{const i=window.parseInt(e.getAttribute("bitrate"),10),n=window.parseInt(t.getAttribute("bitrate"),10);return i<n?-1:i>n?1:0}))}catch(e){n.dL.error(`Cannot process media list: ${e.message}`)}const a={};for(o=0;o<r.length;o++){const e=r[o],t=e.getAttribute("url"),n=/.(mp4|m4v|ogg|webm)/i;let s=t.match(n);if(s&&(s=s[1],N.indexOf(s)>-1)){let n=e.getAttribute("url");0!==n.indexOf("http")&&(n=`${i}/${n}`),"m4v"===s&&(s="mp4"),a[s]||(a[s]={}),t.indexOf("video-hd")>-1?a[s].hd=n:t.indexOf("video-sd")>-1?a[s].sd=n:t.indexOf("video-mobile")>-1&&(a[s].mobile=n)}}return{duration:s,mediaGroups:a}},F=e=>{let t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i;return t=t<10?`0${t}`:t,i=i<10?`0${i}`:i,n=n<10?`0${n}`:n,`${t}:${i}:${n}`};var Z=i(3804);class q{constructor(e){this.unitInfo=e,this.dockVideo=this.dockVideo.bind(this),this.undockVideo=this.undockVideo.bind(this)}intersectionCallback=(e,t,i,n,o)=>{const s=e[0],r=0===(void 0!==o?o:.5)?s.intersectionRatio>0:s.intersectionRatio>=o,a=window.pageYOffset||document.documentElement.scrollTop;this.scrollingUp&&(this.scrollingUp=a<=this.lastScrollTop,this.lastScrollTop=a<=0?0:a),r?t(n):i(n)};initIntersectionHandler=(e,t,i,n,o)=>{this.threshold=void 0!==o?o:.5;const s=new IntersectionObserver((e=>this.intersectionCallback(e,t,i,n,this.threshold)),{root:null,rootMargin:"0px",threshold:o});return this.lastScrollTop=0,this.scrollingUp=!0,this.observedElement=e,s.observe(e),s};init=e=>{if(this.topSelectorElement=document.querySelector(this.unitInfo.topSelector),null===this.topSelectorElement)return void n.dL.error(`No element found for selector: ${this.topSelector}.`);const t=window.innerWidth;this.initialH=t/1.7777777777777777,this.initialW=t,this.topContainerDiv=document.createElement("div"),this.topContainerDiv.id="corner_top-docked_parent_container",this.topContainerDiv.style.height=`${this.initialH}px`,this.topContainerDiv.classList.add("pw-hide"),window.PageOS.BUS.after("corner_video_first_render",(()=>{this.topContainerDiv&&this.topContainerDiv.classList.remove("pw-hide")}),!0);const i=this.unitInfo.containerElement;if(!i)return;i.style.position="relative",(0,Z.p1)(i,"pw-top-docked"),this.topContainerDiv.appendChild(i);const o=this.unitInfo.rules.embedPosition||"afterend";this.topSelectorElement.insertAdjacentElement(o,this.topContainerDiv),this.updateCornerVideo=e,this.observer=this.initIntersectionHandler(this.topSelectorElement,this.undockVideo,this.dockVideo,e,0)};placeVideoDocked=e=>{const t=e.location||"right-bottom",i=e.stickyH||`${e.player.parentNode.style.height}px`,n=e.stickyW||`${e.player.parentNode.style.width}px`,o=e.player;(0,Z.p1)(o,"pw-sticky-video","pw-top-docked");const s=o.parentElement;(0,Z.p1)(s,"pw-sticky-video-wrapper"),(0,Z.p1)(this.topContainerDiv,"pw-docked","pw-undocked"),s.style.position="fixed";const r=this.unitInfo.slot.rampSlot.element;r.style.width=`${n}px`,r.style.height=`${i}px`,"top"===t&&window.PageOS.BUS.emit("corner_ad_video_top_docked")};dockVideo=()=>{this.unitInfo.slot.rampSlot.isDocked=!0;const e=this.unitInfo.rules?this.unitInfo.rules.size.mobile:this.unitInfo.size,t=this.unitInfo.containerElement;if(!t)return;this.placeVideoDocked({player:t,location:"top",stickyH:e[1],stickyW:e[0]});const i=this.unitInfo.slot.rampSlot.element;i.style.width=`${e[0]}px`,i.style.height=`${e[1]}px`,this.updateCornerVideo&&this.updateCornerVideo()};undockVideo=()=>{const e=`${this.unitInfo.topMobilePlacementHandler.initialH}px`,t=`${this.unitInfo.topMobilePlacementHandler.initialW}px`;this.unitInfo.slot.rampSlot.isDocked=!1,this.topContainerDiv&&((0,Z.p1)(this.topContainerDiv,"pw-undocked","pw-docked"),this.topContainerDiv.style.position="relative");const i=this.unitInfo.containerElement;if(!i)return;i.style.position="relative",(0,Z.p1)(i,"pw-top-docked","pw-sticky-video"),i.style.maxHeight=e,i.style.height=e,i.style.maxWidth=t,i.style.width=t;const n=this.unitInfo.slot.rampSlot.element;n.style.width=t,n.style.height=e,this.updateCornerVideo&&this.updateCornerVideo()}}let X;const G=new Promise((e=>{X=e}));let Y=!1;const J=(e,t=!1)=>{if(Y||window.ramp.settings.slots.corner_ad_video)return void n.dL.warn("Only one unit of that type is allowed!");n.dL.info("Initialization started"),Y=!0,(0,U.A)();const i={isFirstRenderDone:!1,baseUrl:"https://securepubads.g.doubleclick.net/gampad/ads?"},o=A(e);if(!o)return Y=!1,void n.dL.error("No valid rules");if(i.unit=e,i.rules=o,window.pwEdgeFlags&&window.pwEdgeFlags.disableCornerGAM&&(i.rules.disableGam={enabled:!0,fetchInst:window.pwEdgeFlags.disableCornerGAMOnFetchCount||0}),t&&(i.customProperties=t),t&&t.sizes?i.size=t.sizes[0]:i.size=le(o),!i.size)return n.dL.error("No valid video player size defined"),void(Y=!1);i.contentVideo={enabled:!1},i.rules.playContent&&i.rules.adFrequency&&i.rules.playList&&(i.contentVideo.playlist=V(i),i.contentVideo.playlist.length>0&&(i.contentVideo.enabled=!0,i.lastAdDuration=0,i.lastVideoType="content"));const s=o.mobileLocation;i.topMobilePlacementEnabled=!1,i.rules.inline&&"top"===s&&window.ramp.isMobile&&(i.topMobilePlacementEnabled=!0),i.rules.inline&&!i.topMobilePlacementEnabled&&(i.inlineSize=M(o)),i.amazonSlotId="Outstream_Player",i.slot=(e=>{const t=(0,m.A)(e.unit.unit);return{amazonSlot:v(t,e),prebidSlot:S(t,e),rampSlot:_(t,e)}})(i);const{skipGAM:a}=(0,f.AV)(i.slot.rampSlot);if(a&&!1===window.ramp.privacy?.advertisementCookiesEnabled)return void n.dL.warn("Unavailable video: GAM is disabled and cookies are disabled");i.slotId=i.slot.rampSlot.id,window.ramp.settings.slots[i.slotId]=i.slot.rampSlot,i.slot.rampSlot.__onViewModeChangedListeners=[],i.slot.rampSlot.__onViewModeChanged=function(e){i.slot.rampSlot.__onViewModeChangedListeners.push(e)}.bind(void 0);const g=(({rules:e,size:t,slot:i})=>{const o=i.rampSlot.element,s=document.createElement("div");s.classList.add("pw-corner-ad-video"),s.classList.add("pw-hide");const r=window.ramp.settings.isMobile?e.mobileLocation:e.desktopLocation,a=p(e);if(a&&a.x&&a.y||"top"===r)return d(r,a,s,t,e),s.appendChild(o),s;n.dL.error("unit position config is not supported",a)})(i);if(i.rules.inline&&!i.topMobilePlacementEnabled){const e=(0,L.A)({height:i.inlineSize[1],backgroundColor:"#F5F5F5"});i.placeholder=e}i.containerElement=g;const u=()=>{(e=>{const t=(0,P.oi)(e.slotId);if(t&&(t.mediaTypes.video.playerSize=e.slot.rampSlot.playerSize),window.ramp.settings.amazonSlots&&window.ramp.settings.amazonSlots.length){const t=window.ramp.settings.amazonSlots.find((t=>t.slotID===e.amazonSlotId));t&&(t.sizes=[e.slot.rampSlot.playerSize])}})(i),ee(i)},w=e=>{window.PageOS.BUS.on("corner_video_first_unfilled",(()=>{i.slot.rampSlot.isDocked=!0,i.containerElement=B(i),u()})),i.slot.rampSlot.inlineInitialized=!0,i.slot.rampSlot.isDocked=!1,i.inlineContainer=e,i.relativePosition=i.rules.placementRelativeToSelector?i.rules.placementRelativeToSelector:"belowSelector";const t=(0,D.gP)(i);i.inlineContainer.insertAdjacentElement(t,i.placeholder),i.placeholder.appendChild(i.containerElement),i.slot.rampSlot.firstUnfilled=!1,i.slot.rampSlot.playerSizeInline=(e=>M(e.rules))(i),(e=>{const t=(0,P.oi)(e.slotId);if(t&&(t.mediaTypes.video.playerSize=e.slot.rampSlot.playerSizeInline),window.ramp.settings.amazonSlots&&window.ramp.settings.amazonSlots.length){const t=window.ramp.settings.amazonSlots.find((t=>t.slotID===e.amazonSlotId));t&&(t.sizes=[e.slot.rampSlot.playerSizeInline])}})(i),B(i),K(i),((e,t)=>{const i=e.placeholder;new IntersectionObserver((function(n){n.forEach((n=>{i.getBoundingClientRect().top>0||(n.isIntersecting?(!T&&n.intersectionRatio<.5&&(T=!0),e.slot.rampSlot.isDocked=T&&n.intersectionRatio<.5):e.slot.rampSlot.isDocked=!!T,t(e))}))}),{root:null,rootMargin:"0px",threshold:[0,.5]}).observe(i)})(i,(e=>{e.containerElement=B(e),u()}))};if(!0==!i.rules.inline)document.body.append(i.containerElement),K(i);else if(i.topMobilePlacementEnabled)Q(i,u.bind(void 0));else{i.rules.placementRelativeToSelector||(i.rules.placementRelativeToSelector="belowSelector");ie(i).then((e=>{e?w(e):n.dL.warn("Not valid selector")})).catch((e=>{n.dL.warn(`Unable to run inline video. Trying to run corner ad video. ${e}`),document.body.append(i.containerElement),K(i)}))}i.containerElement&&(i.slot.rampSlot.playerPosition=(({rules:e})=>{const t=window.ramp.settings.isMobile?e.mobileLocation:e.desktopLocation,i=p(e)||{};return`${t}|${i.x}|${i.y}`})(i),i.slot.rampSlot.closeBtnTime=o?.x_button_show_time??void 0,ce(),i.slot.rampSlot.__destroyUnit=function(){if((0,m.e)(i.slot.rampSlot.type),(0,O.Tz)(i.slot.rampSlot),i.topMobilePlacementEnabled){const e=document.getElementById("corner_top-docked_parent_container");e&&e.remove(),i.topMobilePlacementHandler.observer.disconnect()}i.placeholder&&i.placeholder.remove(),i.containerElement&&i.containerElement.remove(),Y=!1}.bind(void 0),i.slot.rampSlot.__refreshSlot=function(){if(null!=i.slot.rampSlot.rules.maxAds&&i.slot.rampSlot.imps>=i.slot.rampSlot.rules.maxAds)return n.dL.warn("Destroy unit due to 'maxAds' rule"),void i.slot.rampSlot.__destroyUnit();if(!0!==i.slot.rampSlot.inlineInitialized||!0===i.topMobilePlacementEnabled){if(i.amazonBids=null,i.prebidAllBids=null,i.slot.rampSlot.pbjsBid=null,i.slot.rampSlot.amazonBid=!1,c(i.slot.rampSlot.element),i.size=le(o),!i.size)return;i.fullscreen=!1,r(i),(e=>{if(!e.slot.rampSlot)return!1;e.slot.rampSlot.playerSize=e.size})(i),(e=>{if(!e.slot.prebidSlot)return!1;const t=(0,y.oy)(window.ramp.settings.config.headerBidding),i=(0,y.XC)(t);if(!i)return!1;e.slot.prebidSlot.mediaTypes.video.playerSize=e.size,e.slot.prebidSlot.bids=(0,f.Os)({bids:e.unit.headerBids.bids,order:i.order,unitSizes:[e.size],isVideoAllowed:!0})})(i),(e=>{if(!e.slot.amazonSlot)return!1;e.slot.amazonSlot.sizes=[e.size]})(i)}void 0===i.priceFloorValue&&(i.priceFloorValue=(0,x.H)(i.slot.rampSlot)),E(i).then((()=>{ue(i)}))}.bind(void 0),i.slot.rampSlot.__softRefreshSlot=function(e){"amazon"===e.toLowerCase()?(i.amazonBids=null,i.slot.rampSlot.amazonBid=!1):(i.prebidAllBids=null,i.slot.rampSlot.pbjsBid=null),i.amazonBids||i.prebidAllBids?(c(i.slot.rampSlot.element),ue(i)):i.slot.rampSlot.__refreshSlot()}.bind(void 0),i.slot.rampSlot.__handleBlankAd=function(){const e=i.rules.refreshRetries||0,t=i.rules.refreshTimeout||0,n=i.slot.rampSlot.retries||0;if(i.containerElement.classList.add("pw-hide"),i.lastVideoType="content",n>=e&&"hide"===i.rules.playerBehaviorOnAdUnavailable)return i.slot.rampSlot.retries=0,void setTimeout((()=>{i.slot.rampSlot.__refreshSlot()}),1e3*t);n>=e&&"close"===i.rules.playerBehaviorOnAdUnavailable?i.slot.rampSlot.__destroyUnit():(i.slot.rampSlot.retries=n+1,i.slot.rampSlot.__refreshSlot())}.bind(void 0),i.slot.rampSlot.__handleVideoImpression=function(){i.slot.rampSlot.imps++}.bind(void 0),i.slot.rampSlot.__toogleFullscreen=function(){n.dL.info("Toogle fullscreen"),i.contentVideo.enabled&&(i.fullscreen=!i.fullscreen,r(i))}.bind(void 0),i.slot.rampSlot.__shouldPlayContentVideo=function(){const e=i.contentVideo.mediaDuration-i.contentVideo.playDuration-i.contentVideo.offset;e<0&&(i.contentVideo.diff=Math.abs(e),i.lastVideoType="ad"),we(i)}.bind(void 0),i.slot.rampSlot.__playVideo=function(){i.slot.rampSlot.forcePause=!1}.bind(void 0),i.slot.rampSlot.__pauseVideo=function(){i.slot.rampSlot.forcePause=!0}.bind(void 0),["bottom_rail_closed","bottom_rail_loaded","bottom_rail_rendered"].forEach((e=>{window.PageOS.BUS.on(e,(()=>{if("bottom_rail_loaded"===e||"bottom_rail_rendered"===e){const e=window.ramp.settings.expandableBottomRail;if((0,j.dV)()&&!e?.expanded){const t=i.slot.rampSlot,n=window.ramp.settings.isMobile;n?!0===e.blockRefresh?t.__destroyUnit():(ke(!0,i),r(i)):"bottom"===i.rules.desktopPosition.y&&(t.playerPosition=t.playerPosition.replace("bottom","top"),i.rules.desktopPosition.y="top",r(i)),e.expanded=!0,!1===e.blockRefresh&&setTimeout((()=>{window.top.postMessage("dismissFlexRailAd","*"),e.served=!1;const o=ramp.settings.slots["pw-oop-bottom_rail"];o&&o.element&&o.element.classList.remove("pw-tps"),n?(ke(!1,i),e.videoPosition="top",r(i)):(t.playerPosition=t.playerPosition.replace("top","bottom"),i.rules.desktopPosition.y="bottom","bottom"===i.rules.desktopPosition.y&&(e.videoPosition="top"),r(i))}),3e4)}setTimeout((()=>{l(i.containerElement,i.rules)}))}}))})),window.document.addEventListener("visibilitychange",(()=>{const e="hidden"!==document.visibilityState;de(i,e)})),de(i,window.ramp.settings.hasFocus),n.dL.info("Initialization completed"))},K=e=>{Promise.all([pe(),G]).then((()=>{e.priceFloorValue=(0,x.H)(e.slot.rampSlot),E(e).then((()=>{ge(e)}))})).catch((()=>{n.dL.error("Ad unit not started due to issues with IMA SDK and custom IMA player")}))},Q=(e,t)=>{e.topMobilePlacementHandler=new q(e),e.topSelector=e.rules.selector,e.topMobilePlacementHandler.init(t),e.slot.rampSlot.playerSizeInline=[e.topMobilePlacementHandler.initialW,e.topMobilePlacementHandler.initialH],e.slot.rampSlot.isDocked=!1,e.slot.rampSlot.inlineInitialized=!0,K(e)},ee=e=>{try{e.slot.rampSlot.__onViewModeChangedListeners.forEach((e=>e()))}catch(e){}},te=(e,t,i)=>{let n=0;i?n=i:t.distanceFromTop?t.distanceFromTop.includes("px")?n=parseFloat(t.distanceFromTop,10):t.distanceFromTop.includes("vh")&&(n=window.innerHeight*(parseFloat(t.distanceFromTop,10)/100)):"belowTheFold"===t.insertionType&&(n=window.innerHeight);for(let t=0;t<e.length;t++){const i=e[t].getBoundingClientRect().top;if(i>n)return window.thresholdHeight=i,t}},ie=e=>new Promise(((t,i)=>{const n=e.rules,o=n?.elementSelector,s=(0,z.A)("in_content"),r=s&&(0,z.k)(s),a=o&&document.querySelector(o);if(!r&&a)return void t(a);const d=document.querySelector((0,P.Vz)(n));if(!d)return void i(new Error("Container element not found"));n.excludedElements=r?.excludedElements||n?.excludedElements;const l=(0,P.Hd)(d,n);if(!l||l.length<1)return void i(new Error("Content elements not found"));const c=r?.elementSelector;o?ne(l,n,c,t,a):oe(l,n,r,c,t)})),ne=(e,t,i,n,o)=>{if(i){if(o)return void n(o);n(e[0])}else window.PageOS.BUS.on("firstIncontentPlacedHeight",(i=>{const o=te(e,t,i);n(e[o])}))},oe=(e,t,i,n,o)=>{if(n){const i=te(e,t);window.firstCornerVideoPlaced=!0,window.PageOS.BUS.emit("firstCornerVideoPlacedHeight"),o(e[i])}else se(e,t,i,o)},se=(e,t,i,n)=>{if(!0===i.adsAtf&&"aboveTheFold"!==t.insertionType)ae(e,i,n);else{const i=te(e,t);window.firstCornerVideoPlaced=!0,window.thresholdIdx=i,window.PageOS.BUS.emit("firstCornerVideoPlacedIdx",i),n(e[i])}},re=(e,t,i)=>{let n;if((0,R.isV2Insertion)(t)){const o=t.insertedDistance?(0,D.av)(t):0,s=e[i].getBoundingClientRect().bottom;for(n=i;n<e.length&&e[n].getBoundingClientRect().top<=s+o;)n++}else n=i+(0,D.av)(t)+1;return n},ae=(e,t,i)=>{if(window.PageOS.BUS.on("firstIncontentPlacedIdx",(n=>{const o=re(e,t,n);return o<e.length?(window.PageOS.BUS.emit("firstCornerVideoPlacedIdx",o),i(e[o])):i(null)})),void 0!==window.firstCornerVideoPlacedIdx){const n=re(e,t,window.firstCornerVideoPlacedIdx);return n<e.length?(window.PageOS.BUS.emit("firstCornerVideoPlacedIdx",n),i(e[n])):i(null)}},de=(e,t)=>{e&&e.slot&&e.slot.rampSlot&&(e.slot.rampSlot.inView=t)},le=e=>{const t=window.ramp.settings.isMobile;if(!t&&e.desktopCutoff&&e.desktopCutoff.screenWidthCutoff&&e.desktopCutoff.sizeAboveCutoff&&e.desktopCutoff.sizeAboveCutoff.length&&e.desktopCutoff.sizeBelowCutoff&&e.desktopCutoff.sizeBelowCutoff.length)return document.documentElement.clientWidth>e.desktopCutoff.screenWidthCutoff?e.desktopCutoff.sizeAboveCutoff:e.desktopCutoff.sizeBelowCutoff;let i=!1;return e.size&&(i=t?e.size?.mobile:e.size?.desktop),!(!i||!i.length)&&i},ce=()=>{if(window.pwImaPlayerInitialization&&"function"==typeof window.pwImaPlayerInitialization)return X(),void n.dL.info("Custom IMA video player already loaded");(0,o.F)((0,s.yw)(),(()=>{X(),n.dL.info("Custom video player has been loaded")}))},pe=()=>new Promise(((e,t)=>{if((0,s.R3)())return void e();const i=setInterval((()=>{(0,s.R3)()&&(e(),clearInterval(i),clearTimeout(n))}),70),n=setTimeout((()=>{clearInterval(i),t()}),1e4)})),ge=e=>{we(e),n.dL.info("First refresh triggered"),e.isFirstRenderDone=!0},ue=e=>{e.isFirstRenderDone&&(we(e),n.dL.info("Refresh triggered"))},we=e=>{const{shouldPlayContent:t,contentDuration:i}=Ae(e);if(t){if(0===e.contentVideo.playlist.length&&(e.contentVideo.playlist=V(e)),e.contentVideo.playlist.length>0){const t=e.contentVideo.diff??0;t>0?(e.contentVideo.offset=0,e.contentVideo.playDuration=Math.floor(t)):e.contentVideo.mediaDuration===e.contentVideo.playDuration+e.contentVideo.offset?(e.contentVideo.offset=0,e.contentVideo.playDuration=Math.floor(i),e.contentVideo.diff=1):(e.contentVideo.offset=e.contentVideo.offset+e.contentVideo.playDuration,e.contentVideo.playDuration=Math.floor(i)),Se(e)}}else{let t;e.baseParamsMap=new Map,e.customParamsMap=new Map,e.slot.rampSlot.targeting=null,!0===e.slot.rampSlot.inlineInitialized&&(t=e.topMobilePlacementEnabled?e.slot.rampSlot.isDocked?e.size:e.slot.rampSlot.playerSizeInline:e.inlineSizes),(({unit:e,size:t,customParamsMap:i,baseParamsMap:n,contentVideo:o,customProperties:s,topMobilePlacementEnabled:r},a)=>{let d=e.code;s&&s.unitCode&&(d=s.unitCode[0]),n.set("sz","640x480"),n.set("iu",d),n.set("impl","s"),n.set("gdfp_req","1"),n.set("env","vp"),n.set("output","vast"),n.set("unviewed_position_start","1"),n.set("url",encodeURIComponent(window.location.href)),n.set("description_url",encodeURIComponent(window.location.href)),n.set("correlator",Date.now()),n.set("vad_type","linear");let l=t;a&&(l=a),(0,P.rs)(n,"corner_ad_video");const c=e.path??e.section;i.set("custom_path",c.replace(/CP\[|\]/g,"")),i.set("adunit","corner_ad_video"),i.set("instream","false"),i.set("owning_pub_id",window.ramp.settings.config.settings.publisherId),i.set("pub_id",window.ramp.settings.config.settings.publisherId),i.set("website_id",window.ramp.settings.config.id),i.set("player_width",l[0]),i.set("player_height",l[1]),i.set("synd","false"),i.set("vid_long_form","false"),i.set("vid_location",r?"top":"corner"),i.set("sticky","true"),o.enabled&&i.set("plcmt",2),i.set("lld_id",(0,f.t3)());const p=window.googletag.pubads().getTargetingKeys();p&&p.length&&p.forEach((e=>{i.set(e,window.googletag.pubads().getTargeting(e))}))})(e,t),e.isFirstRenderDone&&(e.slot.rampSlot.refreshes++,e.customParamsMap.set("refresh","true"),e.customParamsMap.set("refresh_count",e.slot.rampSlot.refreshes));const i=e?.rules?.send_adx_instrm_plcmt;!0===i&&e.customParamsMap.set("plcmt",2);try{const t=e.priceFloorValue;null!=t?(e.customParamsMap.set("price_floor",t),e.slot.rampSlot.latest_price_floor=t):e.slot.rampSlot.latest_price_floor=null}catch(t){n.dL.warn("Cannot calculate price floor",t),e.customParamsMap.set("price_floor","na")}(({customParamsMap:e,amazonBids:t,amazonSlotId:i,slot:n})=>{if(!t||!t.length||!e)return;const o=t.find((e=>e.slotID===i));o&&(e.set("amznbid",o.amznbid),e.set("amzniid",o.amzniid),e.set("amznp",o.amznp),e.set("amznqsparams",o.encodedQsParams),e.set("amznslotid",o.slotID),window.location.href.toLowerCase().includes("amzn_debug_mode=1")&&o.amznbid.startsWith("o_")&&(e.set("amznbid",o.amznbid.replace("o_","v_")),e.set("amznqsparams",o.encodedQsParams.replace("o_","v_"))))})(e),(({customParamsMap:e,prebidAllBids:t,slot:i})=>{if(t&&t.length&&e)try{let n,o=-1/0,s=null,r=null;t.forEach((t=>{const i=t.adserverTargeting.hb_val||t.adserverTargeting.hb_pb,a=parseFloat(i);let d=t.bidderCode;a>o&&(o=a,s=d,r=t.adserverTargeting?.hb_uuid),"appnexus"===d&&(d="appnexusAst"),e.set(`hb_bidder_${d}`.slice(0,20),d),e.set(`hb_pb_${d}`.slice(0,20),a.toFixed(2)),e.set(`hb_uuid_${d}`.slice(0,20),t.videoCacheKey),"rubicon"===d&&t.adserverTargeting.hb_deal&&(e.set(`hb_deal_${d}`.slice(0,20),t.adserverTargeting.hb_deal),e.set("rubicon_direct","true")),(!n||!n.adserverTargeting||isNaN(parseFloat(n.adserverTargeting.hb_val||n.adserverTargeting.hb_pb))||a>parseFloat(n.adserverTargeting.hb_val||n.adserverTargeting.hb_pb).toFixed(2))&&(n=t)})),n&&(i.rampSlot.pbjsBid=n),e.set("hb_pb",o.toFixed(2)),e.set("hb_bidder",s),e.set("hb_uuid",r)}catch(e){n.dL.error("Error happened during setting Prebid bids KVs",e)}})(e),e.slot.rampSlot.lastRefresh=Date.now(),e.slot.rampSlot.adFetchCount++,e.slot.rampSlot.targeting=Object.fromEntries(e.customParamsMap);const{skipGAM:o,disableGamFrequency:r}=(0,f.AV)(e.slot.rampSlot);if(e.slot.rampSlot.gamSkipped=o,o)window.ramp.settings.onlyHBVideoSlots=window.ramp.settings.onlyHBVideoSlots||[],window.ramp.settings.onlyHBVideoSlots=window.ramp.settings.onlyHBVideoSlots.filter((t=>t.id!==e.slot.rampSlot.id)),n.dL.info("Requests to GAM is disabled for this slot "+(r?"(by frequency)":"")),window.ramp.settings.onlyHBVideoSlots.push(e.slot.rampSlot),me(e);else{let t=new Map;(0,C.Fz)()&&(e.customParamsMap=fe(e,t,!0));const i=(({baseUrl:e,customParamsMap:t,baseParamsMap:i})=>{const n=[];if(i.forEach(((e,t)=>{n.push(`${t}=${e}`)})),t.size){let e=[];t.forEach(((t,i)=>{"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.push(`${i}=${t}`):Array.isArray(t)&&e.push(`${i}=${encodeURIComponent(t.join("&"))}`)})),e.length&&n.push(`cust_params=${e.join("%26")}`)}return e+n.join("&")})(e);(0,C.Fz)()&&(e.customParamsMap=fe(e,t,!1)),(0,s.CX)({adUnitCode:e.slotId,vastUrl:i})}e.lastVideoType="ad"}},me=e=>{const t=e.slot.rampSlot,i=t.id,o=t.config.code,s=parseFloat(e.slot.rampSlot.latest_price_floor)||null,r=(e=>e.pbjsBid||!1)(t),a=(({amazonBids:e})=>{if(!e||0===e.length)return!1;const t=e[0];return t.amzniid&&t.amznbid?(t.obfuscatedAmznbid=t.obfuscatedAmznbid||t.amznbid,t.amznbid=(0,C.W2)(t.obfuscatedAmznbid||t.amznbid),t.hasBid=!0,t):void 0})(e),{bidder:d,cpm:l}=((e,t)=>{if(!e&&!t)return{};const i=e?parseFloat(e.cpm):null,n=t?parseFloat(t.amznbid):null;switch(!0){case!i&&n&&n>0:case i&&n&&n>i:return{bidder:"amazon",cpm:n};case!n&&i&&i>0:case i&&n&&i>=n:return{bidder:"prebid",cpm:i};default:return{}}})(r,a);if(!d||s&&s>l)return(({slot:e})=>{const t=e.rampSlot.targeting;["amznbid","amzniid","amznp","amznqsparams","amznslotid","rubicon_direct"].forEach((e=>{delete t[e]}));const i=Object.entries(t);for(let e=0;e<i.length;e++){const[n,o]=i[e];n.startsWith("hb_")&&delete t[n]}})(e),e.slot.rampSlot.pbjsBid=null,e.slot.rampSlot.amazonBid=!1,window.ramp.videoAdImpressionTriggered(i,{isEmpty:!0}),void t.__handleBlankAd();const c=window.ramp.settings.slots[i].element,p=`pw_ads_iframe_${d}_${i}_${o}`;he(c,p),c.classList.contains("pw-in-article_hidden")&&(c.classList.remove("pw-in-article_hidden"),c.classList.add("pw-in-article")),n.dL.info(`Requesting ad using ${d}`);const g=document.getElementById(p).contentWindow.document;"prebid"===d||"amazon"===d?("prebid"===d?window.__pwpbjs__.renderAd(g,r.adId):"amazon"===d&&window.ramp.renderAmzOutstream(i,a.amzniid,a.obfuscatedAmznbid),n.dL.info(`Rendered using ${d}`)):n.dL.warn(`Unsupported bidder - ${d}`)},he=(e,t)=>{const i=document.createElement("iframe");i.id=t,i.setAttribute("frameborder","0"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("scrolling","no"),i.setAttribute("marginheight","0"),i.setAttribute("marginwidth","0"),i.setAttribute("topmargin","0"),i.setAttribute("leftmargin","0"),e.innerHTML="",e.appendChild(i)},fe=function(e,t,i){let n,o=new Map;const s=e.slotId,r=i?e.customParamsMap:t;return i&&(t[s]=new Map),r.forEach(((e,s)=>{const r=i?e:t.get(s);i&&t.set(s,r);const a=ye(s);n=a?be(s):_e(s),o.set(i?n:s,r)})),o},ye=e=>e.startsWith("pw_custom_"),be=e=>e.replace("pw_custom_",""),_e=e=>{let t=`pw_${e}`;return t.length>20&&(t=t.slice(0,20)),t},ve=e=>{var t,i;n.dL.info(`Playing content video from ${e.contentVideo.mediaFileUrl}`),(0,s.CX)({adUnitCode:e.slotId,vastXml:(t=e.contentVideo.mediaFileUrl,i=e.contentVideo.mediaDuration,`<VAST version="3.0"> <Ad> <InLine> <AdSystem>2.0</AdSystem> <Impression/> <Creatives> <Creative> <Linear><Duration>${i}</Duration> <MediaFiles> <MediaFile delivery="progressive" type="video/mp4"> <![CDATA[${t}]]> </MediaFile> </MediaFiles> </Linear> </Creative> </Creatives> </InLine> </Ad> </VAST>`),isContent:!0,contentVideo:e.contentVideo}),e.lastVideoType="content"},Se=e=>{const t=!(e.contentVideo.mediaDuration&&!(e.contentVideo.diff&&e.contentVideo.diff>0));if(e.contentVideo.diff=0,t){const t=e.contentVideo.playlist.shift();(i=t,new Promise(((e,t)=>{const n=new XMLHttpRequest;n.open("GET",i,!0),n.onload=()=>{if(4===n.readyState&&200===n.status){const t=$(n.responseText);e(t)}},n.onerror=()=>{t(null)},n.send()}))).then((t=>{const i=window.ramp.settings.isMobile?t.sd:t.hd,n=t.duration;e.contentVideo.mediaFileUrl=i,e.contentVideo.mediaDuration=(e=>{const t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)})(n),e.contentVideo.offset=0,ve(e)})).catch((e=>{n.dL.error("Cannot play content video",e)}))}else ve(e);var i},Ae=e=>{let t=!1,i=0;if("content"===e.lastVideoType)return{shouldPlayContent:t,contentDuration:i};if(e.contentVideo.enabled){const t=e.rules.adFrequency||!1;if(!1!==t)switch(t){case"adLength":e.lastAdDuration=window.ramp.settings.slots[e.slotId].lastAdDuration??0,i=e.contentVideo.diff>0?e.contentVideo.diff:e.lastAdDuration;break;case"time":i=(e.rules.adFrequencyTime||0)/1e3}}return t=i>0,{shouldPlayContent:t,contentDuration:i}},ke=(e,t)=>{const i=t.slot?.rampSlot;if(!i||!i.element)return;const n=i.element.parentElement?.classList.contains("pw-corner-ad-video")?i.element.parentElement:i.element;e?(n.classList.add("pw-tps"),i.forcePause=!0):(n.classList.remove("pw-tps"),i.forcePause=!1)}},704:(e,t,i)=>{"use strict";i.d(t,{dV:()=>r,q5:()=>a});const n=()=>{const e=document.querySelector("#pw-oop-bottom_rail.pw-tag"),t=document.querySelector("#pw-oop-bottom_rail div iframe");e&&t&&(e.classList.add("pointer-modifier"),t.setAttribute("style","pointer-events: auto;"))},o=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)return!1;try{return CSS.supports(e,t.toLowerCase())}catch(e){return!1}},s=(e,t)=>{const i=document.createElement("div");i.style.color=e.toLowerCase(),document.body.appendChild(i);const n=window.getComputedStyle(i).color;return document.body.removeChild(i),-1===n.indexOf("rgba")?n.replace("rgb","rgba").replace(")",`,${t})`):n.replace(/[\d.]+\)$/g,`${t})`)},r=()=>{const e=window.ramp.settings.slots["pw-oop-bottom_rail"];return!0===e?.rules?.expandable&&!0===window.ramp.settings.expandableBottomRail?.served},a=(e,t,i)=>{try{if(e.element.classList.contains("pw-tps"))return;e.width=t,e.height=i,(e=>{const t=e.rules?.expandable;e.slot.setTargeting("expandable_br",!0===t?"true":"false"),window.ramp.settings.expandableBottomRail?.served&&(t&&!0===window.ramp.settings.expandableBottomRail?.blockRefresh&&(e.refreshBlocked=!0,window.ramp.hideAdSlot("pw-oop-bottom_rail")),t&&!1===window.ramp.settings.expandableBottomRail?.blockRefresh&&window.ramp.hideSlot("pw-oop-bottom_rail"))})(e);const r=(e=>{let t="#f5f5f526",i=!1;const r=window.ramp?.override?.settings?.bottomRailStyling,a="boolean"==typeof r?.transparent;(void 0!==e.rules.railBackground&&!1===e.rules?.railBackground?.enabled||"transparent"===e.rules?.railBackground?.styling)&&(i=!0);let d="0.15";a?d=r?.transparent?"0.15":"1":i&&(t="#f5f5f500",n());const l=r?.color,c=e?.rules?.railBackground?.color;return o("background-color",l)?t=s(l,d):!0===e?.rules?.railBackground?.enabled&&o("background-color",c)&&(t=c),t})(e),a=e.element.style.maxHeight?`max-height: ${e.element.style.maxHeight}`:"",d=e.element.style.maxWidth?`max-width: ${e.element.style.maxWidth}`:"";if(e.element.setAttribute("style",`width:100%;position:fixed;left:0;bottom:0;\n            z-index: 2147483643;background-color: ${r};\n            border-top:1px solid rgba(0,0,0,0.1);padding-top:5px;\n            text-align:center;${a};${d}`),void 0!==e.rules.closeButton&&!0===e.rules.closeButton){const t=document.createElement("div"),i=window.ramp.settings.isMobile&&window.innerWidth<435,n=i?"2px":"20px",o=i?"2px":"20px";t.onclick=()=>{e.element.remove(),e.width=0,e.height=0,window.PageOS.BUS.emit("bottom_rail_loaded"),window.PageOS.BUS.emit("bottom_rail_closed")},t.innerHTML='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg style="margin:6px;" class="icon" height="12" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M35.2 33.6 976 972.8 35.2 33.6ZM548.8 512l310.4-312c12.8-12.8 12.8-33.6 0-44.8-12.8-12.8-33.6-12.8-44.8 0L504 467.2 193.6 153.6c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L459.2 512 148.8 824c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.4 9.6 22.4 9.6 8 0 16-3.2 22.4-9.6l310.4-312 310.4 312c6.4 6.4 14.4 9.6 22.4 9.6 8 0 16-3.2 22.4-9.6 12.8-12.8 12.8-32 0-44.8L548.8 512z" /></svg>',t.setAttribute("style",`background-color:#fff;position:absolute;right:${o};top:${n};\n                color:#7b7b7b;border:1px solid #7b7b7b;cursor:pointer;\n                border-radius:50%;width:25px;height:25px;box-sizing:border-box;\n                pointer-events: auto !important;`),e.element.appendChild(t)}}catch(e){console.error(e)}}},5664:(e,t,i)=>{"use strict";i.d(t,{Ej:()=>p,Hd:()=>m,Vz:()=>c,cl:()=>g,i7:()=>u,oi:()=>_,rs:()=>b,u1:()=>y,xp:()=>r,yl:()=>f});var n=i(9239),o=i(5772),s=i(7130);const r=(e,t,i,s=[])=>{let r=0,d=0;const l={contextualSizes:{},availableSpace:{}};r=(e=>{const t=e.contentWidth;if(void 0===t)return 300;const i=((0,o.dl)()-t)/2;return(0,o.Uq)()<600||i<120?0:i>=300?300:i>=160?160:i>=120?120:void 0})(i),l.contextualSizes.sideRailWidth=r,d=(0,o.Uq)(l),l.contextualSizes.viewPortHeight=d;let c=.5*d-300;c=c>l.contextualSizes.viewPortHeight?0:c,d-=c,l.contextualSizes.sideBarTop=c;const p=t.split("_")[0];return d-=a(p,l,s),l.availableSpace={width:r,height:d},n.Ay.info(`Available space for ${"object"!=typeof e?e:e.unit}`,l),{width:r,height:d}},a=(e,t,i)=>{let n=0;t.contextualSizes.cornerVideoHeight=0,t.contextualSizes.bottomRailHeight=0;const o=Object.keys(window.ramp.settings.slots);for(let i=0;i<o.length;i++){const n=o[i],s=window.ramp.settings.slots[n];if("corner_ad_video"===s.type&&s.playerPosition.includes("bottom")&&s.playerPosition.includes(e)){const e="corner_ad_video";if(document.getElementById(e)){const e=s.playerSize[1];t.contextualSizes.cornerVideoHeight+=e}}else if(s.videoType&&"Bolt Player"===s.videoType&&s.desktopLocation&&"corner"===s.desktopLocation&&s.location&&s.location.y&&"bottom"===s.location.y&&s.location.x&&s.location.x===e){const e="tyche_trendi_video_container";if(document.getElementById(e)&&s.size?.desktop){const e=s.size.desktop[1];t.contextualSizes.cornerVideoHeight+=e}}else if("bottom_rail"===s.type){const e=d(s.config?.sizes);t.contextualSizes.bottomRailHeight=e}}if(i.length>0)for(let e=0;e<i.length;e++){const n=i[e];if("bottom_rail"===n.type){const e=d(n.unit.sizes);t.contextualSizes.bottomRailHeight=e}}return n=t.contextualSizes.cornerVideoHeight+t.contextualSizes.bottomRailHeight,n},d=e=>{let t=0;return e.forEach((([e,i])=>{i&&i>t&&(t=i)})),t},l=()=>{const e=window.ramp.settings,t=e.config.pageLayouts,i="mobile"===e.device?"mobile":"desktop";let n=!1;if(Array.isArray(t))for(let i=0;i<t.length;i++)e.atHome?"HP"===t[i].target&&(n=t[i]):null!==e.cp&&"CP"===t[i].target&&t[i].path===e.cp&&(n=t[i]),!1===n&&"ROS"===t[i].target&&(n=t[i]);return n&&n[i]?(e.pageLayout=n[i],n[i]):{}},c=e=>l().contentContainer||e.containerSelector||!1,p=e=>l().navigationContainer||e.stickyNavigationContainer||!1,g=e=>l().sidebarContainer||e.stickySidebarContainer||e.containerSelector||!1,u=e=>l().primaryWrapper||e.primaryWrapperSelector||!1,w=(e,t)=>{const i=e.clientWidth-parseInt(getComputedStyle(e).paddingLeft,10)-parseInt(getComputedStyle(e).paddingRight,10),n=(t||"")+(t?", ":"")+".pw-ad-scroll-container, .pw_report_ad_container, .pw-tag, .pw-corner-ad-video",o=Array.from(e.querySelectorAll("*"));let s=[];for(let t=0;t<o.length;t++){const r=o[t];if(n&&r.matches(n))continue;if(!r){console.error("An element does not exist.");continue}const a=getComputedStyle(r),d=r.offsetWidth,l=parseInt(a.marginLeft,10),c=parseInt(a.marginRight,10);let p=d+l+c+parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10);"flex"===getComputedStyle(e).display&&(p=d+l+c);const g=Math.round(100*p)/100;Math.abs(g-i)<=1&&s.push(r)}if("flex"===getComputedStyle(e).display){const t=h(e),i=s.concat(t);s=Array.from(new Set(i))}return s},m=(e,t)=>{const i=((e,t)=>{if(!(0,s.isV2Insertion)(t)&&t.elementSelector)return Array.from(e.querySelectorAll(t.elementSelector));const i=window.innerWidth/2,n=Array.from(e.querySelectorAll("p")).filter((e=>{const{left:t,right:n}=e.getBoundingClientRect();return t<i&&n>i}));if(n.length>0)return n;const o=w(e,t.excludedElements);return o?.length>0?o:void 0})(e,t)||[],n=((e,t)=>{const i=[],n=(t.excludedElements||"")+(t.excludedElements?", ":"")+".pw-ad-scroll-container, .pw_report_ad_container, .pw-tag, .pw-corner-ad-video";let o=[];if(!(0,s.isV2Insertion)(t)&&t.elementSelector)return e.forEach((e=>{n&&e.matches(n)||o.push(e)})),o;e.forEach((e=>{i.includes(e.parentElement)||i.push(e.parentElement)}));const r=[];return i.forEach((e=>{r.push(...Array.from(e.children))})),r.forEach((e=>{if(!n||!e.matches(n)){if("OL"===e.tagName||"UL"===e.tagName){if(n.match("li")?.index>0)return;o.push(...Array.from(e.querySelectorAll("li")))}o.push(e)}})),o=o.filter((e=>!o.some((t=>e!==t&&e.contains(t))))),o})(i,t);return!(0,s.isV2Insertion)(t)&&t.elementSelector||n.sort(((e,t)=>e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),n},h=e=>{const t=Array.from(e.children),i=(e=>{const t=window.getComputedStyle(e),i=e.clientWidth-(parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)),n=e.children;let o=0,s=0;for(let e=0;e<n.length;e++){const t=n[e],r=window.getComputedStyle(t),a=parseFloat(r.width)+parseFloat(r.marginLeft)+parseFloat(r.marginRight);if(!(Math.round(s+a)<=i))break;s+=a,o++}return o})(e);let n=0;const o=[];for(let e=0;e<t.length;e++)n===i&&(o.push(t[e]),n=0),n++;return o},f=(e,t)=>{const i=[];return t.forEach((t=>{const n=t.replace(/^([.#])(\d)/,"$1\\3$2 ");e.querySelectorAll(n).forEach((e=>i.push(e)))})),i},y=(e,t)=>{if(1===e.length)return e[0];const i=(e=>{const t=e.match(/\d+$/);return t?parseInt(t[0],10):0})(t);if(i>e.length){return e[e.length-1]}return 0===i?e[0]:e[i-1]},b=(e,t)=>{const i=window.PageOS.gdpr,n=window.ramp.privacy;let o=!n?.flags?.npa&&i?.userInEU&&!i?.consent?.acString;"rewarded_ad_video"===t&&(o=void 0===n?.flags?.npa&&i?.userInEU&&!1===i?.hasWindowCMP),(n?.flags?.rdp||window.PageOS.ccpa?.hasUserOptedOut()||!1===n?.advertisementCookiesEnabled)&&e.set("rdp","1"),(n?.flags?.npa||o||!1===n?.advertisementCookiesEnabled)&&e.set("npa","1"),n?.flags?.tfua&&e.set("tfua","1"),(n?.flags?.tfcd||void 0===n?.flags?.tfcd&&window.ramp.settings.isCoppa)&&e.set("tfcd","1")},_=e=>{if(void 0!==window[window.ramp.pbKey])return window[window.ramp.pbKey].adUnits?.find((t=>t.code===e))}},449:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(9522),o=i(653),s=i(2876);const r=()=>{(0,o.e)("in_content");const e=Object.keys(window.ramp.settings.slots);for(let t=0;t<e.length;t++){const i=e[t],n=window.ramp.settings.slots[i];"in_content"===n.type&&(0,s.Tz)(n)}(0,n.O)()}},7130:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m,handleLazyLoading:()=>w,isV2Insertion:()=>u,resizeObserver:()=>_});var n=i(9522),o=i(5358),s=i(8302),r=i(4337),a=i(1971),d=i(5160),l=i(5664),c=i(8900),p=i(9239),g=i(8221);const u=e=>"viewportHeight"===e.insertionType||"pixelValue"===e.insertionType,w=(e,t)=>{const i=new IntersectionObserver((n=>{if(n[0].isIntersecting){if(u(t.rules)){i.unobserve(e);const o=n[0].target.dataset.batchId;return void t.adRequestCallbacks[o]()}return 0===t.batch.length&&(t.batch=(0,s.A)(t),(0,r.JN)(t).then((()=>{(0,a.Ay)(t)}))),void i.unobserve(e)}}),{root:null,rootMargin:"0px",threshold:0});i.observe(e)},m=(e,t=!1)=>{window.ramp.settings.roadblockActive?window.PageOS.BUS.on("roadblock:removed",(()=>{h(e,t)})):h(e,t)},h=(e,t)=>{const i=(0,o.k)(e);if(!i)return;n.A.unit=e,n.A.rules=i,t&&(n.A.customProperties=t);const a=document.querySelector((0,l.Vz)(i));if(a&&!(0,c.RP)(a)&&(n.A.adsInPlace=new Set,n.A.resizeObserver=_,_.observe(a),n.A.containerElement=a,n.A.rules.heightReport=n.A.rules.adLabel?.enabled||n.A.rules.reportAdLink?.enabled?20:0,n.A.customProperties&&n.A.customProperties.selector?n.A.contentElements=(0,l.yl)(a,n.A.customProperties.selector):n.A.contentElements=(0,l.Hd)(n.A.containerElement,i),0!==n.A.contentElements.length)){if(n.A.relativePosition=i.placementRelativeToSelector?i.placementRelativeToSelector:"belowSelector",n.A.contentWidth=n.A.containerElement.getBoundingClientRect().width,window.pwEdgeFlags&&window.pwEdgeFlags.adResponsiveWrapper?n.A.adResponsiveWrapper=window.pwEdgeFlags.adResponsiveWrapper:n.A.adResponsiveWrapper=i.adResponsiveWrapper??!1,t&&t.sizes)n.A.filteredSizes=t.sizes;else{let t;try{t=document.querySelector(n.A.adResponsiveWrapper)?.getBoundingClientRect().width}catch(e){p.Ay.error("Error trying to filter valid ad sizes:",{message:e.message,stack:e.stack})}finally{t=t||n.A.contentWidth,n.A.filteredSizes=t&&t>0?(0,d.A)(e,i,t):i.sizes||e.sizes}}if(n.A.isVideoAllowed=!1,n.A.filteredSizes&&n.A.filteredSizes.length>0){let e;for(let t=0;t<n.A.filteredSizes.length;t++)"video"===n.A.filteredSizes[t][0]&&(e=t);null!=e&&(n.A.isVideoAllowed=!0,n.A.filteredSizes.splice(e,1))}n.A.maxInsertionInstances=i.maxInsertionInstances||!1,n.A.batch=(0,s.A)(n.A),0!==n.A.filteredSizes.length&&(n.A.rules.placementRelativeToSelector||(n.A.rules.placementRelativeToSelector="belowSelector"),u(n.A.rules)&&n.A.rules.lazyLoad?(0,r.JN)(n.A).then((()=>{b(n.A)})):f(n.A))}},f=e=>{window.PageOS.BUS.after("userScrollTriggered",(()=>{e.userHasScrolled=!0,(0,r.JN)(e).then((()=>{(0,a.Ay)(e)}))}))};let y;const b=e=>{if(y)return;y=!0;let t,i=performance.now();const n=()=>{clearTimeout(t),t=setTimeout((()=>{clearTimeout(t)}),500)};document.addEventListener("scroll",(()=>{e.userHasScrolled=!0,t?(clearTimeout(t),n()):(i=performance.now(),n());performance.now()-i<e.rules.scrollPpmLookback||(i=performance.now(),(void 0===e.rules.scrollPpmMax||e.scrollPpm<e.rules.scrollPpmMax)&&(0,a.Ay)(e))}));let o=window.scrollY,s=performance.now();const r=[],d=()=>{const t=performance.now(),i=window.scrollY,n=t-s;if(n>0){const t=(i-o)/n;r.push(t),r.length>20&&r.shift();const s=r.reduce(((e,t)=>e+t),0)/r.length;e.scrollPpm=s.toFixed(3)}o=i,s=t,requestAnimationFrame(d)};d()},_=new ResizeObserver(i.n(g)()((()=>{requestAnimationFrame((()=>{if(!n.A.userHasScrolled)return;const e=n.A.containerElement;e&&(n.A.customProperties&&n.A.customProperties.selector?n.A.contentElements=(0,l.yl)(n.A.containerElement,n.A.customProperties.selector):n.A.contentElements=(0,l.Hd)(e,n.A.rules),0!==n.A.contentElements.length&&(0,a.Ay)(n.A))}))}),500))},9522:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,O:()=>s});const n={},o=n,s=()=>{n.resizeObserver&&n.containerElement&&n.resizeObserver.unobserve(n.containerElement),Object.keys(n).forEach((e=>{delete n[e]}))}},884:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,K:()=>n});const n=(e=!1)=>{const t=document.createElement("div");t.classList.add("pw-ad-container-logo"),t.style.height=e?"11px":"20px",t.style.width=e?"55px":"20px",t.style.position=e?"relative":"absolute",t.style.bottom=e?"unset":"0px",t.style.right=e?"unset":"0px";const i=document.createElement("a");i.setAttribute("href","//playwire.com?utm_source=pw_ad_container"),i.setAttribute("target","_blank");const n=document.createElement("img"),o=e?"https://cdn.intergient.com/assets/1-playwire-logo-primary-2021.png":"https://cdn.intergient.com/assets/pw_logo.svg";return n.setAttribute("src",o),n.style.height="100%",n.style.width="100%",n.style.position="absolute",n.style.top="0px",n.style.right="0px",e&&(t.style.display="inline-block",t.style.marginBottom="-2px",t.style.marginRight="0"),i.appendChild(n),t.appendChild(i),t},o=({height:e,showLoader:t,backgroundColor:i,isNew:o})=>{const s=document.createElement("div");if(s.classList.add("pw-ad-scroll-container"),s.classList.add("pw-clearfix"),s.dataset.pwInArticle="true",s.style.width="100%",s.style.margin="10px 0",s.style.backgroundColor=i,s.style.minHeight=`${e}px`,s.style.position="relative",t){const e=document.createElement("div");e.classList.add("pw-loading-spinner");const t=document.createElement("div");t.classList.add("pw-loading-spinner-gif"),e.appendChild(t),s.appendChild(e)}if(!o){const e=n(!1);s.appendChild(e)}return s}},4337:(e,t,i)=>{"use strict";i.d(t,{JN:()=>p,VK:()=>c,nP:()=>l});var n=i(9239),o=i(5772),s=i(6238),r=i(2384),a=i(6288),d=i(1709);const l=(e,{unit:t,filteredSizes:i,contentWidth:n,isVideoAllowed:s})=>{const a=(0,d.XC)((0,d.PQ)(window.ramp.settings.config.headerBidding));if(!(0,o.MV)(a?.order,e))return!1;if(!1===window.ramp.privacy?.advertisementCookiesEnabled)return!1;"in_content"===e&&(i=i.filter((e=>600!==e[1])));const l={sizes:i,slotID:e,slotName:t.code};return s&&(0,r.dk)({data:l,bannerSizes:[[Math.floor(n),1e4]],minSizes:[300,168],maxSizes:[512,488]}),window.ramp.settings.amazonSlots.push(l),l},c=(e,{unit:t,filteredSizes:i,contentWidth:n,isVideoAllowed:a,rules:d})=>{if(!window.ramp.settings.headerBidding)return!1;if(!1===window.ramp.privacy?.advertisementCookiesEnabled)return!1;(0,s.Ix)(t.headerBids,window.ramp.settings),"in_content"===e&&(i=i.filter((e=>600!==e[1])));let l=(0,o.Os)({bids:t.headerBids.bids,order:window.ramp.settings.headerBidding.order,unitSizes:i,isVideoAllowed:a});const c={code:e,bids:l,mediaTypes:{banner:{sizes:i}}};if(a)if(window.pwEdgeFlags&&window.pwEdgeFlags.multiFormatUnitSplit){l=(0,o.Gb)(l);const i={code:e,bids:l,mediaTypes:{}};(0,r.ty)({data:i,type:t.unit,bannerSizes:[[Math.floor(n),1e4]],minSizes:[300,168],maxSizes:[512,488],rules:d}),window[window.ramp.pbKey].addAdUnits([i]),c.bids=(0,o.ZD)(c.bids)}else(0,r.ty)({data:c,type:t.unit,bannerSizes:[[Math.floor(n),1e4]],minSizes:[300,168],maxSizes:[512,488],rules:d});return window[window.ramp.pbKey].addAdUnits([c]),c},p=e=>{const t=e.batch||e.slot,i=Array.isArray(t)?t:[t];return new Promise((t=>{if(!window.ramp.settings.headerBidding)return void t();const s=window.ramp.settings.headerBidding.timeout||700,r=i.reduce(((e,t)=>(t.amazonSlot&&e.push(t.amazonSlot),e)),[]),d=i.reduce(((e,t)=>(t.prebidSlot&&e.push(t.prebidSlot.code),e)),[]);if(0===r.length&&0===d.length)return void t();let l=!1;if(r.length){const e=Date.now();window.PageOS.apstag.fetchBids(r,s).then((t=>{n.GE.info("Amazon Bids Back",{time:Date.now()-e,bids:t}),l=t,r.forEach((e=>{(0,a.f3)(l,e)}))}))}d.length?(i.forEach((e=>{e.prebidSlot.ortb2Imp=(0,o.IR)(e.prebidSlot.code,e.rampSlot)})),window[window.ramp.pbKey].requestBids({adUnitCodes:d,timeout:s,labels:[window.ramp.settings.uuid],bidsBackHandler:()=>{e.amazonBids=l,e.prebidBids=d,t()}})):setTimeout((()=>{e.amazonBids=l,t()}),s)}))}},7578:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(653),o=i(4337),s=i(5664),r=i(1971);const a=(e,t)=>{const{unit:i,rules:n}=t,o=document.createElement("div");o.id=e,o.classList.add("pw-tag"),o.classList.add("pw-in-article_hidden");n.maxHeightEnabled&&o.classList.add("pw-in-article--size-logic");try{document.querySelector(t.adResponsiveWrapper)&&o.classList.add("pw-ignore-content-width-restrictions")}catch(e){}if(!0===n.adContainer){o.classList.add("pw-sticky");const e=(0,s.Ej)(n);if(e){let t=0;document.querySelectorAll(e).forEach((e=>{t+=e.clientHeight})),o.setAttribute("style",`top: ${t}px !important`)}}return{adFetchCount:0,type:i.unit,element:o,firstView:!1,pos:i.unit,id:e,imps:0,inView:!1,viewability:0,refreshes:0,pbjsRefreshes:0,refreshBlocked:!1,on:!0,oop:!1,slot:null,status:0,config:i,rules:n,filteredSizes:t.filteredSizes,queued:!1,sticky:null,lazy:!!n.lazyLoad,pbjsBid:null,amazonBid:{hasBid:!1},lastRefresh:Date.now()}},d=e=>{const t=(0,n.A)(e.unit.unit);return{amazonSlot:(0,o.nP)(t,e),prebidSlot:(0,o.VK)(t,e),rampSlot:a(t,e),gamSlot:(0,r.E5)(t,e)}}},8302:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(7578),o=i(7130);const s=(e,t)=>{const{rules:i,isVideoAllowed:s,batch:r=[]}=e;if(0===e.filteredSizes.length)return r;if(s&&(!window.pwEdgeFlags||!window.pwEdgeFlags.multiFormatUnitSplit)){let t=!1;e.filteredSizes.forEach((e=>{7===e[0]&&7===e[1]&&(t=!0)})),t||e.filteredSizes.push([7,7])}const a=(t=>{let n;if(n=t?r.length+i.incrementBidsOnRender:i.fetchBidsOnLoad||i.batchLoadSize,(0,o.isV2Insertion)(i)&&e.maxInsertionInstances&&"in_content"===e.unit.unit){e.totalInsertedInstances=e.totalInsertedInstances||0;e.totalInsertedInstances+n>e.maxInsertionInstances&&(n=e.maxInsertionInstances-e.totalInsertedInstances),e.totalInsertedInstances+=n}return n})(t);for(;r.length<a;)r.push((0,n.A)(e));return r}},5160:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=(e,t,i)=>((window.ramp.settings.isMobile?t.mobileSizes:t.desktopSizes)||t.sizes||e.sizes).filter((e=>e[0]<=i||"video"===e[0]||"fluid"===e[0]))},1971:(e,t,i)=>{"use strict";i.d(t,{$Z:()=>C,E5:()=>q,Ay:()=>N,gK:()=>M,_Q:()=>H,av:()=>T,gP:()=>V});var n=i(5772),o=i(884),s=i(9522),r=i(8662),a=i(8302),d=i(4337);const l=e=>{const t=window.ramp.settings.slots[e],i=t&&t.type;return"in_content"===i?s.A:"sidebar"===i?r.sidebarUnitInfo:void 0},c=new IntersectionObserver((e=>{e.forEach((e=>{if(e.intersectionRatio>0||e.target.getBoundingClientRect().top<window.innerHeight){c.unobserve(e.target);const t=l(e.target.id);if(0===t.contentElements.length)return;t.contentWidth=t.containerElement.getBoundingClientRect().width,t.batch=(0,a.A)(t),(0,d.JN)(t).then((()=>{N(t)}))}}))}),{rootMargin:"0px",threshold:0}),p=c;var g=i(8900),u=i(5664),w=i(7350);let m=!1,h=!1;const f=e=>{if(m||!e.rules.maxHeightEnabled)return;let t=0;window.addEventListener("scroll",(()=>{m=!0;const e=document.body.getBoundingClientRect().top,i=t-e;t=e;const n=document.getElementsByClassName("pw-in-article--size-logic");Array.from(n).forEach((e=>{const t=e.querySelector("[id^='google_ads_iframe_'], [id^='pw_ads_iframe_']");if(e.querySelector(".pw-custom-ima-container"))return t.style.position=null,void(t.style.top=null);if(e.clientHeight>0&&(0,g.Sp)(e)>70){const t=e.querySelector("[id^='google_ads_iframe_'], [id^='pw_ads_iframe_']");if(!t)return;const n=t.querySelector("iframe[id^='google_ads_iframe_'], iframe[id^='pw_ads_iframe_']");if(n&&(n.style.margin="0 auto"),void 0!==t&&t.clientHeight>C){t.style.position="relative";const e=C-t.clientHeight;let n=t.offsetTop-i;n=n>0?0:n,n=n<e?e:n,t.style.top=`${n}px`}}}))}))},y=i.n(w)()((()=>{if(!1===h)return;const e=s.A.containerElement;if(!e)return;if(s.A.customProperties&&s.A.customProperties.selector?s.A.contentElements=(0,u.yl)(s.A.containerElement,s.A.customProperties.selector):s.A.contentElements=(0,u.Hd)(e,s.A.rules),0===s.A.contentElements.length)return;const t=s.A.contentElements.length,i=s.A.lastPlacementMarker;s.A.contentElements.forEach(((e,n)=>{e===i&&t>n+s.A.rules.batchLoadSize&&(window.removeEventListener("scroll",y),h=!1,N(s.A))}))}),500);var b=i(9239),_=i(5134),v=i(2384),S=i(2344),A=i(7130),k=i(9559),E=i(791);const I="topAndBottom",P="bgColor",O="transparent",x=[[768,432],[640,360],[512,288],[384,216],[320,180]],C=500,M=e=>{let t="#F5F5F5";const i=e.background?.styling||I;return(e.background?.enabled||i===P)&&e.background.color?t=e.background.color:!1!==e.background?.enabled&&i!==O&&i!==I||(t="transparent"),t},T=e=>{if(e.insertedDistance){if(e.insertedDistance.includes("px"))return parseFloat(e.insertedDistance,10);if(e.insertedDistance.includes("vh"))return window.innerHeight*(parseFloat(e.insertedDistance,10)/100)}const t=window.ramp.settings.isMobile?e.mobileMinimumSpacing:e.desktopMinimumSpacing;return void 0!==t?t:e.minimumSpacing},B=(e,t,i,n)=>{if(!(0,A.isV2Insertion)(e.rules))return t===i+T(e.rules)+n;const o=T(e.rules),s=e.lastPlacementMarker.getBoundingClientRect().bottom;return e.contentElements[t].getBoundingClientRect().top>s+o},z=(e,t)=>{const i=window.ramp.settings.slots?.corner_ad_video,n=((e,t)=>{if("in_content"===e.unit.unit){const i=$(e);return e.contentElements[t].getBoundingClientRect()[i]}return e.contentElements[t].getBoundingClientRect().top})(e,t),o=i?.rules?.mobileLocation,s="top"===o&&window.ramp.isMobile&&i.rules.inline;return new Promise((o=>{i?.rules?.inline&&"in_content"===e?.unit?.unit&&!s?e?.rules?.elementSelector?D(i,n,o,e):R(e,i,n,o,t):o(j(e,n,t))}))},D=(e,t,i,n)=>{e.rules.elementSelector?i(j(n,t)):(window.PageOS.BUS.on("firstCornerVideoPlacedHeight",(()=>{window.firstCornerVideoPlaced=!0})),window.firstCornerVideoPlaced&&i(t>window.thresholdHeight))},R=(e,t,i,n,o)=>{const s=j(e,i);if(t.rules.elementSelector){const e=document.querySelector((0,u.Vz)(t.rules));if(!(e?e.querySelector(t.rules.elementSelector):document.querySelector(t.rules.elementSelector)))return console.warn("Element specified by elementSelector not found."),void n(!0);s?(window.firstIncontentPlaced||(window.PageOS.BUS.emit("firstIncontentPlacedHeight",i),window.firstIncontentPlaced=!0),n(!0)):n(!1)}else!0===e.rules.adsAtf&&"aboveTheFold"!==t.insertionType?U(e,o,s,n):L(e,o,n)},U=(e,t,i,n)=>{if(window.PageOS.BUS.on("firstCornerVideoPlacedIdx",(t=>{window.firstCornerVideoPlaced=!0,window.thresholdIdx=t,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[t]}),!1),window.firstCornerVideoPlaced){n(t>=(0,k.nextElementInlineIdx)(e.contentElements,e.rules,window.thresholdIdx))}else i&&window.PageOS.BUS.emit("firstIncontentPlacedIdx",t),n(i)},L=(e,t,i)=>{if(window.PageOS.BUS.on("firstCornerVideoPlacedIdx",(t=>{window.firstCornerVideoPlaced=!0,window.thresholdIdx=t,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[t]}),!1),window.firstCornerVideoPlaced){i(t>=(0,k.nextElementInlineIdx)(e.contentElements,e.rules,window.thresholdIdx))}else i(!1)},j=(e,t,i)=>{let n=!1;t<0&&(n=!1),!0!==e.rules.adsAtf&&(n=t>window.innerHeight);const o="string"==typeof e.rules.firstAdDistance;return o&&e.rules.firstAdDistance.includes("px")&&(n=t>parseFloat(e.rules.firstAdDistance,10)),o&&e.rules.firstAdDistance.includes("vh")&&(n=t>window.innerHeight*(parseFloat(e.rules.firstAdDistance,10)/100)),"number"==typeof e.rules.firstAdDistance&&(n=t>e.rules.firstAdDistance),!1===n&&((e,t)=>{if(!0!==t.rules.ignoreCLS)return;const i=new IntersectionObserver((n=>{n[0].isIntersecting&&(i.unobserve(e),t.placements=[],t.placements.push(e),t.batch=(0,a.A)(t,!0),(0,d.JN)(t).then((()=>{W(t)})))}),{root:null,rootMargin:"0px",threshold:0});i.observe(e)})(e.contentElements[i],e),n},N=async e=>{if(void 0!==e.rules.scrollPpmMax&&e.scrollPpm>e.rules.scrollPpmMax)return;if(0===e.batch.length&&e.maxInsertionInstances&&e.totalInsertedInstances&&e.maxInsertionInstances===e.totalInsertedInstances)return;e.placements=[];let t=e.lastPlacementIdx||0,i=0;const{rules:n}=e;for(let o=t;o<e.contentElements.length;o++){if(e.rules.lazyLoad&&e.lastPlacementMarker){const t=e.contentElements[o].getBoundingClientRect(),s=t.top,r=t.bottom,a=e.lastPlacementMarker.getBoundingClientRect().bottom;if(n.insertedDistance&&e.lastAd){const t=e.lastAd.getBoundingClientRect().bottom,s=T(n);if(t+s>window.innerHeight)break;if(r<window.innerHeight||r<t+s){o===e.contentElements.length-1&&(e.customProperties&&e.customProperties.selector?e.contentElements=(0,u.yl)(e.containerElement,e.customProperties.selector):e.contentElements=(0,u.Hd)(e.containerElement,n)),i++;continue}i=0,e.lastPlacementIdx=o,e.lastPlacementMarker=e.contentElements[o],e.placements.push(e.contentElements[o]);break}if(e.contentElements[o]!==e.lastPlacementMarker&&s<a){i++;continue}}if(o>0&&e.contentElements[o].getBoundingClientRect().top<e.contentElements[o-1].getBoundingClientRect().bottom)i++;else{if(e.lastPlacementMarker)B(e,o,t,i)&&(i=0,t=o,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[o],e.placements.push(e.contentElements[o]));else if(!e.lastPlacementMarker&&await z(e,o)&&(t=o,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[o],e.placements.push(e.contentElements[o]),n.lazyLoad&&"in_content"!==e.unit.unit))break;if(e.placements.length===e.batch.length&&(e.lastPlacementIdx=o,(0,A.isV2Insertion)(n)&&(e.lastPlacementIdx=o+1,e.lastPlacementMarker=e.contentElements[o+1]),!n.lazyLoad||n.lazyLoad&&"in_content"===e.unit.unit))break;if(e.placements.length===e.batch.length+1&&n.lazyLoad&&"in_content"===e.unit.unit){e.specialMarker=e.contentElements[o];break}}}W(e)},W=e=>{const{rules:t,filteredSizes:i}=e,n=Array.isArray(e.placements)?e.placements:[e.placements];if(0===n.length)return;if(!t.adContainer)return void F(e,n);const s=[];n.forEach(((r,a)=>{if(a>=n.length)return;let d;if(t.adContainer){const e=M(t),n=void 0!==t.pwBranding;d=(0,o.A)({height:H(t,i),showLoader:t.showLoader,backgroundColor:e,isNew:n})}else d=document.createElement("div"),d.classList.add("pw-in-article--size-logic__container");s.push(d);const l=V(e);r.insertAdjacentElement(l,d)})),F(e,s)},V=e=>{let t="beforebegin";if("in_content"!==e.unit.unit&&"corner_ad_video"!==e.unit.unit)return t;switch(e.relativePosition){case"belowSelector":t="afterend";break;case"aboveSelector":t="beforebegin";break;default:t="afterbegin"}return t},$=e=>{let t="";if("belowSelector"===e.relativePosition)t="bottom";else t="top";return t},H=(e,t,i=!1)=>{let n=0;const o=e.maxHeightEnabled;o?(n=i?400:C,i&&(n+=20)):(t.forEach((([e,t])=>{t&&t>n&&(n=t)})),e.padding&&(n+=e.padding));const s=e.heightReport??0;return n+=o?0:s},F=(e,t)=>{const i=e.rules,o=[];(Array.isArray(e.batch)?e.batch:[e.batch]).forEach((e=>{o.push(e.gamSlot)}));let s=i.adContainer||i.maxHeightEnabled?"beforeend":"afterend";"sidebar"!==e.unit.unit||i.adContainer||i.maxHeightEnabled||(s="beforebegin");for(let o=0;o<t.length;o++){const r=t[o];if(void 0!==e.adsInPlace){if(e.adsInPlace.has(r))continue;e.adsInPlace.add(r)}const l=Z(e.batch),c=l.rampSlot;if(c.slot=l.gamSlot,(0,S.H)(c),e.amazonBids&&(0,n.mq)(e.amazonBids),e.prebidBids&&window[window.ramp.pbKey].setTargetingForGPTAsync(e.prebidBids),window.ramp.settings.slots[l.rampSlot.id]=l.rampSlot,i.adContainer&&(window.ramp.settings.slots[l.rampSlot.id].adContainerElement=r),e.rules.adContainer?r.insertAdjacentElement(s,l.rampSlot.element):r.insertAdjacentElement(V(e),l.rampSlot.element),0===e.batch.length&&(e.lastAd=r),(0,A.isV2Insertion)(i)&&i.lazyLoad&&e.lastAd)return e.batch=(0,a.A)(e,!0),(0,d.JN)(e),r.dataset.batchId=l.rampSlot.id,e.adRequestCallbacks=e.adRequestCallbacks||{},e.adRequestCallbacks[l.rampSlot.id]=()=>{i.maxHeightEnabled&&f(e)},(0,A.handleLazyLoading)(r,e),void(e.lastAd=r);if(0===e.batch.length){if(!i.lazyLoad){p.observe(l.rampSlot.element);break}if(i.lazyLoad&&"in_content"===e.unit.unit){const t=e.specialMarker||r;return t.dataset.batchId=l.rampSlot.id,(0,A.handleLazyLoading)(t,e),void(e.specialMarker=null)}}}i.lazyLoad||((0,_.A)(o),i.maxHeightEnabled&&f(e)),e.batch.length>0&&!i.scrollPpmMax&&(b.GE.info(`${e.batch.length} bids not placed`),"in_content"===e.unit.unit&&(h||(h=!0,window.addEventListener("scroll",y))));const r=window.ramp.settings;if(i.lazyLoad&&!r.slotReadyTime){(new E.A).startSpying(),r.slotReadyTime=new Date}},Z=e=>e.shift(),q=(e,t)=>{const{unit:i,filteredSizes:o,isVideoAllowed:s,customProperties:r}=t,a=(s&&"in_content"===i.unit?((e,t)=>{const i=[...e],n=(0,v.iz)({data:{},bannerSizes:[[Math.floor(t),1e4]],minSizes:[300,168],maxSizes:[512,488]}),[o,s]=n||[0,0];for(let e=0;e<x.length;e++){const[t,n]=x[e];if(t<=o&&n<=s){i.push(x[e]);break}}return i})(o,t.contentWidth):o).filter((t=>"in_content"!==e||600!==t[1]));let d=i.code;if(r){let t="";r.unitCode&&(d=(0,u.u1)(r.unitCode,e),t+=` Custom unitCode: ${d} | `),r.sizes&&(t+=" Custom sizes (filtered): ",a.forEach((e=>{t+=`[${e}]`}))),r.selector&&(t+=` Custom selector: ${r.selector} | `),b.TH.info(`Defining customized GAM slot ${e} | ${t}`)}const l=window.googletag.defineSlot(d,a,e);l.setTargeting("pos",i.unit),l.setTargeting("slot_id",e),l.setTargeting("refresh","false"),l.setTargeting("amazonBid","false");const c=i.path??i.section;return l.setTargeting("custom_path",c.replace(/CP\[|\]/g,"")),l.setTargeting("lld_id",(0,n.t3)()),l.addService(window.googletag.pubads()),l}},5358:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,k:()=>r});var n=i(2326),o=i(5664),s=i(7130);const r=e=>{const t=(0,n.M)(window.ramp.settings,e,"any");if(!t)return!1;if(0===((window.ramp.settings.isMobile?t.mobileSizes:t.desktopSizes)||t.sizes||e.sizes||[]).length)return!1;if("sticky_sidebar"===e.unit)return!(!(0,o.cl)(t)||!t.stickySidebarContentEnd)&&t;const i=(window.ramp.settings.isMobile?t.mobileMinimumSpacing:t.desktopMinimumSpacing)||t.minimumSpacing;return!!((0,s.isV2Insertion)(t)||void 0!==t.batchLoadSize&&void 0!==i)&&(!(!(0,o.Vz)(t)||"undefined"===t.insertionType&&!t.elementSelector)&&t)},a=e=>[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros].find((t=>t.unit===e))},1447:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>d,Bn:()=>a,XU:()=>r,gQ:()=>s});var n=i(5358),o=i(449);const s=(e=!1)=>{const t=(0,n.A)("corner_ad_video");t&&Promise.resolve().then(i.bind(i,9559)).then((i=>{i.default(t,e)}))},r=(e=!1)=>{const t=(0,n.A)("precontent_ad_video");t&&i.e(979).then(i.bind(i,3928)).then((i=>{i.default(t,e)}))},a=()=>{const e=(0,n.A)("rewarded_ad_video");e&&i.e(407).then(i.bind(i,5223)).then((t=>{t.default(e)}))},d=(e,t=!1)=>{if("in_content"===e){(0,o.A)();const e=(0,n.A)("in_content");e&&Promise.resolve().then(i.bind(i,7130)).then((i=>{i.default(e,t)}))}else if("sidebar"===e){const e=(0,n.A)("sidebar");e&&Promise.resolve().then(i.bind(i,8662)).then((i=>{i.default(e,t)}))}else if("sticky_sidebar"===e){const e=(0,n.A)("sticky_sidebar");e&&Promise.resolve().then(i.bind(i,3525)).then((i=>{i.default(e,t)}))}else"corner_ad_video"===e?s(t):"precontent_ad_video"===e?r(t):"rewarded_ad_video"===e&&a()}},653:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,e:()=>s});const n={};const o=e=>(n[e]||(n[e]=function*(e){let t="";const i=(e=>"sidebar"===e||"sticky_sidebar"===e)(e)?"pw_":"";for(yield`${i}${e}${t}`,t=2;;)yield`${i}${e}${t}`,t++}(e)),n[e].next().value),s=e=>{delete n[e]}},3711:(e,t,i)=>{"use strict";i.d(t,{EX:()=>A,Ub:()=>v,ry:()=>S,vk:()=>k});var n=i(449),o=i(8662),s=i(3525),r=i(9239),a=i(8804),d=i(1811),l=i(1447),c=i(8900),p=i(6108),g=i(6405),u=i(6238),w=i(5919);let m=null,h=null,f=null,y=null,b=[],_=!1;const v=e=>new Promise(((t,i)=>{if(!e)return void i('No slots specified. Pass "all" param to destroy all slots');"string"==typeof e&&"all"===e.toLowerCase()&&(e=Object.keys(window.ramp.settings.slots));const a=window.ramp.settings,d=Array.isArray(e)?e:[e];r.Sc.debug("Destroying slots:",d);for(let e=0;e<d.length;e++){let t=d[e];window.ramp.isMobile&&0===t.indexOf("leaderboard")&&(t=t.replace("leaderboard","pw-320x50"));const i=a.slots[t];if((t.includes("left_rail")||t.includes("right_rail"))&&("pw-oop-left_rail"!==(l=t)&&"pw-oop-right_rail"!==l||v(`${l}2`)),i){if(b=b.filter((e=>e!==t)),"Bolt Player"===i.videoType){m=null,a.slots[t].destroyUnit&&a.slots[t].destroyUnit();continue}if("in_content"===t?(0,n.A)():"sidebar"===t?(0,o.destroySidebar)():"pw_sticky_sidebar"===t?(0,s.destroyStickySidebar)():"corner_ad_video"===t?(i.__destroyUnit(),h=!1):"rewarded_ad_video"===t?(i.__destroyUnit(),y=!1):"precontent_ad_video"===t&&(f=!1),clearTimeout(i.refreshTimeout),clearTimeout(i.auctionTimeout),!i.slot)continue;window.googletag.cmd.push((()=>{window.googletag.destroySlots([i.slot]),a.amazonSlots=a.amazonSlots.filter((e=>e.slotID!==i.id)),a.hbEnabled&&window[window.ramp.pbKey].removeAdUnit(i.id),i.element&&(i.element.parentElement?.id===`${i.element.id}_container`?i.element.parentElement.remove():i.element.remove()),delete a.slots[i.id]}))}}var l;t()})),S=e=>new Promise(((t,i)=>{if(r.Sc.debug("addUnits method called with:",e),!e){const e="No units given.";return r.Sc.warn(e),void i(e)}const n=[],o="desk"===window.ramp.settings.deviceSelector?"pwDesk":"pwMobi";(e=Array.isArray(e)?e:[e]).forEach((e=>{const{selectorId:t,type:s,unitCode:r,sizes:p,selector:u}=e,b=((e,t)=>e?document.getElementById(e):t?document.querySelector(t):void 0)(t,u),v=!!(r||p||u)&&{};if(r){const e=Array.isArray(r)?r:[r];v.unitCode=e}if(p&&(v.sizes=p),u){const e=Array.isArray(u)?u:[u];v.selector=e}if("corner_video"!==s&&"trendi_video"!==s)if("trendi_native"!==s&&"trendi_slideshow"!==s){if("corner_ad_video"===s)return h=!0,void(_=v);if("precontent_ad_video"===s)return f=!0,void(_=v);if("rewarded_ad_video"!==s)if(g.Tz.includes(s))n.push((0,a.P3)(s,!0).then((e=>{e&&(window.ramp.settings.slots[e.id]=e)})));else if(s.indexOf("relevant_article")>-1){const e=[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros].find((e=>"relevant_article"===e.unit));if(e){new d.A(e).init()}}else if("in_content"===s||"sidebar"===s||"sticky_sidebar"===s||"corner_ad_video"===s||"precontent_ad_video"===s||"rewarded_ad_video"===s)(0,l.Ay)(s,v);else if(b)if((0,c.RP)(b))i("selectorId is a hidden element.");else{const e=document.createElement("div");e.dataset[o]=s,e.dataset.selectorId=t,b.appendChild(e),n.push((0,w.qP)(window.ramp.settings,e,v))}else if(void 0===t){const e=(0,w.op)(s,!1,!0);e.rules.locationSelector||i("No locationSelector set in the rules.");const t=!!e.rules&&e.rules.locationSelector.split(",");if(t)for(let i=0;i<t.length;i++){e.rules=Object.assign({},e.rules),e.rules.locationSelector=t[i];if(!0===window.ramp.override?.settings?.multiSelect){const t=document.querySelectorAll(e.rules.locationSelector),i=!1;t.forEach((t=>{n.push((0,a.P3)(s,!1,!1,e,i,t))}))}else n.push((0,a.P3)(s,!1,!1,e))}}else s.indexOf("in_article")>-1&&i("in-article unit is no longer supported."),null===b&&i(`No element found for selector: ${t}`);else y=!0}else m="trendi_slideshow";else m="trendi_video"})),Promise.all(n).then((()=>{t()})).catch((e=>{r.Sc.warn("Error in tag promises."),i(`Error in tag promises: ${e}`)}))})),A=()=>new Promise(((e,t)=>{r.Sc.debug("displayUnits method called."),m&&window.PageOS.tyche.createVideoUnit(m),h&&(0,l.gQ)(_),f&&(0,l.XU)(_),y&&(0,l.Bn)();const i=Object.keys(window.ramp.settings.slots).filter((e=>!b.includes(e)));if(0===i.length)return r.Sc.warn("displayUnits: no units to display."),void e();r.Sc.debug("displayUnits: displaying units:",i),i.forEach((e=>{b.push(e)})),(0,u.Ay)().then((t=>{(0,p.A)(t),e()})).catch((e=>{t("No new slots",e)}))})),k=e=>{if(e){const t=Object.keys(e);for(let i=0;i<t.length;i++){let n=t[i];if(e.hasOwnProperty(n)){const t=e[n];n=E(n),window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting(n,t)}))}}}},E=e=>{let t=`pw_custom_${e}`;return t.length>30&&(t=t.slice(0,30)),t}},8662:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w,destroySidebar:()=>f,sidebarUnitInfo:()=>u});var n=i(5358),o=i(8302),s=i(4337),r=i(1971),a=i(653),d=i(2876),l=i(5160),c=i(5664),p=i(8900);const g={},u=g,w=(e,t=!1)=>{window.ramp.settings.roadblockActive?window.PageOS.BUS.on("roadblock:removed",(()=>{m(e,t)})):m(e,t)},m=(e,t)=>{if(window.ramp.settings.isMobile)return;const i=(0,n.k)(e);if(!i)return;g.unit=e,g.rules=i,t&&(g.customProperties=t);const s=document.querySelector((0,c.cl)(i));if(s&&!(0,p.RP)(s)&&(g.containerElement=s,g.contentElements=g.containerElement.querySelectorAll(i.elementSelector),0!==g.contentElements.length)){if(g.rules.heightReport=g.rules.adLabel?.enabled||g.rules.reportAdLink?.enabled?20:0,g.contentWidth=h(g.containerElement),t&&t.sizes?g.filteredSizes=t.sizes:g.filteredSizes=g.contentWidth?(0,l.A)(e,i,g.contentWidth):i.sizes||e.sizes,g.isVideoAllowed=!1,g.filteredSizes&&g.filteredSizes.length>0){let e;for(let t=0;t<g.filteredSizes.length;t++)"video"===g.filteredSizes[t][0]&&(e=t);null!=e&&(g.isVideoAllowed=!0,g.filteredSizes.splice(e,1))}g.batch=(0,o.A)(g),0!==g.filteredSizes.length&&b(g)}},h=e=>{const t=getComputedStyle(e),i=parseFloat(t.paddingLeft),n=parseFloat(t.paddingRight);return e.clientWidth-i-n},f=()=>{(0,a.e)("sidebar");const e=Object.keys(window.ramp.settings.slots);for(let t=0;t<e.length;t++){const i=e[t],n=window.ramp.settings.slots[i];"sidebar"===n.type&&(0,d.Tz)(n)}y()},y=()=>{Object.keys(g).forEach((e=>{delete g[e]}))},b=e=>{window.PageOS.BUS.after("userScrollTriggered",(()=>{(0,s.JN)(e).then((()=>{(0,r.Ay)(e)}))}))}},3525:(e,t,i)=>{"use strict";i.r(t),i.d(t,{createGamSlot:()=>M,default:()=>b,destroyStickySidebar:()=>S,setSideBarHeight:()=>L});var n=i(5772);const o={},s=o;var r=i(5358),a=i(4337),d=i(7578),l=i(884),c=i(653),p=i(2876),g=i(9239),u=i(5134),w=i(1447),m=i(5664);const h=e=>{const t="data-observed",i=document.getElementById(e.wrapperContainer.id),n=getComputedStyle(i).height,o=parseFloat(n.replace("px",""));if(window.ramp?.utils?.cache?.stickySidebarWrapperHeights.push(o),!i.getAttribute(t)){const n=new IntersectionObserver((t=>{t.forEach((t=>{!t.isIntersecting&&t.intersectionRect.y<200&&((e=>{const t=window.ramp?.utils?.cache?.stickySidebarWrapperHeights||[],i=t.reduce(((e,t)=>e+t),0),n=t.length>0?i/t.length:0,o=(0,m.cl)(e.rules),s=o?document.querySelector(o):null;if(!s)return void g.Ay.error("pw_sticky_sidebar parent sidebar container not found.");const r=getComputedStyle(s).height,a=parseFloat(r);let d="px";const l=r.match(/[a-z]+/i);let c;switch(l&&l.length>0&&(d=l[0]),d){case"px":c=a;break;case"em":c=16*a;break;case"%":c=a/100*window.innerHeight;break;default:g.Ay.error("Unit for the sidebar container height not supported:",d),c=a}const p=window.ramp?.utils?.cache?.existingSidebarHeights;c>=i+n+((p&&p.length>0?p[0]:0)||0)&&(0,w.Ay)("sticky_sidebar")})(e),n.disconnect())}))}),{root:null,threshold:[.8,.9]});n.observe(i),i.setAttribute(t,"true")}};var f=i(8900),y=i(2344);const b=(e,t=!1)=>{window.ramp.settings.roadblockActive?window.PageOS.BUS.on("roadblock:removed",(()=>{_(e,t)})):_(e,t)},_=(e,t)=>{if(window.ramp.settings.isMobile)return;const i=(0,r.k)(e);if(!i)return;s.unit=e,s.rules=i,t&&(s.customProperties=t),s.rules.heightReport=s.rules.adLabel?.enabled||s.rules.reportAdLink?.enabled?20:0;const n=document.querySelector((0,m.cl)(i));if(n&&(0,f.RP)(n))return;s.containerElement=n;const o=(0,m.Ej)(i);o&&(s.navigationElement=document.querySelectorAll(o)),s.placement=document.querySelector(i.stickySidebarContentEnd),window.ramp.utils=window.ramp.utils||{},window.ramp.utils.cache=window.ramp.utils.cache||{},window.ramp.utils.cache.stickySidebarWrapperHeights=window.ramp.utils.cache.stickySidebarWrapperHeights||[],window.ramp.utils.cache.existingSidebarHeights=window.ramp.utils.cache.existingSidebarHeights||[];const a=n?$(n):0;if(window.ramp.utils.cache.existingSidebarHeights.push(a),window.ramp.settings.slots.pw_sticky_sidebar){const e=document.querySelectorAll("[id^=sticky_wrapper_container]").length;s.placement=document.getElementById(`sticky_wrapper_container${e}`)}if(!s.placement)return;const d=document.querySelector((0,m.i7)(s.rules));if(d){const e=U(s);s.primaryWrapperHeight=e,L(e),R(d,e,s)}if(s.availableSpace=T(),s.isVideoAllowed=!1,s.unit.sizes&&s.unit.sizes.length>0){let e;for(let t=0;t<s.unit.sizes.length;t++)"video"===s.unit.sizes[t][0]&&(e=t);null!=e&&(s.isVideoAllowed=!0,s.unit.sizes.splice(e,1))}s.contentWidth=s.availableSpace.width,t&&t.sizes?s.filteredSizes=t.sizes:s.filteredSizes=B(),window.PageOS.BUS.on("sticky_video_closed",(()=>{v(s)}),!1),window.PageOS.BUS.on("bottom_rail_closed",(()=>{v(s)}),!1),0!==s.filteredSizes.length&&A(s)},v=e=>{e.availableSpace=T(),e.contentWidth=e.availableSpace.width;const t=e.filteredSizes.length;if(e.filteredSizes=B(),0!==e.filteredSizes.length)if(0===t)A(e);else if(e.filteredSizes.length>t){const t=Object.keys(window.ramp.settings.slots);for(let i=0;i<t.length;i++){const n=t[i],o=window.ramp.settings.slots[n];"sticky_sidebar"===o.type&&(o.recalculateStickySidebar=!0,o.filteredSizes=e.filteredSizes)}}},S=()=>{window.ramp.utils=window.ramp.utils||{},window.ramp.utils.cache={},(0,c.e)("sticky_sidebar");const e=Object.keys(window.ramp.settings.slots);for(let t=0;t<e.length;t++){const i=e[t],n=window.ramp.settings.slots[i];"sticky_sidebar"===n.type&&(0,p.Tz)(n)}Object.keys(o).forEach((e=>{delete o[e]}))},A=e=>{if(D())k(e);else{const t=()=>{z()&&(window.removeEventListener("scroll",t),k(e))};window.addEventListener("scroll",t)}},k=e=>{if(e.availableSpace=T(),e.filteredSizes=B(),0===e.filteredSizes.length)return;e.slot=(0,d.A)(e),I(e),(0,a.JN)(e).then((()=>{E(e)}));!!e.rules.recreateAd&&e.rules.recreateAd&&(e=>new Promise(((t,i)=>{let n=2;void 0!==e.rules.recreateAdTime&&(n=e.rules.recreateAdTime);const o=document.getElementById(e.wrapperContainer.id);o||(i(),g.Ay.error("waitForTimerPromise: promise rejected, element to observe not found"));const s=new IntersectionObserver((e=>{const t=window.innerHeight;e.forEach((e=>{const i=o.offsetHeight;if(e.boundingClientRect.y<0&&e.intersectionRatio<.4){const e=i,n=Math.min(.25*t,700);L(e+n),g.Ay.info("sticky wrapper container height updated to:",e)}}))}),{root:null,threshold:[.1,.2,.3,.4,.5]});if(s.observe(o),n<=0){const e=setInterval((()=>{clearInterval(e),s.disconnect(),t()}),1001)}const r=setInterval((()=>{n--,n<=0&&(clearInterval(r),s.disconnect(),t())}),1e3)})))(e).then((()=>{h(e)})).catch((()=>{g.Ay.error("waitForTimerPromise: promise rejected")}))},E=e=>{const t=e.slot.gamSlot,i=e.slot.rampSlot.id;window.ramp.settings.slots[i]=e.slot.rampSlot;const o=e.slot.rampSlot;o.slot=t,(0,y.H)(o),e.amazonBids&&(0,n.mq)(e.amazonBids),e.prebidBids&&window[window.ramp.pbKey].setTargetingForGPTAsync(e.prebidBids),(0,u.A)([t])},I=e=>{const t=!!e.rules.recreateAd&&e.rules.recreateAd,i=P();let n;const o=O(i,e);t&&(n=x(i,e),n.appendChild(o));const s=e.slot.rampSlot.element;o.appendChild(s),e.slot.rampSlot.adContainerElement=o,n&&(e.slot.rampSlot.adContainerElement=n);const{pwBranding:r}=e.rules;if(!1!==r){const t=(0,l.K)();e.slot.rampSlot.pwLogoElement=t,t.style.display="none",t.style.bottom="-15px",t.style.right="0",t.style.margin="0",o.appendChild(t)}return C(e.placement,t?n:o),s},P=()=>{let e=1;return window.ramp.settings.slots.pw_sticky_sidebar&&(e=document.querySelectorAll("[id^=sticky_wrapper_container]").length+1),e},O=(e,t)=>{const i=document.createElement("div");i.id=`sticky_sidebar_container${e}`,i.classList.add("pw-sticky");let n=0;if(t.navigationElement){const e=N();n=e,i.setAttribute("style",`top: ${n}px !important`)}const o=window.ramp.settings.slots["pw-oop-flex_leaderboard"];return o&&o.heightSticky?(n+=o.heightSticky,i.setAttribute("style",`top: ${n}px !important`)):window.PageOS.BUS.on("flex_leaderbaord_resized",(e=>{n+=e,i.setAttribute("style",`top: ${n}px !important`)}),!0),i},x=(e,t)=>{const i=t.rules.recreateAdHeight?t.rules.recreateAdHeight/100:1,n=document.createElement("div");return n.id=`sticky_wrapper_container${e}`,n.setAttribute("style",`height: ${window.innerHeight*i}px !important`),t.wrapperContainer=n,n},C=(e,t)=>{e.insertAdjacentElement("afterend",t)},M=(e,{unit:t,filteredSizes:i,customProperties:o})=>{let s=t.code;if(o){let t="";o.unitCode&&(s=(0,m.u1)(o.unitCode,e),t+=` Custom unitCode: ${s} | `),o.sizes&&(t+=" Custom sizes (filtered): ",i.forEach((e=>{t+=`[${e}]`}))),g.TH.info(`Defining customized GAM slot ${e} | ${t}`)}const r=window.googletag.defineSlot(s,i,e);r.setTargeting("pos","sticky_sidebar"),r.setTargeting("slot_id",e),r.setTargeting("refresh","false"),r.setTargeting("amazonBid","false");const a=t.path??t.section;return r.setTargeting("custom_path",a.replace(/CP\[|\]/g,"")),r.setTargeting("lld_id",(0,n.t3)()),r.addService(window.googletag.pubads()),r},T=()=>{s.sizeInfo={emptyArea:{sideBar:{},contextual:{}},contextualSizes:{},availableSpace:{}};const e=s.containerElement.getBoundingClientRect(),t=s.placement.getBoundingClientRect(),i=s.containerElement,n=window.getComputedStyle(i),o=s.placement,r=window.getComputedStyle(o);let a=0,d=0;return d=Math.round(e.bottom-t.bottom-parseFloat(n.paddingBottom)-parseFloat(r.paddingBottom)),a=i.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),s.sizeInfo.emptyArea.sideBar.width=a,s.sizeInfo.emptyArea.sideBar.height=d,d=j(),d-=N(),d-=W(),s.sizeInfo.emptyArea.contextual.height=d,d=Math.min(s.sizeInfo.emptyArea.sideBar.height,s.sizeInfo.emptyArea.contextual.height),s.sizeInfo.availableSpace={width:a,height:d},g.Ay.info("Sticky Sidebar available space",s.sizeInfo),{width:a,height:d}},B=()=>{const e=(s.rules.sizes||s.unit.sizes).filter((e=>e[0]<=s.availableSpace.width&&e[1]<s.availableSpace.height||"fluid"===e[0]));return g.Ay.info("Sticky Sidebar available sizes",e),e},z=()=>{const e=s.placement.getBoundingClientRect();return window.innerHeight-e.bottom>-500},D=()=>{const e=s.placement.getBoundingClientRect();return window.innerHeight-e.bottom>50},R=(e,t,i)=>{const n=((e,t)=>{let i=null;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>{e.apply(null,n)}),t)}})((()=>{var n,o;n=e,o=e=>{const n=i.containerElement?.getBoundingClientRect().height;isNaN(e)||e===t&&n>=e||(t=e,L(e))},new ResizeObserver((e=>{for(let t=0;t<e.length;t++){e[t];const i=getComputedStyle(n),s=parseFloat(i.paddingTop),r=parseFloat(i.paddingBottom),a=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth),l=n.clientHeight-s-r-a-d;o(l)}})).observe(n)}),400);window.removeEventListener("scroll",n),window.addEventListener("scroll",n)},U=e=>{let t=null;const i=document.querySelector((0,m.i7)(e.rules)),n=window.getComputedStyle(i);return t=i.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth),t},L=e=>{const t=e,i=s.containerElement;window.getComputedStyle(i);t&&i.setAttribute("style",`height: ${t}px !important`)},j=()=>{const e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return s.sizeInfo.contextualSizes.viewPortHeight=e,e},N=()=>{let e=0;return s.navigationElement?(s.navigationElement.forEach((t=>{e+=t.clientHeight})),s.sizeInfo.contextualSizes.navBarHeight=e,e):e},W=()=>{let e=0;s.sizeInfo.contextualSizes.cornerVideoHeight=0,s.sizeInfo.contextualSizes.bottomRailHeight=0;const t=Object.keys(window.ramp.settings.slots);for(let e=0;e<t.length;e++){const i=t[e],n=window.ramp.settings.slots[i];if("corner_ad_video"===n.type&&n.playerPosition.includes("bottom")){const e="corner_ad_video";if(document.getElementById(e)){const e=n.playerSize[1];s.sizeInfo.contextualSizes.cornerVideoHeight+=e}}else if("trendi"===n.content&&n.desktopLocation&&"corner"===n.desktopLocation&&n.location&&n.location.y&&"bottom"===n.location.y){const e="tyche_trendi_video_container";if(document.getElementById(e)&&n.size?.desktop){const e=n.size.desktop[1];s.sizeInfo.contextualSizes.cornerVideoHeight+=e}}else if("bottom_rail"===n.type){const e=V(n.config?.sizes);s.sizeInfo.contextualSizes.bottomRailHeight=e}}return e=Math.max(s.sizeInfo.contextualSizes.cornerVideoHeight,s.sizeInfo.contextualSizes.bottomRailHeight),e},V=e=>{let t=0;return e.forEach((([,e])=>{e&&e>t&&(t=e)})),t},$=e=>Array.from(e.children).reduce(((e,t)=>e+t.clientHeight),0)},3804:(e,t,i)=>{"use strict";i.d(t,{Go:()=>n,p1:()=>o});const n=function(e){const t=Array.isArray(e)?[]:{};for(const i in e){const o=e[i];t[i]=o&&"object"==typeof o?n(o):o}return t},o=(e,t,i)=>{i&&e.classList.remove(i),t&&e.classList.add(t)}},2384:(e,t,i)=>{"use strict";i.d(t,{CX:()=>p,Oq:()=>a,R3:()=>r,dk:()=>l,iz:()=>c,md:()=>s,q2:()=>m,ty:()=>d,yw:()=>g});var n=i(6170);let o=!1;function s(){r()||(0,n.A)({src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",async:!0,defer:!1,onload:()=>{o=!0}})}function r(){return window.google&&window.google.ima}function a(e){return new Promise((t=>{const i=new XMLHttpRequest,n=`//aax.amazon-adsystem.com/e/dtb/vast?b=${e.amzniid}&rnd=${Date.now()}&pp=${e.amznbid}`;i.open("GET",n,!0),i.onload=()=>{4===i.readyState&&200===i.status&&t(i.responseText)},i.onerror=()=>{t(null)},i.send()}))}function d(e){const t=c(e);if(!t)return;const{placement:i,plcmt:n}=m(e.rules,e.type),o=window.ramp.settings.isMobile?[2,3,5,6,7,8]:[2,3,5,6,7,8,13,14],s=window.ramp.settings.isMobile?[2]:[1,2];e.data.mediaTypes.video={context:"outstream",playerSize:t,mimes:["video/mp4","video/webm","video/ogg","application/x-mpegURL","application/javascript"],protocols:o,playbackmethod:[2],skip:1,linearity:1,api:s,plcmt:n,placement:i,minduration:5,maxduration:30,renderer:{url:g(),render:p,backupOnly:!1},skipmin:0,skipafter:0,skip:1,minbitrate:250,maxbitrate:4e3};const r=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;r&&r.debug(`[${e.data.code}] Added video config (Prebid.js)`),window.location.hash.toLowerCase().includes("videobiddersoverride")&&(e.data.bids.forEach((e=>{"appnexus"===e.bidder&&(e.params.placementId=13232385)})),r&&r.debug(`[${e.data.code}] Override AppNexus bidder PlacementID`))}function l(e){if(!(e&&e.data&&e.data.sizes&&Array.isArray(e.data.sizes)))return;e.data.sizes=e.data.sizes.filter((e=>7!==e[0]&&7!==e[1]));const t=c(e);if(!t)return;e.data.mediaType="multi-format",e.data.multiFormatProperties={display:{sizes:e.data.sizes},video:{sizes:[t]}},delete e.data.sizes;const i=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;i&&i.debug(`[${e.data.slotID}] Added video config (Amazon)`)}function c(e){if(!e||!e.data)return;let t=u(e.bannerSizes);return!t||e.minSizes&&(t[0]<e.minSizes[0]||t[1]<e.minSizes[1])?void 0:(e.maxSizes&&(t[0]>e.maxSizes[0]||t[1]>e.maxSizes[1])&&(t=u([e.maxSizes])),t)}function p(e){const t=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;if(e&&window.pwImaPlayerInitialization&&"function"==typeof window.pwImaPlayerInitialization){const i={},n=window.ramp.settings.slots[e.adUnitCode];if(!n)return void(t&&t.debug(`[${e?.adUnitCode}] Cannot render video, because ramp unit is undefined`));n&&n.closeButtonEnabled&&"function"==typeof n.__destroyUnit&&(i.closeButtonAction=n.__destroyUnit),"corner_ad_video"!==n.type&&"precontent_ad_video"!==n.type&&"in_content"!==n.type&&"rewarded_ad_video"!==n.type||(i.disableBackground=!0),"corner_ad_video"===n.type&&(i.closeBtnTime=n.closeBtnTime,i.isCornerVideo=!0,i.cornerVideoPosition=n.playerPosition),"precontent_ad_video"===n.type&&(i.isPrecontentVideo=!0),"rewarded_ad_video"===n.type&&(window.location.href.toLowerCase().includes("google_sample_tag=1")&&(i.showGoogleSampleTag=!0),window.location.href.toLowerCase().includes("google_sample_tag=blank")&&(i.showGoogleSampleTagBlank=!0),i.borderAnimationImg="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyODAgNDAiPg0KICA8c3R5bGU+DQogICAgaHRtbCB7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgfQ0KDQogICAgYm9keSB7DQogICAgICBtYXJnaW46IDA7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgICBjb2xvcjogIzIwMjAyMDsNCiAgICAgIGZvbnQtc2l6ZTogMWVtOw0KICAgICAgbGluZS1oZWlnaHQ6IDEuNTsNCiAgICB9DQoNCiAgICBzdmcgew0KICAgICAgd2lkdGg6IDI2MHB4Ow0KICAgICAgaGVpZ2h0OiAzMnB4Ow0KICAgICAgZmlsbDogbm9uZTsNCiAgICAgIHN0cm9rZTogIzNmYjVmNzsNCiAgICAgIHN0cm9rZS13aWR0aDogMC4yNWVtOw0KICAgICAgYW5pbWF0aW9uOiBkcmF3IDEwMDBtcyBlYXNlIGluZmluaXRlLCBjb2xvciAyMDAwbXMgc3RlcC1lbmQgaW5maW5pdGU7DQogICAgfQ0KDQogICAgQGtleWZyYW1lcyBkcmF3IHsNCiAgICAgIDAlIHsNCiAgICAgICAgc3Ryb2tlLWRhc2hvZmZzZXQ6IC05MDA7DQogICAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDkwMDsNCiAgICAgIH0NCiAgICAgIDcwJSB7DQogICAgICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAwOw0KICAgICAgICBzdHJva2UtZGFzaGFycmF5OiAzMDA7DQogICAgICB9DQogICAgICAxMDAlIHsNCiAgICAgICAgc3Ryb2tlLWRhc2hvZmZzZXQ6IDkwMDsNCiAgICAgICAgc3Ryb2tlLWRhc2hhcnJheTogOTAwOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIEBrZXlmcmFtZXMgY29sb3Igew0KICAgICAgMCUgew0KICAgICAgICBzdHJva2U6ICMzZmI1Zjc7DQogICAgICB9DQogICAgICA1MCUgew0KICAgICAgICBzdHJva2U6ICNmMTk0Mzc7DQogICAgICB9DQogICAgICAxMDAlIHsNCiAgICAgICAgc3Ryb2tlOiAjM2ZiNWY3Ow0KICAgICAgfQ0KICAgIH0NCiAgPC9zdHlsZT4NCiAgPHJlY3QgeD0iNSIgeT0iNSIgcng9IjYiIHJ5PSI2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHdpZHRoPSIyNjAiIGhlaWdodD0iMzIiIC8+DQo8L3N2Zz4=",i.isRewardedVideo=!0,i.viewPercentReward=e.viewPercentReward,i.podding=e.podding,i.duration=e.duration,i.numAds=e.numAds,i.hideCloseButtonUntilReward=n.hideCloseButtonUntilReward,i.rewardedVideoPlayListener=e=>{const t=()=>{"function"==typeof e&&e(),window.removeEventListener("userAcceptsRewardedAd",t)};window.addEventListener("userAcceptsRewardedAd",t)}),pwImaPlayerInitialization(e,i)}else t&&t.debug(`[${e?.adUnitCode}] Cannot render video, because renderer not loaded yet or bid is broken`)}function g(){return"https://cdn.intergient.com/pageos/V.2.4.34/videoPlayers/ima-based-player.js"}function u(e){const t=(e||[]).map(w);if(!t||!t.length)return[];let i;for(let e=0;e<t.length;e++){const n=t[e],o=n[0]*n[1];(!i||o>i[0]*i[1])&&(i=n)}return i}function w(e){let t;return t=e[0]/e[1]>16/9?e[1]/9:e[0]/16,[Math.floor(16*t),Math.floor(9*t)]}function m(e,t=null){if(t&&"in_content"!==t)return{placement:2,plcmt:4};const i=t&&"in_content"===t?3:5;return{placement:e?.placement?e.placement:i,plcmt:e?.plcmt?e.plcmt:4}}},8900:(e,t,i)=>{"use strict";i.d(t,{Mo:()=>r,OL:()=>l,RP:()=>u,Sp:()=>a,XA:()=>p,XV:()=>d});var n=i(8861),o=i(1620);const s=window.pwEdgeFlags&&"number"==typeof window.pwEdgeFlags.lazyThreshold&&window.pwEdgeFlags.lazyThreshold,r=e=>{const t=e.element.getBoundingClientRect().top,i="number"==typeof e.rules.lazyThreshold?e.rules.lazyThreshold:0,n=s||i;return t<window.innerHeight+n},a=e=>{const t=window.pageYOffset,i=window.pageYOffset+window.innerHeight,n=e.getBoundingClientRect(),o=n.y+window.pageYOffset,s=n.y+n.height+window.pageYOffset;if(t>s||i<o)return 0;if(t<o&&i>s)return 100;if(o<t&&s>i)return 100;const r=n.height;let a=r;o<t&&(a=r-(window.pageYOffset-o)),s>i&&(a-=s-i);const d=a/r*100;return Math.round(d)},d=(e,t)=>{const i=window.ramp.settings,o=i.slots[e],s=(o.viewability,o.inView),r=t>=50;if(void 0!==o&&(o.viewability=t,o.inView=r,o.slot.setTargeting("in_view",`${r}`),"rewarded_ad_video"!==o.type&&(0,n.Rk)(o),!1===s&&!0===r)){const t=parseInt(o.rules?.refresh?.inViewRefreshDelay,10)||void 0;t?setTimeout((()=>{r&&g(e,i.inViewDelayedRegistry)}),t):g(e,i.inViewDelayedRegistry)}},l=e=>{const t=document.getElementById(e);return t?(e=>{const t=e.getBoundingClientRect(),i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=t.width,s=t.height;let r=0,a=0;return r=t.top>=0&&t.top+s<n?s:t.top<0?s+t.top:n-t.top,a=t.left>=0&&t.left+o<i?o:t.left<0?o+t.left:i-t.left,r=Math.max(r,0),a=Math.max(a,0),a*r})(t):0},c=(e,t)=>{if(!e||!t)return 0;const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();let o=0;if(!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)){o=Math.max(0,Math.min(i.right,n.right)-Math.max(i.left,n.left))*Math.max(0,Math.min(i.bottom,n.bottom)-Math.max(i.top,n.top))}return o},p=e=>{const t=window.ramp.settings;let i=0;const n=Object.keys(window.ramp.settings.slots);for(let o=0;o<n.length;o++){const s=n[o],r=t.slots[s];r.viewability<0||"bottom_rail"===r.type||"left_rail"===r.type||"right_rail"===r.type||"trendi"===r.content||(i+=c(e,r.element))}return i},g=(e,t)=>{"object"==typeof t&&!0===t[e]&&(delete t[e],(0,o.UM)(e,!0))},u=e=>{if(!e)return!0;if("none"===e.style.display||"hidden"===e.style.visibility)return!0;for(;e.parentNode&&void 0!==e.parentNode.style;)if("none"===(e=e.parentNode).style.display||"hidden"===e.style.visibility)return!0;return!1}}},e=>{var t=t=>e(e.s=t),i=(t(6807),t(6517),t(9980));pageos=i}]);